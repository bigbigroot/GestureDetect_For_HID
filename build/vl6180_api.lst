ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 1


   1              		.cpu cortex-m7
   2              		.eabi_attribute 28, 1
   3              		.eabi_attribute 20, 1
   4              		.eabi_attribute 21, 1
   5              		.eabi_attribute 23, 3
   6              		.eabi_attribute 24, 1
   7              		.eabi_attribute 25, 1
   8              		.eabi_attribute 26, 1
   9              		.eabi_attribute 30, 1
  10              		.eabi_attribute 34, 1
  11              		.eabi_attribute 18, 4
  12              		.file	"vl6180_api.c"
  13              		.text
  14              	.Ltext0:
  15              		.cfi_sections	.debug_frame
  16              		.section	.text._filter_Init,"ax",%progbits
  17              		.align	1
  18              		.arch armv7e-m
  19              		.syntax unified
  20              		.thumb
  21              		.thumb_func
  22              		.fpu fpv5-d16
  24              	_filter_Init:
  25              	.LVL0:
  26              	.LFB49:
  27              		.file 1 "dev/BSP/Components/vl6180/vl6180_api.c"
   1:dev/BSP/Components/vl6180/vl6180_api.c **** /*******************************************************************************
   2:dev/BSP/Components/vl6180/vl6180_api.c **** Copyright © 2019, STMicroelectronics International N.V.
   3:dev/BSP/Components/vl6180/vl6180_api.c **** All rights reserved.
   4:dev/BSP/Components/vl6180/vl6180_api.c **** 
   5:dev/BSP/Components/vl6180/vl6180_api.c **** Redistribution and use in source and binary forms, with or without
   6:dev/BSP/Components/vl6180/vl6180_api.c **** modification, are permitted provided that the following conditions are met:
   7:dev/BSP/Components/vl6180/vl6180_api.c ****     * Redistributions of source code must retain the above copyright
   8:dev/BSP/Components/vl6180/vl6180_api.c ****       notice, this list of conditions and the following disclaimer.
   9:dev/BSP/Components/vl6180/vl6180_api.c ****     * Redistributions in binary form must reproduce the above copyright
  10:dev/BSP/Components/vl6180/vl6180_api.c ****       notice, this list of conditions and the following disclaimer in the
  11:dev/BSP/Components/vl6180/vl6180_api.c ****       documentation and/or other materials provided with the distribution.
  12:dev/BSP/Components/vl6180/vl6180_api.c ****     * Neither the name of STMicroelectronics nor the
  13:dev/BSP/Components/vl6180/vl6180_api.c ****       names of its contributors may be used to endorse or promote products
  14:dev/BSP/Components/vl6180/vl6180_api.c ****       derived from this software without specific prior written permission.
  15:dev/BSP/Components/vl6180/vl6180_api.c **** 
  16:dev/BSP/Components/vl6180/vl6180_api.c **** THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
  17:dev/BSP/Components/vl6180/vl6180_api.c **** ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
  18:dev/BSP/Components/vl6180/vl6180_api.c **** WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, AND
  19:dev/BSP/Components/vl6180/vl6180_api.c **** NON-INFRINGEMENT OF INTELLECTUAL PROPERTY RIGHTS ARE DISCLAIMED.
  20:dev/BSP/Components/vl6180/vl6180_api.c **** IN NO EVENT SHALL STMICROELECTRONICS INTERNATIONAL N.V. BE LIABLE FOR ANY
  21:dev/BSP/Components/vl6180/vl6180_api.c **** DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
  22:dev/BSP/Components/vl6180/vl6180_api.c **** (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
  23:dev/BSP/Components/vl6180/vl6180_api.c **** LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
  24:dev/BSP/Components/vl6180/vl6180_api.c **** ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
  25:dev/BSP/Components/vl6180/vl6180_api.c **** (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  26:dev/BSP/Components/vl6180/vl6180_api.c **** SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  27:dev/BSP/Components/vl6180/vl6180_api.c **** ********************************************************************************/
  28:dev/BSP/Components/vl6180/vl6180_api.c **** 
  29:dev/BSP/Components/vl6180/vl6180_api.c **** #include "vl6180_api.h"
  30:dev/BSP/Components/vl6180/vl6180_api.c **** 
  31:dev/BSP/Components/vl6180/vl6180_api.c **** #define VL6180_9to7Conv(x) (x)
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 2


  32:dev/BSP/Components/vl6180/vl6180_api.c **** 
  33:dev/BSP/Components/vl6180/vl6180_api.c **** /* TODO when set all "cached" value with "default init" are updated after init from register read b
  34:dev/BSP/Components/vl6180/vl6180_api.c **** #define REFRESH_CACHED_DATA_AFTER_INIT  1
  35:dev/BSP/Components/vl6180/vl6180_api.c **** 
  36:dev/BSP/Components/vl6180/vl6180_api.c **** 
  37:dev/BSP/Components/vl6180/vl6180_api.c **** #define IsValidGPIOFunction(x) ((x) == GPIOx_SELECT_GPIO_INTERRUPT_OUTPUT || (x) == GPIOx_SELECT_OF
  38:dev/BSP/Components/vl6180/vl6180_api.c **** 
  39:dev/BSP/Components/vl6180/vl6180_api.c **** 
  40:dev/BSP/Components/vl6180/vl6180_api.c **** /** default value ECE factor Molecular */
  41:dev/BSP/Components/vl6180/vl6180_api.c **** #define DEF_ECE_FACTOR_M    85
  42:dev/BSP/Components/vl6180/vl6180_api.c **** /** default value ECE factor Denominator */
  43:dev/BSP/Components/vl6180/vl6180_api.c **** #define DEF_ECE_FACTOR_D    100
  44:dev/BSP/Components/vl6180/vl6180_api.c **** /** default value for DMAX Enable */
  45:dev/BSP/Components/vl6180/vl6180_api.c **** #define DEF_DMAX_ENABLE     1
  46:dev/BSP/Components/vl6180/vl6180_api.c **** /** default ambient tuning factor %x1000 */
  47:dev/BSP/Components/vl6180/vl6180_api.c **** #define DEF_AMBIENT_TUNING  80
  48:dev/BSP/Components/vl6180/vl6180_api.c **** 
  49:dev/BSP/Components/vl6180/vl6180_api.c **** #define DEF_CROSS_TALK_VALID_HEIGHT_VALUE   20
  50:dev/BSP/Components/vl6180/vl6180_api.c **** 
  51:dev/BSP/Components/vl6180/vl6180_api.c **** 
  52:dev/BSP/Components/vl6180/vl6180_api.c **** #if VL6180_SINGLE_DEVICE_DRIVER
  53:dev/BSP/Components/vl6180/vl6180_api.c **** extern  struct VL6180DevData_t SingleVL6180DevData;
  54:dev/BSP/Components/vl6180/vl6180_api.c **** #define VL6180DevDataGet(dev, field) (SingleVL6180DevData.field)
  55:dev/BSP/Components/vl6180/vl6180_api.c **** #define VL6180DevDataSet(dev, field, data) SingleVL6180DevData.field = (data)
  56:dev/BSP/Components/vl6180/vl6180_api.c **** #endif
  57:dev/BSP/Components/vl6180/vl6180_api.c **** 
  58:dev/BSP/Components/vl6180/vl6180_api.c **** #define LUXRES_FIX_PREC 8
  59:dev/BSP/Components/vl6180/vl6180_api.c **** #define GAIN_FIX_PREC    8  /* ! if not sme as LUX_PREC then :( adjust GetLux */
  60:dev/BSP/Components/vl6180/vl6180_api.c **** #define AN_GAIN_MULT    (1 << GAIN_FIX_PREC)
  61:dev/BSP/Components/vl6180/vl6180_api.c **** 
  62:dev/BSP/Components/vl6180/vl6180_api.c **** 
  63:dev/BSP/Components/vl6180/vl6180_api.c **** static int32_t _GetAveTotalTime(VL6180Dev_t dev);
  64:dev/BSP/Components/vl6180/vl6180_api.c **** static int VL6180_RangeSetEarlyConvergenceEestimateThreshold(VL6180Dev_t dev);
  65:dev/BSP/Components/vl6180/vl6180_api.c **** 
  66:dev/BSP/Components/vl6180/vl6180_api.c **** /**
  67:dev/BSP/Components/vl6180/vl6180_api.c ****  * ScalerLookUP scaling factor-1 to register #RANGE_SCALER lookup
  68:dev/BSP/Components/vl6180/vl6180_api.c ****  */
  69:dev/BSP/Components/vl6180/vl6180_api.c **** static const uint16_t ScalerLookUP[]      ROMABLE_DATA = {253, 127, 84}; /* lookup table for scalin
  70:dev/BSP/Components/vl6180/vl6180_api.c **** /**
  71:dev/BSP/Components/vl6180/vl6180_api.c ****  * scaling factor to Upper limit look up
  72:dev/BSP/Components/vl6180/vl6180_api.c ****  */
  73:dev/BSP/Components/vl6180/vl6180_api.c **** static const uint16_t UpperLimitLookUP[]  ROMABLE_DATA = {185, 370, 580}; /* lookup table for scali
  74:dev/BSP/Components/vl6180/vl6180_api.c **** 
  75:dev/BSP/Components/vl6180/vl6180_api.c **** 
  76:dev/BSP/Components/vl6180/vl6180_api.c **** #if VL6180_RANGE_STATUS_ERRSTRING
  77:dev/BSP/Components/vl6180/vl6180_api.c **** const char *ROMABLE_DATA VL6180_RangeStatusErrString[] = {
  78:dev/BSP/Components/vl6180/vl6180_api.c **** 	"No Error",
  79:dev/BSP/Components/vl6180/vl6180_api.c **** 	"VCSEL Continuity Test",
  80:dev/BSP/Components/vl6180/vl6180_api.c **** 	"VCSEL Watchdog Test",
  81:dev/BSP/Components/vl6180/vl6180_api.c **** 	"VCSEL Watchdog",
  82:dev/BSP/Components/vl6180/vl6180_api.c **** 	"PLL1 Lock",
  83:dev/BSP/Components/vl6180/vl6180_api.c **** 	"PLL2 Lock",
  84:dev/BSP/Components/vl6180/vl6180_api.c **** 	"Early Convergence Estimate",
  85:dev/BSP/Components/vl6180/vl6180_api.c **** 	"Max Convergence",
  86:dev/BSP/Components/vl6180/vl6180_api.c **** 	"No Target Ignore",
  87:dev/BSP/Components/vl6180/vl6180_api.c **** 	"Not used 9",
  88:dev/BSP/Components/vl6180/vl6180_api.c **** 	"Not used 10",
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 3


  89:dev/BSP/Components/vl6180/vl6180_api.c **** 	"Max Signal To Noise Ratio",
  90:dev/BSP/Components/vl6180/vl6180_api.c **** 	"Raw Ranging Algo Underflow",
  91:dev/BSP/Components/vl6180/vl6180_api.c **** 	"Raw Ranging Algo Overflow",
  92:dev/BSP/Components/vl6180/vl6180_api.c **** 	"Ranging Algo Underflow",
  93:dev/BSP/Components/vl6180/vl6180_api.c **** 	"Ranging Algo Overflow",
  94:dev/BSP/Components/vl6180/vl6180_api.c **** 
  95:dev/BSP/Components/vl6180/vl6180_api.c **** 	"Filtered by post processing (WAF)",
  96:dev/BSP/Components/vl6180/vl6180_api.c **** 	"Ranging filtering (WAF) on-going",
  97:dev/BSP/Components/vl6180/vl6180_api.c **** 	"Data not ready",
  98:dev/BSP/Components/vl6180/vl6180_api.c **** };
  99:dev/BSP/Components/vl6180/vl6180_api.c **** 
 100:dev/BSP/Components/vl6180/vl6180_api.c **** const char *VL6180_RangeGetStatusErrString(uint8_t RangeErrCode)
 101:dev/BSP/Components/vl6180/vl6180_api.c **** {
 102:dev/BSP/Components/vl6180/vl6180_api.c **** 	if (RangeErrCode > sizeof(VL6180_RangeStatusErrString) / sizeof(VL6180_RangeStatusErrString[0]))
 103:dev/BSP/Components/vl6180/vl6180_api.c **** 		return NULL;
 104:dev/BSP/Components/vl6180/vl6180_api.c **** 	return  VL6180_RangeStatusErrString[RangeErrCode];
 105:dev/BSP/Components/vl6180/vl6180_api.c **** }
 106:dev/BSP/Components/vl6180/vl6180_api.c **** #endif
 107:dev/BSP/Components/vl6180/vl6180_api.c **** 
 108:dev/BSP/Components/vl6180/vl6180_api.c **** #if VL6180_UPSCALE_SUPPORT == 1
 109:dev/BSP/Components/vl6180/vl6180_api.c **** 	#define _GetUpscale(dev, ...)  1
 110:dev/BSP/Components/vl6180/vl6180_api.c **** 	#define _SetUpscale(...) -1
 111:dev/BSP/Components/vl6180/vl6180_api.c **** 	#define DEF_UPSCALE 1
 112:dev/BSP/Components/vl6180/vl6180_api.c **** #elif VL6180_UPSCALE_SUPPORT == 2
 113:dev/BSP/Components/vl6180/vl6180_api.c **** 	#define _GetUpscale(dev, ...)  2
 114:dev/BSP/Components/vl6180/vl6180_api.c **** 	#define _SetUpscale(...)
 115:dev/BSP/Components/vl6180/vl6180_api.c **** 	#define DEF_UPSCALE 2
 116:dev/BSP/Components/vl6180/vl6180_api.c **** #elif VL6180_UPSCALE_SUPPORT == 3
 117:dev/BSP/Components/vl6180/vl6180_api.c **** 	#define _GetUpscale(dev, ...)  3
 118:dev/BSP/Components/vl6180/vl6180_api.c **** 	#define _SetUpscale(...)
 119:dev/BSP/Components/vl6180/vl6180_api.c **** 	#define DEF_UPSCALE 3
 120:dev/BSP/Components/vl6180/vl6180_api.c **** #else
 121:dev/BSP/Components/vl6180/vl6180_api.c **** 	#define DEF_UPSCALE (-(VL6180_UPSCALE_SUPPORT))
 122:dev/BSP/Components/vl6180/vl6180_api.c **** 	#define _GetUpscale(dev, ...) VL6180DevDataGet(dev, UpscaleFactor)
 123:dev/BSP/Components/vl6180/vl6180_api.c **** 	#define _SetUpscale(dev, Scaling) VL6180DevDataSet(dev, UpscaleFactor, Scaling)
 124:dev/BSP/Components/vl6180/vl6180_api.c **** #endif
 125:dev/BSP/Components/vl6180/vl6180_api.c **** 
 126:dev/BSP/Components/vl6180/vl6180_api.c **** 
 127:dev/BSP/Components/vl6180/vl6180_api.c **** #if VL6180_SINGLE_DEVICE_DRIVER
 128:dev/BSP/Components/vl6180/vl6180_api.c **** /**
 129:dev/BSP/Components/vl6180/vl6180_api.c ****  * the unique driver data  When single device driver is active
 130:dev/BSP/Components/vl6180/vl6180_api.c ****  */
 131:dev/BSP/Components/vl6180/vl6180_api.c **** struct VL6180DevData_t VL6180_DEV_DATA_ATTR  SingleVL6180DevData = {
 132:dev/BSP/Components/vl6180/vl6180_api.c **** 	.EceFactorM        = DEF_ECE_FACTOR_M,
 133:dev/BSP/Components/vl6180/vl6180_api.c **** 	.EceFactorD        = DEF_ECE_FACTOR_D,
 134:dev/BSP/Components/vl6180/vl6180_api.c **** #ifdef VL6180_HAVE_UPSCALE_DATA
 135:dev/BSP/Components/vl6180/vl6180_api.c **** 	.UpscaleFactor     = DEF_UPSCALE,
 136:dev/BSP/Components/vl6180/vl6180_api.c **** #endif
 137:dev/BSP/Components/vl6180/vl6180_api.c **** #ifdef VL6180_HAVE_DMAX_RANGING
 138:dev/BSP/Components/vl6180/vl6180_api.c **** 	.DMaxEnable =   DEF_DMAX_ENABLE,
 139:dev/BSP/Components/vl6180/vl6180_api.c **** #endif
 140:dev/BSP/Components/vl6180/vl6180_api.c **** };
 141:dev/BSP/Components/vl6180/vl6180_api.c **** #endif /* VL6180_SINGLE_DEVICE_DRIVER */
 142:dev/BSP/Components/vl6180/vl6180_api.c **** 
 143:dev/BSP/Components/vl6180/vl6180_api.c **** 
 144:dev/BSP/Components/vl6180/vl6180_api.c **** 
 145:dev/BSP/Components/vl6180/vl6180_api.c **** #define Fix7_2_KCPs(x) ((((uint32_t)(x))*1000)>>7)
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 4


 146:dev/BSP/Components/vl6180/vl6180_api.c **** 
 147:dev/BSP/Components/vl6180/vl6180_api.c **** 
 148:dev/BSP/Components/vl6180/vl6180_api.c **** #if VL6180_WRAP_AROUND_FILTER_SUPPORT || VL6180_HAVE_DMAX_RANGING
 149:dev/BSP/Components/vl6180/vl6180_api.c **** static int _GetRateResult(VL6180Dev_t dev, VL6180_RangeData_t *pRangeData);
 150:dev/BSP/Components/vl6180/vl6180_api.c **** #endif
 151:dev/BSP/Components/vl6180/vl6180_api.c **** 
 152:dev/BSP/Components/vl6180/vl6180_api.c **** #if VL6180_WRAP_AROUND_FILTER_SUPPORT
 153:dev/BSP/Components/vl6180/vl6180_api.c **** static int _filter_Init(VL6180Dev_t dev);
 154:dev/BSP/Components/vl6180/vl6180_api.c **** static int _filter_GetResult(VL6180Dev_t dev, VL6180_RangeData_t *pData);
 155:dev/BSP/Components/vl6180/vl6180_api.c **** 	#define _IsWrapArroundActive(dev) VL6180DevDataGet(dev, WrapAroundFilterActive)
 156:dev/BSP/Components/vl6180/vl6180_api.c **** #else
 157:dev/BSP/Components/vl6180/vl6180_api.c **** 	#define _IsWrapArroundActive(dev) 0
 158:dev/BSP/Components/vl6180/vl6180_api.c **** #endif
 159:dev/BSP/Components/vl6180/vl6180_api.c **** 
 160:dev/BSP/Components/vl6180/vl6180_api.c **** 
 161:dev/BSP/Components/vl6180/vl6180_api.c **** #if VL6180_HAVE_DMAX_RANGING
 162:dev/BSP/Components/vl6180/vl6180_api.c **** 	void _DMax_OneTimeInit(VL6180Dev_t dev);
 163:dev/BSP/Components/vl6180/vl6180_api.c **** 	static int _DMax_InitData(VL6180Dev_t dev);
 164:dev/BSP/Components/vl6180/vl6180_api.c **** 	static int _DMax_Compute(VL6180Dev_t dev, VL6180_RangeData_t *pRange);
 165:dev/BSP/Components/vl6180/vl6180_api.c **** 	#define _IsDMaxActive(dev) VL6180DevDataGet(dev, DMaxEnable)
 166:dev/BSP/Components/vl6180/vl6180_api.c **** #else
 167:dev/BSP/Components/vl6180/vl6180_api.c **** 	#define _DMax_InitData(...) 0 /* success */
 168:dev/BSP/Components/vl6180/vl6180_api.c **** 	#define _DMax_OneTimeInit(...) (void)0
 169:dev/BSP/Components/vl6180/vl6180_api.c **** 	#define _IsDMaxActive(...) 0
 170:dev/BSP/Components/vl6180/vl6180_api.c **** #endif
 171:dev/BSP/Components/vl6180/vl6180_api.c **** 
 172:dev/BSP/Components/vl6180/vl6180_api.c **** static int VL6180_RangeStaticInit(VL6180Dev_t dev);
 173:dev/BSP/Components/vl6180/vl6180_api.c **** static int  VL6180_UpscaleStaticInit(VL6180Dev_t dev);
 174:dev/BSP/Components/vl6180/vl6180_api.c **** 
 175:dev/BSP/Components/vl6180/vl6180_api.c **** int VL6180_WaitDeviceBooted(VL6180Dev_t dev)
 176:dev/BSP/Components/vl6180/vl6180_api.c **** {
 177:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint8_t FreshOutReset;
 178:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
 179:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_START("");
 180:dev/BSP/Components/vl6180/vl6180_api.c **** 	do {
 181:dev/BSP/Components/vl6180/vl6180_api.c **** 		status = VL6180_RdByte(dev, SYSTEM_FRESH_OUT_OF_RESET, &FreshOutReset);
 182:dev/BSP/Components/vl6180/vl6180_api.c **** 	} while (FreshOutReset != 1 && status == 0);
 183:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_END(status);
 184:dev/BSP/Components/vl6180/vl6180_api.c **** 	return status;
 185:dev/BSP/Components/vl6180/vl6180_api.c **** }
 186:dev/BSP/Components/vl6180/vl6180_api.c **** 
 187:dev/BSP/Components/vl6180/vl6180_api.c **** int VL6180_InitData(VL6180Dev_t dev)
 188:dev/BSP/Components/vl6180/vl6180_api.c **** {
 189:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status, dmax_status ;
 190:dev/BSP/Components/vl6180/vl6180_api.c **** 	int8_t offset;
 191:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint8_t FreshOutReset;
 192:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint32_t CalValue;
 193:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint16_t u16;
 194:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint32_t XTalkCompRate_KCps;
 195:dev/BSP/Components/vl6180/vl6180_api.c **** 
 196:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_START("");
 197:dev/BSP/Components/vl6180/vl6180_api.c **** 
 198:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180DevDataSet(dev, EceFactorM, DEF_ECE_FACTOR_M);
 199:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180DevDataSet(dev, EceFactorD, DEF_ECE_FACTOR_D);
 200:dev/BSP/Components/vl6180/vl6180_api.c **** 
 201:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180DevDataSet(dev, RangeIgnore.Enabled, 0);
 202:dev/BSP/Components/vl6180/vl6180_api.c **** 
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 5


 203:dev/BSP/Components/vl6180/vl6180_api.c **** #ifdef VL6180_HAVE_UPSCALE_DATA
 204:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180DevDataSet(dev, UpscaleFactor,  DEF_UPSCALE);
 205:dev/BSP/Components/vl6180/vl6180_api.c **** #endif
 206:dev/BSP/Components/vl6180/vl6180_api.c **** 
 207:dev/BSP/Components/vl6180/vl6180_api.c **** #ifdef VL6180_HAVE_WRAP_AROUND_DATA
 208:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180DevDataSet(dev, WrapAroundFilterActive, (VL6180_WRAP_AROUND_FILTER_SUPPORT > 0));
 209:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180DevDataSet(dev, DMaxEnable, DEF_DMAX_ENABLE);
 210:dev/BSP/Components/vl6180/vl6180_api.c **** #endif
 211:dev/BSP/Components/vl6180/vl6180_api.c **** 
 212:dev/BSP/Components/vl6180/vl6180_api.c **** 	_DMax_OneTimeInit(dev);
 213:dev/BSP/Components/vl6180/vl6180_api.c **** 	do {
 214:dev/BSP/Components/vl6180/vl6180_api.c **** 
 215:dev/BSP/Components/vl6180/vl6180_api.c **** 		/* backup offset initial value from nvm these must be done prior any over call that use offset */
 216:dev/BSP/Components/vl6180/vl6180_api.c **** 		status = VL6180_RdByte(dev, SYSRANGE_PART_TO_PART_RANGE_OFFSET, (uint8_t *)&offset);
 217:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (status) {
 218:dev/BSP/Components/vl6180/vl6180_api.c **** 			VL6180_ErrLog("SYSRANGE_PART_TO_PART_RANGE_OFFSET rd fail");
 219:dev/BSP/Components/vl6180/vl6180_api.c **** 			break;
 220:dev/BSP/Components/vl6180/vl6180_api.c **** 		}
 221:dev/BSP/Components/vl6180/vl6180_api.c **** 		VL6180DevDataSet(dev, Part2PartOffsetNVM, offset);
 222:dev/BSP/Components/vl6180/vl6180_api.c **** 
 223:dev/BSP/Components/vl6180/vl6180_api.c **** 		status = VL6180_RdDWord(dev, SYSRANGE_RANGE_IGNORE_THRESHOLD, &CalValue);
 224:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (status) {
 225:dev/BSP/Components/vl6180/vl6180_api.c **** 			VL6180_ErrLog("Part2PartAmbNVM rd fail");
 226:dev/BSP/Components/vl6180/vl6180_api.c **** 			break;
 227:dev/BSP/Components/vl6180/vl6180_api.c **** 		}
 228:dev/BSP/Components/vl6180/vl6180_api.c **** 		if ((CalValue&0xFFFF0000) == 0) {
 229:dev/BSP/Components/vl6180/vl6180_api.c **** 			CalValue = 0x00CE03F8;
 230:dev/BSP/Components/vl6180/vl6180_api.c **** 		}
 231:dev/BSP/Components/vl6180/vl6180_api.c **** 		VL6180DevDataSet(dev, Part2PartAmbNVM, CalValue);
 232:dev/BSP/Components/vl6180/vl6180_api.c **** 
 233:dev/BSP/Components/vl6180/vl6180_api.c **** 		status = VL6180_RdWord(dev, SYSRANGE_CROSSTALK_COMPENSATION_RATE , &u16);
 234:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (status) {
 235:dev/BSP/Components/vl6180/vl6180_api.c **** 			VL6180_ErrLog("SYSRANGE_CROSSTALK_COMPENSATION_RATE rd fail ");
 236:dev/BSP/Components/vl6180/vl6180_api.c **** 			break;
 237:dev/BSP/Components/vl6180/vl6180_api.c **** 		}
 238:dev/BSP/Components/vl6180/vl6180_api.c **** 		XTalkCompRate_KCps = Fix7_2_KCPs(u16);
 239:dev/BSP/Components/vl6180/vl6180_api.c **** 		VL6180DevDataSet(dev, XTalkCompRate_KCps, XTalkCompRate_KCps);
 240:dev/BSP/Components/vl6180/vl6180_api.c **** 
 241:dev/BSP/Components/vl6180/vl6180_api.c **** 		dmax_status = _DMax_InitData(dev);
 242:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (dmax_status < 0) {
 243:dev/BSP/Components/vl6180/vl6180_api.c **** 			VL6180_ErrLog("DMax init failure");
 244:dev/BSP/Components/vl6180/vl6180_api.c **** 			break;
 245:dev/BSP/Components/vl6180/vl6180_api.c **** 		}
 246:dev/BSP/Components/vl6180/vl6180_api.c **** 
 247:dev/BSP/Components/vl6180/vl6180_api.c **** 		/* Read or wait for fresh out of reset  */
 248:dev/BSP/Components/vl6180/vl6180_api.c **** 		status = VL6180_RdByte(dev, SYSTEM_FRESH_OUT_OF_RESET, &FreshOutReset);
 249:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (status) {
 250:dev/BSP/Components/vl6180/vl6180_api.c **** 			VL6180_ErrLog("SYSTEM_FRESH_OUT_OF_RESET rd fail");
 251:dev/BSP/Components/vl6180/vl6180_api.c **** 			break;
 252:dev/BSP/Components/vl6180/vl6180_api.c **** 		}
 253:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (FreshOutReset != 1 || dmax_status)
 254:dev/BSP/Components/vl6180/vl6180_api.c **** 			status = CALIBRATION_WARNING;
 255:dev/BSP/Components/vl6180/vl6180_api.c **** 
 256:dev/BSP/Components/vl6180/vl6180_api.c **** 	} while (0);
 257:dev/BSP/Components/vl6180/vl6180_api.c **** 
 258:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_END(status);
 259:dev/BSP/Components/vl6180/vl6180_api.c **** 	return status;
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 6


 260:dev/BSP/Components/vl6180/vl6180_api.c **** }
 261:dev/BSP/Components/vl6180/vl6180_api.c **** 
 262:dev/BSP/Components/vl6180/vl6180_api.c **** int8_t VL6180_GetOffsetCalibrationData(VL6180Dev_t dev)
 263:dev/BSP/Components/vl6180/vl6180_api.c **** {
 264:dev/BSP/Components/vl6180/vl6180_api.c **** 	int8_t offset;
 265:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_START("");
 266:dev/BSP/Components/vl6180/vl6180_api.c **** 	offset = VL6180DevDataGet(dev, Part2PartOffsetNVM);
 267:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_END(offset);
 268:dev/BSP/Components/vl6180/vl6180_api.c **** 	return offset;
 269:dev/BSP/Components/vl6180/vl6180_api.c **** }
 270:dev/BSP/Components/vl6180/vl6180_api.c **** 
 271:dev/BSP/Components/vl6180/vl6180_api.c **** int  VL6180_SetOffsetCalibrationData(VL6180Dev_t dev, int8_t offset)
 272:dev/BSP/Components/vl6180/vl6180_api.c **** {
 273:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
 274:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_START("%d", offset);
 275:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180DevDataSet(dev, Part2PartOffsetNVM, offset);
 276:dev/BSP/Components/vl6180/vl6180_api.c **** 	offset /= _GetUpscale(dev);
 277:dev/BSP/Components/vl6180/vl6180_api.c **** 	status = VL6180_WrByte(dev, SYSRANGE_PART_TO_PART_RANGE_OFFSET, offset);
 278:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_END(status);
 279:dev/BSP/Components/vl6180/vl6180_api.c **** 	return status;
 280:dev/BSP/Components/vl6180/vl6180_api.c **** }
 281:dev/BSP/Components/vl6180/vl6180_api.c **** 
 282:dev/BSP/Components/vl6180/vl6180_api.c **** int  VL6180_SetXTalkCompensationRate(VL6180Dev_t dev, FixPoint97_t Rate)
 283:dev/BSP/Components/vl6180/vl6180_api.c **** {
 284:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
 285:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_START("%d", Rate);
 286:dev/BSP/Components/vl6180/vl6180_api.c **** 	status = VL6180_WrWord(dev, SYSRANGE_CROSSTALK_COMPENSATION_RATE, Rate);
 287:dev/BSP/Components/vl6180/vl6180_api.c **** 	if (status == 0) {
 288:dev/BSP/Components/vl6180/vl6180_api.c **** 		uint32_t XTalkCompRate_KCps;
 289:dev/BSP/Components/vl6180/vl6180_api.c **** 		XTalkCompRate_KCps = Fix7_2_KCPs(Rate);
 290:dev/BSP/Components/vl6180/vl6180_api.c **** 		VL6180DevDataSet(dev, XTalkCompRate_KCps, XTalkCompRate_KCps);
 291:dev/BSP/Components/vl6180/vl6180_api.c **** 		/* update dmax whenever xtalk rate changes */
 292:dev/BSP/Components/vl6180/vl6180_api.c **** 		status = _DMax_InitData(dev);
 293:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
 294:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_END(status);
 295:dev/BSP/Components/vl6180/vl6180_api.c **** 	return status;
 296:dev/BSP/Components/vl6180/vl6180_api.c **** }
 297:dev/BSP/Components/vl6180/vl6180_api.c **** 
 298:dev/BSP/Components/vl6180/vl6180_api.c **** int VL6180_SetI2CAddress(VL6180Dev_t dev, uint8_t NewAddress)
 299:dev/BSP/Components/vl6180/vl6180_api.c **** {
 300:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
 301:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_START("");
 302:dev/BSP/Components/vl6180/vl6180_api.c **** 
 303:dev/BSP/Components/vl6180/vl6180_api.c **** 	status = VL6180_WrByte(dev, I2C_SLAVE_DEVICE_ADDRESS, NewAddress / 2);
 304:dev/BSP/Components/vl6180/vl6180_api.c **** 	if (status) {
 305:dev/BSP/Components/vl6180/vl6180_api.c **** 		VL6180_ErrLog("new i2c addr Wr fail");
 306:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
 307:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_END(status);
 308:dev/BSP/Components/vl6180/vl6180_api.c **** 	return status;
 309:dev/BSP/Components/vl6180/vl6180_api.c **** }
 310:dev/BSP/Components/vl6180/vl6180_api.c **** 
 311:dev/BSP/Components/vl6180/vl6180_api.c **** uint16_t VL6180_GetUpperLimit(VL6180Dev_t dev)
 312:dev/BSP/Components/vl6180/vl6180_api.c **** {
 313:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint16_t limit;
 314:dev/BSP/Components/vl6180/vl6180_api.c **** 	int scaling;
 315:dev/BSP/Components/vl6180/vl6180_api.c **** 
 316:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_START("");
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 7


 317:dev/BSP/Components/vl6180/vl6180_api.c **** 
 318:dev/BSP/Components/vl6180/vl6180_api.c **** 	scaling = _GetUpscale(dev);
 319:dev/BSP/Components/vl6180/vl6180_api.c **** 	/* FIXME we do assume here _GetUpscale is valid if  user call us prior to init we may overflow the
 320:dev/BSP/Components/vl6180/vl6180_api.c **** 	limit = UpperLimitLookUP[scaling - 1];
 321:dev/BSP/Components/vl6180/vl6180_api.c **** 
 322:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_END((int)limit);
 323:dev/BSP/Components/vl6180/vl6180_api.c **** 	return limit;
 324:dev/BSP/Components/vl6180/vl6180_api.c **** }
 325:dev/BSP/Components/vl6180/vl6180_api.c **** 
 326:dev/BSP/Components/vl6180/vl6180_api.c **** 
 327:dev/BSP/Components/vl6180/vl6180_api.c **** 
 328:dev/BSP/Components/vl6180/vl6180_api.c **** int VL6180_StaticInit(VL6180Dev_t dev)
 329:dev/BSP/Components/vl6180/vl6180_api.c **** {
 330:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status = 0, init_status;
 331:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_START("");
 332:dev/BSP/Components/vl6180/vl6180_api.c **** 
 333:dev/BSP/Components/vl6180/vl6180_api.c **** 	/* TODO doc When using configurable scaling but using 1x as start condition
 334:dev/BSP/Components/vl6180/vl6180_api.c **** 	 * load tunning upscale  or not ??? */
 335:dev/BSP/Components/vl6180/vl6180_api.c **** 	if (_GetUpscale(dev) == 1 && !(VL6180_UPSCALE_SUPPORT < 0))
 336:dev/BSP/Components/vl6180/vl6180_api.c **** 		init_status = VL6180_RangeStaticInit(dev);
 337:dev/BSP/Components/vl6180/vl6180_api.c **** 	else
 338:dev/BSP/Components/vl6180/vl6180_api.c **** 		init_status = VL6180_UpscaleStaticInit(dev);
 339:dev/BSP/Components/vl6180/vl6180_api.c **** 
 340:dev/BSP/Components/vl6180/vl6180_api.c **** 	if (init_status < 0) {
 341:dev/BSP/Components/vl6180/vl6180_api.c **** 		VL6180_ErrLog("StaticInit fail");
 342:dev/BSP/Components/vl6180/vl6180_api.c **** 		goto error;
 343:dev/BSP/Components/vl6180/vl6180_api.c **** 	} else if (init_status > 0) {
 344:dev/BSP/Components/vl6180/vl6180_api.c **** 		VL6180_ErrLog("StaticInit warning");
 345:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
 346:dev/BSP/Components/vl6180/vl6180_api.c **** 
 347:dev/BSP/Components/vl6180/vl6180_api.c **** 	if (status < 0) {
 348:dev/BSP/Components/vl6180/vl6180_api.c **** 		VL6180_ErrLog("StaticInit fail");
 349:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
 350:dev/BSP/Components/vl6180/vl6180_api.c **** 	if (!status && init_status) {
 351:dev/BSP/Components/vl6180/vl6180_api.c **** 		status = init_status;
 352:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
 353:dev/BSP/Components/vl6180/vl6180_api.c **** error:
 354:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_END(status);
 355:dev/BSP/Components/vl6180/vl6180_api.c **** 	return status;
 356:dev/BSP/Components/vl6180/vl6180_api.c **** }
 357:dev/BSP/Components/vl6180/vl6180_api.c **** 
 358:dev/BSP/Components/vl6180/vl6180_api.c **** 
 359:dev/BSP/Components/vl6180/vl6180_api.c **** int VL6180_SetGroupParamHold(VL6180Dev_t dev, int Hold)
 360:dev/BSP/Components/vl6180/vl6180_api.c **** {
 361:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
 362:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint8_t value;
 363:dev/BSP/Components/vl6180/vl6180_api.c **** 
 364:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_START("%d", Hold);
 365:dev/BSP/Components/vl6180/vl6180_api.c **** 	if (Hold)
 366:dev/BSP/Components/vl6180/vl6180_api.c **** 		value = 1;
 367:dev/BSP/Components/vl6180/vl6180_api.c **** 	else
 368:dev/BSP/Components/vl6180/vl6180_api.c **** 		value = 0;
 369:dev/BSP/Components/vl6180/vl6180_api.c **** 	status = VL6180_WrByte(dev, SYSTEM_GROUPED_PARAMETER_HOLD, value);
 370:dev/BSP/Components/vl6180/vl6180_api.c **** 
 371:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_END(status);
 372:dev/BSP/Components/vl6180/vl6180_api.c **** 	return status;
 373:dev/BSP/Components/vl6180/vl6180_api.c **** 
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 8


 374:dev/BSP/Components/vl6180/vl6180_api.c **** }
 375:dev/BSP/Components/vl6180/vl6180_api.c **** 
 376:dev/BSP/Components/vl6180/vl6180_api.c **** int VL6180_Prepare(VL6180Dev_t dev)
 377:dev/BSP/Components/vl6180/vl6180_api.c **** {
 378:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
 379:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_START("");
 380:dev/BSP/Components/vl6180/vl6180_api.c **** 
 381:dev/BSP/Components/vl6180/vl6180_api.c **** 	do {
 382:dev/BSP/Components/vl6180/vl6180_api.c **** 		status = VL6180_StaticInit(dev);
 383:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (status < 0)
 384:dev/BSP/Components/vl6180/vl6180_api.c **** 			break;
 385:dev/BSP/Components/vl6180/vl6180_api.c **** 
 386:dev/BSP/Components/vl6180/vl6180_api.c **** 		/* set range InterruptMode to new sample */
 387:dev/BSP/Components/vl6180/vl6180_api.c **** 		status = VL6180_RangeConfigInterrupt(dev, CONFIG_GPIO_INTERRUPT_NEW_SAMPLE_READY);
 388:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (status)
 389:dev/BSP/Components/vl6180/vl6180_api.c **** 			break;
 390:dev/BSP/Components/vl6180/vl6180_api.c **** 
 391:dev/BSP/Components/vl6180/vl6180_api.c **** 		/* set default threshold */
 392:dev/BSP/Components/vl6180/vl6180_api.c **** 		status = VL6180_RangeSetRawThresholds(dev, 10, 200);
 393:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (status) {
 394:dev/BSP/Components/vl6180/vl6180_api.c **** 			VL6180_ErrLog("VL6180_RangeSetRawThresholds fail");
 395:dev/BSP/Components/vl6180/vl6180_api.c **** 			break;
 396:dev/BSP/Components/vl6180/vl6180_api.c **** 		}
 397:dev/BSP/Components/vl6180/vl6180_api.c **** 	#if VL6180_WRAP_AROUND_FILTER_SUPPORT
 398:dev/BSP/Components/vl6180/vl6180_api.c **** 		_filter_Init(dev);
 399:dev/BSP/Components/vl6180/vl6180_api.c **** 	#endif
 400:dev/BSP/Components/vl6180/vl6180_api.c **** 		/* make sure to reset any left previous condition that can hangs first poll */
 401:dev/BSP/Components/vl6180/vl6180_api.c **** 		status = VL6180_ClearAllInterrupt(dev);
 402:dev/BSP/Components/vl6180/vl6180_api.c **** 	} while (0);
 403:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_END(status);
 404:dev/BSP/Components/vl6180/vl6180_api.c **** 
 405:dev/BSP/Components/vl6180/vl6180_api.c **** 	return status;
 406:dev/BSP/Components/vl6180/vl6180_api.c **** }
 407:dev/BSP/Components/vl6180/vl6180_api.c **** 
 408:dev/BSP/Components/vl6180/vl6180_api.c **** 
 409:dev/BSP/Components/vl6180/vl6180_api.c **** int VL6180_RangePollMeasurement(VL6180Dev_t dev, VL6180_RangeData_t *pRangeData)
 410:dev/BSP/Components/vl6180/vl6180_api.c **** {
 411:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
 412:dev/BSP/Components/vl6180/vl6180_api.c **** 	int ClrStatus;
 413:dev/BSP/Components/vl6180/vl6180_api.c **** 	IntrStatus_t IntStatus;
 414:dev/BSP/Components/vl6180/vl6180_api.c **** 
 415:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_START("");
 416:dev/BSP/Components/vl6180/vl6180_api.c **** 	/* start single range measurement */
 417:dev/BSP/Components/vl6180/vl6180_api.c **** 
 418:dev/BSP/Components/vl6180/vl6180_api.c **** 
 419:dev/BSP/Components/vl6180/vl6180_api.c **** 	#if VL6180_SAFE_POLLING_ENTER
 420:dev/BSP/Components/vl6180/vl6180_api.c **** 	/* if device get stopped with left interrupt uncleared , it is required to clear them now or poll 
 421:dev/BSP/Components/vl6180/vl6180_api.c **** 	status = VL6180_RangeClearInterrupt(dev);
 422:dev/BSP/Components/vl6180/vl6180_api.c **** 	if (status) {
 423:dev/BSP/Components/vl6180/vl6180_api.c **** 		VL6180_ErrLog("VL6180_RangeClearInterrupt fail");
 424:dev/BSP/Components/vl6180/vl6180_api.c **** 		goto done;
 425:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
 426:dev/BSP/Components/vl6180/vl6180_api.c **** 	#endif
 427:dev/BSP/Components/vl6180/vl6180_api.c **** 	/* //![single_shot_snipet] */
 428:dev/BSP/Components/vl6180/vl6180_api.c **** 	status = VL6180_RangeSetSystemMode(dev, MODE_START_STOP | MODE_SINGLESHOT);
 429:dev/BSP/Components/vl6180/vl6180_api.c **** 	if (status) {
 430:dev/BSP/Components/vl6180/vl6180_api.c **** 		VL6180_ErrLog("VL6180_RangeSetSystemMode fail");
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 9


 431:dev/BSP/Components/vl6180/vl6180_api.c **** 		goto done;
 432:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
 433:dev/BSP/Components/vl6180/vl6180_api.c **** 
 434:dev/BSP/Components/vl6180/vl6180_api.c **** 
 435:dev/BSP/Components/vl6180/vl6180_api.c **** 	/* poll for new sample ready */
 436:dev/BSP/Components/vl6180/vl6180_api.c **** 	while (1) {
 437:dev/BSP/Components/vl6180/vl6180_api.c **** 		status = VL6180_RangeGetInterruptStatus(dev, &IntStatus.val);
 438:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (status) {
 439:dev/BSP/Components/vl6180/vl6180_api.c **** 			break;
 440:dev/BSP/Components/vl6180/vl6180_api.c **** 		}
 441:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (IntStatus.status.Range == RES_INT_STAT_GPIO_NEW_SAMPLE_READY || IntStatus.status.Error != 0) 
 442:dev/BSP/Components/vl6180/vl6180_api.c **** 			break;
 443:dev/BSP/Components/vl6180/vl6180_api.c **** 		}
 444:dev/BSP/Components/vl6180/vl6180_api.c **** 
 445:dev/BSP/Components/vl6180/vl6180_api.c **** 		VL6180_PollDelay(dev);
 446:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
 447:dev/BSP/Components/vl6180/vl6180_api.c **** 	/* //![single_shot_snipet] */
 448:dev/BSP/Components/vl6180/vl6180_api.c **** 
 449:dev/BSP/Components/vl6180/vl6180_api.c **** 	if (!status) {
 450:dev/BSP/Components/vl6180/vl6180_api.c **** 		status = VL6180_RangeGetMeasurement(dev, pRangeData);
 451:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
 452:dev/BSP/Components/vl6180/vl6180_api.c **** 
 453:dev/BSP/Components/vl6180/vl6180_api.c **** 	/*  clear range interrupt source */
 454:dev/BSP/Components/vl6180/vl6180_api.c **** 	ClrStatus = VL6180_RangeClearInterrupt(dev);
 455:dev/BSP/Components/vl6180/vl6180_api.c **** 	if (ClrStatus) {
 456:dev/BSP/Components/vl6180/vl6180_api.c **** 		VL6180_ErrLog("VL6180_RangeClearInterrupt fail");
 457:dev/BSP/Components/vl6180/vl6180_api.c **** 		/*  leave initial status if already in error  */
 458:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (!status) {
 459:dev/BSP/Components/vl6180/vl6180_api.c **** 			status = ClrStatus;
 460:dev/BSP/Components/vl6180/vl6180_api.c **** 		}
 461:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
 462:dev/BSP/Components/vl6180/vl6180_api.c **** done:
 463:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_END(status);
 464:dev/BSP/Components/vl6180/vl6180_api.c **** 	return status;
 465:dev/BSP/Components/vl6180/vl6180_api.c **** }
 466:dev/BSP/Components/vl6180/vl6180_api.c **** 
 467:dev/BSP/Components/vl6180/vl6180_api.c **** 
 468:dev/BSP/Components/vl6180/vl6180_api.c **** #if VL6180_CACHED_REG
 469:dev/BSP/Components/vl6180/vl6180_api.c **** 
 470:dev/BSP/Components/vl6180/vl6180_api.c **** int VL6180_GetCachedDWord(VL6180Dev_t dev, uint16_t  index, uint32_t *pValue)
 471:dev/BSP/Components/vl6180/vl6180_api.c **** {
 472:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
 473:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint32_t Value;
 474:dev/BSP/Components/vl6180/vl6180_api.c **** 	if (VL6180DevDataGet(dev, CacheFilled) != 0 &&
 475:dev/BSP/Components/vl6180/vl6180_api.c **** 		index >= VL6180_FIRST_CACHED_INDEX  &&
 476:dev/BSP/Components/vl6180/vl6180_api.c **** 		index <= (VL6180_LAST_CACHED_INDEX - 3)) {
 477:dev/BSP/Components/vl6180/vl6180_api.c **** 		uint8_t *pBytes = &VL6180DevDataGet(dev, CachedRegs[index - VL6180_FIRST_CACHED_INDEX]);
 478:dev/BSP/Components/vl6180/vl6180_api.c **** 		Value = ((uint32_t)pBytes[0] << 24) |
 479:dev/BSP/Components/vl6180/vl6180_api.c **** 				((uint32_t)pBytes[1] << 16) |
 480:dev/BSP/Components/vl6180/vl6180_api.c **** 				((uint32_t)pBytes[2] << 8) |
 481:dev/BSP/Components/vl6180/vl6180_api.c **** 				(uint32_t)pBytes[3];
 482:dev/BSP/Components/vl6180/vl6180_api.c **** 		*pValue = Value;
 483:dev/BSP/Components/vl6180/vl6180_api.c **** 		status = 0;
 484:dev/BSP/Components/vl6180/vl6180_api.c **** 	} else {
 485:dev/BSP/Components/vl6180/vl6180_api.c **** 		status =  VL6180_RdDWord(dev, index, pValue);
 486:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
 487:dev/BSP/Components/vl6180/vl6180_api.c **** 	return status;
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 10


 488:dev/BSP/Components/vl6180/vl6180_api.c **** }
 489:dev/BSP/Components/vl6180/vl6180_api.c **** 
 490:dev/BSP/Components/vl6180/vl6180_api.c **** int VL6180_GetCachedWord(VL6180Dev_t dev, uint16_t  index, uint16_t *pValue)
 491:dev/BSP/Components/vl6180/vl6180_api.c **** {
 492:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
 493:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint32_t Value;
 494:dev/BSP/Components/vl6180/vl6180_api.c **** 	if (VL6180DevDataGet(dev, CacheFilled) != 0 &&
 495:dev/BSP/Components/vl6180/vl6180_api.c **** 		index >= VL6180_FIRST_CACHED_INDEX  &&
 496:dev/BSP/Components/vl6180/vl6180_api.c **** 		index <= (VL6180_LAST_CACHED_INDEX - 1)) {
 497:dev/BSP/Components/vl6180/vl6180_api.c **** 		uint8_t *pBytes = &VL6180DevDataGet(dev, CachedRegs[index - VL6180_FIRST_CACHED_INDEX]);
 498:dev/BSP/Components/vl6180/vl6180_api.c **** 		Value = ((uint32_t)pBytes[0] << 8) | (uint32_t)pBytes[1];
 499:dev/BSP/Components/vl6180/vl6180_api.c **** 		*pValue = Value;
 500:dev/BSP/Components/vl6180/vl6180_api.c **** 		status = 0;
 501:dev/BSP/Components/vl6180/vl6180_api.c **** 	} else {
 502:dev/BSP/Components/vl6180/vl6180_api.c **** 		status =  VL6180_RdWord(dev, index, pValue);
 503:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
 504:dev/BSP/Components/vl6180/vl6180_api.c **** 	return status;
 505:dev/BSP/Components/vl6180/vl6180_api.c **** }
 506:dev/BSP/Components/vl6180/vl6180_api.c **** 
 507:dev/BSP/Components/vl6180/vl6180_api.c **** int VL6180_GetCachedByte(VL6180Dev_t dev, uint16_t  index, uint8_t *pValue)
 508:dev/BSP/Components/vl6180/vl6180_api.c **** {
 509:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
 510:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint8_t Value;
 511:dev/BSP/Components/vl6180/vl6180_api.c **** 	if (VL6180DevDataGet(dev, CacheFilled) != 0 &&
 512:dev/BSP/Components/vl6180/vl6180_api.c **** 		index >= VL6180_FIRST_CACHED_INDEX &&
 513:dev/BSP/Components/vl6180/vl6180_api.c **** 		index <= VL6180_LAST_CACHED_INDEX) {
 514:dev/BSP/Components/vl6180/vl6180_api.c **** 		Value = VL6180DevDataGet(dev, CachedRegs[index - VL6180_FIRST_CACHED_INDEX]);
 515:dev/BSP/Components/vl6180/vl6180_api.c **** 		*pValue = Value;
 516:dev/BSP/Components/vl6180/vl6180_api.c **** 		status = 0;
 517:dev/BSP/Components/vl6180/vl6180_api.c **** 	} else {
 518:dev/BSP/Components/vl6180/vl6180_api.c **** 		status =  VL6180_RdByte(dev, index, pValue);
 519:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
 520:dev/BSP/Components/vl6180/vl6180_api.c **** 	return status;
 521:dev/BSP/Components/vl6180/vl6180_api.c **** }
 522:dev/BSP/Components/vl6180/vl6180_api.c **** 
 523:dev/BSP/Components/vl6180/vl6180_api.c **** 
 524:dev/BSP/Components/vl6180/vl6180_api.c **** int _CachedRegs_Fetch(VL6180Dev_t dev)
 525:dev/BSP/Components/vl6180/vl6180_api.c **** {
 526:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
 527:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint8_t *Buffer;
 528:dev/BSP/Components/vl6180/vl6180_api.c **** 	if (VL6180DevDataGet(dev, CacheFilled) == 0) {
 529:dev/BSP/Components/vl6180/vl6180_api.c **** 		VL6180DevDataSet(dev, CacheFilled, 1);
 530:dev/BSP/Components/vl6180/vl6180_api.c **** 		Buffer = &VL6180DevDataGet(dev, CachedRegs[0]);
 531:dev/BSP/Components/vl6180/vl6180_api.c **** 		status = VL6180_RdMulti(dev, VL6180_FIRST_CACHED_INDEX, Buffer, VL6180_CACHED_REG_CNT);
 532:dev/BSP/Components/vl6180/vl6180_api.c **** 	} else {
 533:dev/BSP/Components/vl6180/vl6180_api.c **** 		status = 0 ;
 534:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
 535:dev/BSP/Components/vl6180/vl6180_api.c **** 	return status;
 536:dev/BSP/Components/vl6180/vl6180_api.c **** }
 537:dev/BSP/Components/vl6180/vl6180_api.c **** 
 538:dev/BSP/Components/vl6180/vl6180_api.c **** void _CachedRegs_Flush(VL6180Dev_t dev)
 539:dev/BSP/Components/vl6180/vl6180_api.c **** {
 540:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180DevDataSet(dev, CacheFilled, 0);
 541:dev/BSP/Components/vl6180/vl6180_api.c **** }
 542:dev/BSP/Components/vl6180/vl6180_api.c **** 
 543:dev/BSP/Components/vl6180/vl6180_api.c **** #else
 544:dev/BSP/Components/vl6180/vl6180_api.c **** #   define _CachedRegs_Fetch(...) 0
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 11


 545:dev/BSP/Components/vl6180/vl6180_api.c **** #   define _CachedRegs_Flush(...) (void)0
 546:dev/BSP/Components/vl6180/vl6180_api.c **** #   define _Fetch_CachedRegs(...) 0
 547:dev/BSP/Components/vl6180/vl6180_api.c **** #   define VL6180_GetCachedByte(dev, index, pValue) VL6180_RdByte(dev, index, pValue)
 548:dev/BSP/Components/vl6180/vl6180_api.c **** #   define VL6180_GetCachedWord(dev, index, pValue) VL6180_RdWord(dev, index, pValue)
 549:dev/BSP/Components/vl6180/vl6180_api.c **** #   define VL6180_GetCachedDWord(dev, index, pValue) VL6180_RdDWord(dev, index, pValue)
 550:dev/BSP/Components/vl6180/vl6180_api.c **** #endif /* VL6180_CACHED_REG */
 551:dev/BSP/Components/vl6180/vl6180_api.c **** 
 552:dev/BSP/Components/vl6180/vl6180_api.c **** 
 553:dev/BSP/Components/vl6180/vl6180_api.c **** 
 554:dev/BSP/Components/vl6180/vl6180_api.c **** int VL6180_RangeGetMeasurement(VL6180Dev_t dev, VL6180_RangeData_t *pRangeData)
 555:dev/BSP/Components/vl6180/vl6180_api.c **** {
 556:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
 557:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint16_t RawRate;
 558:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint8_t RawStatus;
 559:dev/BSP/Components/vl6180/vl6180_api.c **** 
 560:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_START("");
 561:dev/BSP/Components/vl6180/vl6180_api.c **** 
 562:dev/BSP/Components/vl6180/vl6180_api.c **** 	status = _CachedRegs_Fetch(dev);
 563:dev/BSP/Components/vl6180/vl6180_api.c **** 	if (status) {
 564:dev/BSP/Components/vl6180/vl6180_api.c **** 		VL6180_ErrLog("Cache register read fail");
 565:dev/BSP/Components/vl6180/vl6180_api.c **** 		goto error;
 566:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
 567:dev/BSP/Components/vl6180/vl6180_api.c **** 	status = VL6180_RangeGetResult(dev, &pRangeData->range_mm);
 568:dev/BSP/Components/vl6180/vl6180_api.c **** 	if (!status) {
 569:dev/BSP/Components/vl6180/vl6180_api.c **** 		status = VL6180_GetCachedWord(dev, RESULT_RANGE_SIGNAL_RATE, &RawRate);
 570:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (!status) {
 571:dev/BSP/Components/vl6180/vl6180_api.c **** 			pRangeData->signalRate_mcps = VL6180_9to7Conv(RawRate);
 572:dev/BSP/Components/vl6180/vl6180_api.c **** 			status = VL6180_GetCachedByte(dev, RESULT_RANGE_STATUS, &RawStatus);
 573:dev/BSP/Components/vl6180/vl6180_api.c **** 			if (!status) {
 574:dev/BSP/Components/vl6180/vl6180_api.c **** 				pRangeData->errorStatus = RawStatus >> 4;
 575:dev/BSP/Components/vl6180/vl6180_api.c **** 			} else {
 576:dev/BSP/Components/vl6180/vl6180_api.c **** 				VL6180_ErrLog("Rd RESULT_RANGE_STATUS fail");
 577:dev/BSP/Components/vl6180/vl6180_api.c **** 			}
 578:dev/BSP/Components/vl6180/vl6180_api.c **** 	#if VL6180_WRAP_AROUND_FILTER_SUPPORT || VL6180_HAVE_DMAX_RANGING
 579:dev/BSP/Components/vl6180/vl6180_api.c **** 			status = _GetRateResult(dev, pRangeData);
 580:dev/BSP/Components/vl6180/vl6180_api.c **** 			if (status)
 581:dev/BSP/Components/vl6180/vl6180_api.c **** 				goto error;
 582:dev/BSP/Components/vl6180/vl6180_api.c **** 	#endif
 583:dev/BSP/Components/vl6180/vl6180_api.c **** 	#if VL6180_WRAP_AROUND_FILTER_SUPPORT
 584:dev/BSP/Components/vl6180/vl6180_api.c **** 			/* if enabled run filter */
 585:dev/BSP/Components/vl6180/vl6180_api.c **** 			if (_IsWrapArroundActive(dev)) {
 586:dev/BSP/Components/vl6180/vl6180_api.c **** 				status = _filter_GetResult(dev, pRangeData);
 587:dev/BSP/Components/vl6180/vl6180_api.c **** 				if (!status) {
 588:dev/BSP/Components/vl6180/vl6180_api.c **** 					/* patch the range status and measure if it is filtered */
 589:dev/BSP/Components/vl6180/vl6180_api.c **** 					if(pRangeData->FilteredData.filterError != NoError) {
 590:dev/BSP/Components/vl6180/vl6180_api.c **** 						pRangeData->errorStatus = pRangeData->FilteredData.filterError;
 591:dev/BSP/Components/vl6180/vl6180_api.c **** 						pRangeData->range_mm = pRangeData->FilteredData.range_mm;
 592:dev/BSP/Components/vl6180/vl6180_api.c **** 					}
 593:dev/BSP/Components/vl6180/vl6180_api.c **** 				}
 594:dev/BSP/Components/vl6180/vl6180_api.c **** 			}
 595:dev/BSP/Components/vl6180/vl6180_api.c **** 	#endif
 596:dev/BSP/Components/vl6180/vl6180_api.c **** 
 597:dev/BSP/Components/vl6180/vl6180_api.c **** 	#if VL6180_HAVE_DMAX_RANGING
 598:dev/BSP/Components/vl6180/vl6180_api.c **** 			if (_IsDMaxActive(dev)) {
 599:dev/BSP/Components/vl6180/vl6180_api.c **** 				_DMax_Compute(dev, pRangeData);
 600:dev/BSP/Components/vl6180/vl6180_api.c **** 			}
 601:dev/BSP/Components/vl6180/vl6180_api.c **** 	#endif
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 12


 602:dev/BSP/Components/vl6180/vl6180_api.c **** 		} else {
 603:dev/BSP/Components/vl6180/vl6180_api.c **** 		    VL6180_ErrLog("Rd RESULT_RANGE_SIGNAL_RATE fail");
 604:dev/BSP/Components/vl6180/vl6180_api.c **** 		}
 605:dev/BSP/Components/vl6180/vl6180_api.c **** 	} else {
 606:dev/BSP/Components/vl6180/vl6180_api.c **** 		VL6180_ErrLog("VL6180_GetRangeResult fail");
 607:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
 608:dev/BSP/Components/vl6180/vl6180_api.c **** error:
 609:dev/BSP/Components/vl6180/vl6180_api.c **** 	_CachedRegs_Flush(dev);
 610:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_END_FMT(status, "%d %d %d", (int)pRangeData->range_mm, (int)pRangeData->signalRate_mc
 611:dev/BSP/Components/vl6180/vl6180_api.c **** 	return status;
 612:dev/BSP/Components/vl6180/vl6180_api.c **** }
 613:dev/BSP/Components/vl6180/vl6180_api.c **** 
 614:dev/BSP/Components/vl6180/vl6180_api.c **** 
 615:dev/BSP/Components/vl6180/vl6180_api.c **** int VL6180_RangeGetMeasurementIfReady(VL6180Dev_t dev, VL6180_RangeData_t *pRangeData)
 616:dev/BSP/Components/vl6180/vl6180_api.c **** {
 617:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
 618:dev/BSP/Components/vl6180/vl6180_api.c **** 	IntrStatus_t IntStatus;
 619:dev/BSP/Components/vl6180/vl6180_api.c **** 
 620:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_START();
 621:dev/BSP/Components/vl6180/vl6180_api.c **** 	status = VL6180_RangeGetInterruptStatus(dev, &IntStatus.val);
 622:dev/BSP/Components/vl6180/vl6180_api.c **** 	if (status == 0) {
 623:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (IntStatus.status.Range == RES_INT_STAT_GPIO_NEW_SAMPLE_READY ||
 624:dev/BSP/Components/vl6180/vl6180_api.c **** 			IntStatus.status.Error != 0) {
 625:dev/BSP/Components/vl6180/vl6180_api.c **** 			status = VL6180_RangeGetMeasurement(dev, pRangeData);
 626:dev/BSP/Components/vl6180/vl6180_api.c **** 			if (status == 0) {
 627:dev/BSP/Components/vl6180/vl6180_api.c **** 				/*  clear range interrupt source */
 628:dev/BSP/Components/vl6180/vl6180_api.c **** 				status = VL6180_RangeClearInterrupt(dev);
 629:dev/BSP/Components/vl6180/vl6180_api.c **** 				if (status) {
 630:dev/BSP/Components/vl6180/vl6180_api.c **** 					VL6180_ErrLog("VL6180_RangeClearInterrupt fail");
 631:dev/BSP/Components/vl6180/vl6180_api.c **** 				}
 632:dev/BSP/Components/vl6180/vl6180_api.c **** 			}
 633:dev/BSP/Components/vl6180/vl6180_api.c **** 		} else {
 634:dev/BSP/Components/vl6180/vl6180_api.c **** 			pRangeData->errorStatus = DataNotReady;
 635:dev/BSP/Components/vl6180/vl6180_api.c **** 		}
 636:dev/BSP/Components/vl6180/vl6180_api.c **** 	} else {
 637:dev/BSP/Components/vl6180/vl6180_api.c **** 		VL6180_ErrLog("fail to get interrupt status");
 638:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
 639:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_END(status) ;
 640:dev/BSP/Components/vl6180/vl6180_api.c **** 	return status;
 641:dev/BSP/Components/vl6180/vl6180_api.c **** }
 642:dev/BSP/Components/vl6180/vl6180_api.c **** 
 643:dev/BSP/Components/vl6180/vl6180_api.c **** int VL6180_FilterSetState(VL6180Dev_t dev, int state)
 644:dev/BSP/Components/vl6180/vl6180_api.c **** {
 645:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
 646:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_START("%d", state);
 647:dev/BSP/Components/vl6180/vl6180_api.c **** 	#if VL6180_WRAP_AROUND_FILTER_SUPPORT
 648:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180DevDataSet(dev, WrapAroundFilterActive, state);
 649:dev/BSP/Components/vl6180/vl6180_api.c **** 	status = 0;
 650:dev/BSP/Components/vl6180/vl6180_api.c **** 	#else
 651:dev/BSP/Components/vl6180/vl6180_api.c **** 	status =  NOT_SUPPORTED;
 652:dev/BSP/Components/vl6180/vl6180_api.c **** 	#endif
 653:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_END(status);
 654:dev/BSP/Components/vl6180/vl6180_api.c **** 	return status;
 655:dev/BSP/Components/vl6180/vl6180_api.c **** }
 656:dev/BSP/Components/vl6180/vl6180_api.c **** 
 657:dev/BSP/Components/vl6180/vl6180_api.c **** int VL6180_FilterGetState(VL6180Dev_t dev)
 658:dev/BSP/Components/vl6180/vl6180_api.c **** {
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 13


 659:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
 660:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_START("");
 661:dev/BSP/Components/vl6180/vl6180_api.c **** 	#if VL6180_WRAP_AROUND_FILTER_SUPPORT
 662:dev/BSP/Components/vl6180/vl6180_api.c **** 	status = VL6180DevDataGet(dev, WrapAroundFilterActive);
 663:dev/BSP/Components/vl6180/vl6180_api.c **** 	#else
 664:dev/BSP/Components/vl6180/vl6180_api.c **** 	status = 0;
 665:dev/BSP/Components/vl6180/vl6180_api.c **** 	#endif
 666:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_END(status);
 667:dev/BSP/Components/vl6180/vl6180_api.c **** 	return status;
 668:dev/BSP/Components/vl6180/vl6180_api.c **** }
 669:dev/BSP/Components/vl6180/vl6180_api.c **** 
 670:dev/BSP/Components/vl6180/vl6180_api.c **** int VL6180_RangeGetResult(VL6180Dev_t dev, int32_t *pRange_mm)
 671:dev/BSP/Components/vl6180/vl6180_api.c **** {
 672:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
 673:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint8_t RawRange;
 674:dev/BSP/Components/vl6180/vl6180_api.c **** 	int32_t Upscale;
 675:dev/BSP/Components/vl6180/vl6180_api.c **** 
 676:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_START("%p", pRange_mm);
 677:dev/BSP/Components/vl6180/vl6180_api.c **** 
 678:dev/BSP/Components/vl6180/vl6180_api.c **** 	status = VL6180_GetCachedByte(dev, RESULT_RANGE_VAL, &RawRange);
 679:dev/BSP/Components/vl6180/vl6180_api.c **** 	if (!status) {
 680:dev/BSP/Components/vl6180/vl6180_api.c **** 		Upscale = _GetUpscale(dev);
 681:dev/BSP/Components/vl6180/vl6180_api.c **** 		*pRange_mm = Upscale * (int32_t)RawRange;
 682:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
 683:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_END_FMT(status, "%d", (int)*pRange_mm);
 684:dev/BSP/Components/vl6180/vl6180_api.c **** 	return status;
 685:dev/BSP/Components/vl6180/vl6180_api.c **** }
 686:dev/BSP/Components/vl6180/vl6180_api.c **** 
 687:dev/BSP/Components/vl6180/vl6180_api.c **** int VL6180_RangeSetRawThresholds(VL6180Dev_t dev, uint8_t low, uint8_t high)
 688:dev/BSP/Components/vl6180/vl6180_api.c **** {
 689:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
 690:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_START("%d %d", (int) low, (int)high);
 691:dev/BSP/Components/vl6180/vl6180_api.c **** 	/* TODO we can optimize here grouping high/low in a word but that's cpu endianness dependent */
 692:dev/BSP/Components/vl6180/vl6180_api.c **** 	status = VL6180_WrByte(dev, SYSRANGE_THRESH_HIGH, high);
 693:dev/BSP/Components/vl6180/vl6180_api.c **** 	if (!status) {
 694:dev/BSP/Components/vl6180/vl6180_api.c **** 		status = VL6180_WrByte(dev, SYSRANGE_THRESH_LOW, low);
 695:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
 696:dev/BSP/Components/vl6180/vl6180_api.c **** 
 697:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_END(status);
 698:dev/BSP/Components/vl6180/vl6180_api.c **** 	return status;
 699:dev/BSP/Components/vl6180/vl6180_api.c **** }
 700:dev/BSP/Components/vl6180/vl6180_api.c **** 
 701:dev/BSP/Components/vl6180/vl6180_api.c **** int VL6180_RangeSetThresholds(VL6180Dev_t dev, uint16_t low, uint16_t high, int UseSafeParamHold)
 702:dev/BSP/Components/vl6180/vl6180_api.c **** {
 703:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
 704:dev/BSP/Components/vl6180/vl6180_api.c **** 	int scale;
 705:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_START("%d %d", (int) low, (int)high);
 706:dev/BSP/Components/vl6180/vl6180_api.c **** 	scale = _GetUpscale(dev, UpscaleFactor);
 707:dev/BSP/Components/vl6180/vl6180_api.c **** 	if (low > scale * 255 || high > scale * 255) {
 708:dev/BSP/Components/vl6180/vl6180_api.c **** 		status = INVALID_PARAMS;
 709:dev/BSP/Components/vl6180/vl6180_api.c **** 	} else {
 710:dev/BSP/Components/vl6180/vl6180_api.c **** 		do {
 711:dev/BSP/Components/vl6180/vl6180_api.c **** 			if (UseSafeParamHold) {
 712:dev/BSP/Components/vl6180/vl6180_api.c **** 				status = VL6180_SetGroupParamHold(dev, 1);
 713:dev/BSP/Components/vl6180/vl6180_api.c **** 				if (status)
 714:dev/BSP/Components/vl6180/vl6180_api.c **** 					break;
 715:dev/BSP/Components/vl6180/vl6180_api.c **** 		    }
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 14


 716:dev/BSP/Components/vl6180/vl6180_api.c **** 		    status = VL6180_RangeSetRawThresholds(dev, (uint8_t)(low / scale), (uint8_t)(high / scale));
 717:dev/BSP/Components/vl6180/vl6180_api.c **** 		    if (status) {
 718:dev/BSP/Components/vl6180/vl6180_api.c **** 				VL6180_ErrLog("VL6180_RangeSetRawThresholds fail");
 719:dev/BSP/Components/vl6180/vl6180_api.c **** 		    }
 720:dev/BSP/Components/vl6180/vl6180_api.c **** 		    if (UseSafeParamHold) {
 721:dev/BSP/Components/vl6180/vl6180_api.c **** 				int HoldStatus;
 722:dev/BSP/Components/vl6180/vl6180_api.c **** 				/* tryt to unset param hold vene if previous fail */
 723:dev/BSP/Components/vl6180/vl6180_api.c **** 				HoldStatus = VL6180_SetGroupParamHold(dev, 0);
 724:dev/BSP/Components/vl6180/vl6180_api.c **** 				if (!status)
 725:dev/BSP/Components/vl6180/vl6180_api.c **** 					status = HoldStatus;
 726:dev/BSP/Components/vl6180/vl6180_api.c **** 		    }
 727:dev/BSP/Components/vl6180/vl6180_api.c **** 		} while (0);
 728:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
 729:dev/BSP/Components/vl6180/vl6180_api.c **** 
 730:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_END(status);
 731:dev/BSP/Components/vl6180/vl6180_api.c **** 	return status;
 732:dev/BSP/Components/vl6180/vl6180_api.c **** }
 733:dev/BSP/Components/vl6180/vl6180_api.c **** 
 734:dev/BSP/Components/vl6180/vl6180_api.c **** 
 735:dev/BSP/Components/vl6180/vl6180_api.c **** int VL6180_RangeGetThresholds(VL6180Dev_t dev, uint16_t *low, uint16_t *high)
 736:dev/BSP/Components/vl6180/vl6180_api.c **** {
 737:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status = 0;
 738:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint8_t RawLow, RawHigh;
 739:dev/BSP/Components/vl6180/vl6180_api.c **** 	int scale;
 740:dev/BSP/Components/vl6180/vl6180_api.c **** 
 741:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_START("%p %p", low , high);
 742:dev/BSP/Components/vl6180/vl6180_api.c **** 
 743:dev/BSP/Components/vl6180/vl6180_api.c **** 	scale = _GetUpscale(dev, UpscaleFactor);
 744:dev/BSP/Components/vl6180/vl6180_api.c **** 	do {
 745:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (high != NULL) {
 746:dev/BSP/Components/vl6180/vl6180_api.c **** 			status = VL6180_RdByte(dev, SYSRANGE_THRESH_HIGH, &RawHigh);
 747:dev/BSP/Components/vl6180/vl6180_api.c **** 			if (status) {
 748:dev/BSP/Components/vl6180/vl6180_api.c **** 				VL6180_ErrLog("rd SYSRANGE_THRESH_HIGH fail");
 749:dev/BSP/Components/vl6180/vl6180_api.c **** 				break;
 750:dev/BSP/Components/vl6180/vl6180_api.c **** 			}
 751:dev/BSP/Components/vl6180/vl6180_api.c **** 			*high = (uint16_t)RawHigh * scale;
 752:dev/BSP/Components/vl6180/vl6180_api.c **** 		}
 753:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (low != NULL) {
 754:dev/BSP/Components/vl6180/vl6180_api.c **** 		    status = VL6180_RdByte(dev, SYSRANGE_THRESH_LOW, &RawLow);
 755:dev/BSP/Components/vl6180/vl6180_api.c **** 			if (status) {
 756:dev/BSP/Components/vl6180/vl6180_api.c **** 				VL6180_ErrLog("rd SYSRANGE_THRESH_LOW fail");
 757:dev/BSP/Components/vl6180/vl6180_api.c **** 				break;
 758:dev/BSP/Components/vl6180/vl6180_api.c **** 		    }
 759:dev/BSP/Components/vl6180/vl6180_api.c **** 		    *low = (uint16_t)RawLow * scale;
 760:dev/BSP/Components/vl6180/vl6180_api.c **** 		}
 761:dev/BSP/Components/vl6180/vl6180_api.c **** 	} while (0);
 762:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_END_FMT(status, "%d %d", (int)*low , (int)*high);
 763:dev/BSP/Components/vl6180/vl6180_api.c **** 	return status;
 764:dev/BSP/Components/vl6180/vl6180_api.c **** }
 765:dev/BSP/Components/vl6180/vl6180_api.c **** 
 766:dev/BSP/Components/vl6180/vl6180_api.c **** 
 767:dev/BSP/Components/vl6180/vl6180_api.c **** int VL6180_RangeGetInterruptStatus(VL6180Dev_t dev, uint8_t *pIntStatus)
 768:dev/BSP/Components/vl6180/vl6180_api.c **** {
 769:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
 770:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint8_t IntStatus;
 771:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_START("%p", pIntStatus);
 772:dev/BSP/Components/vl6180/vl6180_api.c **** 	/* FIXME we are grouping "error" with over status the user must check implicitly for it
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 15


 773:dev/BSP/Components/vl6180/vl6180_api.c **** 	 * not just new sample or over status , that will nevr show up in case of error*/
 774:dev/BSP/Components/vl6180/vl6180_api.c **** 	status = VL6180_GetCachedByte(dev, RESULT_INTERRUPT_STATUS_GPIO, &IntStatus);
 775:dev/BSP/Components/vl6180/vl6180_api.c **** 	*pIntStatus = IntStatus & 0xC7;
 776:dev/BSP/Components/vl6180/vl6180_api.c **** 
 777:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_END_FMT(status, "%d", (int)*pIntStatus);
 778:dev/BSP/Components/vl6180/vl6180_api.c **** 	return status;
 779:dev/BSP/Components/vl6180/vl6180_api.c **** }
 780:dev/BSP/Components/vl6180/vl6180_api.c **** 
 781:dev/BSP/Components/vl6180/vl6180_api.c **** 
 782:dev/BSP/Components/vl6180/vl6180_api.c **** int VL6180_GetInterruptStatus(VL6180Dev_t dev, uint8_t *IntStatus)
 783:dev/BSP/Components/vl6180/vl6180_api.c **** {
 784:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
 785:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_START("%p" , IntStatus);
 786:dev/BSP/Components/vl6180/vl6180_api.c **** 	status = VL6180_RdByte(dev, RESULT_INTERRUPT_STATUS_GPIO, IntStatus);
 787:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_END_FMT(status, "%d", (int)*IntStatus);
 788:dev/BSP/Components/vl6180/vl6180_api.c **** 	return status;
 789:dev/BSP/Components/vl6180/vl6180_api.c **** }
 790:dev/BSP/Components/vl6180/vl6180_api.c **** 
 791:dev/BSP/Components/vl6180/vl6180_api.c **** int VL6180_ClearInterrupt(VL6180Dev_t dev, uint8_t IntClear)
 792:dev/BSP/Components/vl6180/vl6180_api.c **** {
 793:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
 794:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_START("%d", (int)IntClear);
 795:dev/BSP/Components/vl6180/vl6180_api.c **** 	if (IntClear <= 7) {
 796:dev/BSP/Components/vl6180/vl6180_api.c **** 		status = VL6180_WrByte(dev, SYSTEM_INTERRUPT_CLEAR, IntClear);
 797:dev/BSP/Components/vl6180/vl6180_api.c **** 	} else {
 798:dev/BSP/Components/vl6180/vl6180_api.c **** 		status = INVALID_PARAMS;
 799:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
 800:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_END(status);
 801:dev/BSP/Components/vl6180/vl6180_api.c **** 	return status;
 802:dev/BSP/Components/vl6180/vl6180_api.c **** }
 803:dev/BSP/Components/vl6180/vl6180_api.c **** 
 804:dev/BSP/Components/vl6180/vl6180_api.c **** 
 805:dev/BSP/Components/vl6180/vl6180_api.c **** static int VL6180_RangeStaticInit(VL6180Dev_t dev)
 806:dev/BSP/Components/vl6180/vl6180_api.c **** {
 807:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
 808:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_START("");
 809:dev/BSP/Components/vl6180/vl6180_api.c **** 
 810:dev/BSP/Components/vl6180/vl6180_api.c **** 	/* REGISTER_TUNING_SR03_270514_CustomerView.txt */
 811:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180_WrByte(dev, 0x0207, 0x01);
 812:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180_WrByte(dev, 0x0208, 0x01);
 813:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180_WrByte(dev, 0x0096, 0x00);
 814:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180_WrByte(dev, 0x0097, 0xfd);
 815:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180_WrByte(dev, 0x00e3, 0x00);
 816:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180_WrByte(dev, 0x00e4, 0x04);
 817:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180_WrByte(dev, 0x00e5, 0x02);
 818:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180_WrByte(dev, 0x00e6, 0x01);
 819:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180_WrByte(dev, 0x00e7, 0x03);
 820:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180_WrByte(dev, 0x00f5, 0x02);
 821:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180_WrByte(dev, 0x00d9, 0x05);
 822:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180_WrByte(dev, 0x00db, 0xce);
 823:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180_WrByte(dev, 0x00dc, 0x03);
 824:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180_WrByte(dev, 0x00dd, 0xf8);
 825:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180_WrByte(dev, 0x009f, 0x00);
 826:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180_WrByte(dev, 0x00a3, 0x3c);
 827:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180_WrByte(dev, 0x00b7, 0x00);
 828:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180_WrByte(dev, 0x00bb, 0x3c);
 829:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180_WrByte(dev, 0x00b2, 0x09);
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 16


 830:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180_WrByte(dev, 0x00ca, 0x09);
 831:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180_WrByte(dev, 0x0198, 0x01);
 832:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180_WrByte(dev, 0x01b0, 0x17);
 833:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180_WrByte(dev, 0x01ad, 0x00);
 834:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180_WrByte(dev, 0x00ff, 0x05);
 835:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180_WrByte(dev, 0x0100, 0x05);
 836:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180_WrByte(dev, 0x0199, 0x05);
 837:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180_WrByte(dev, 0x01a6, 0x1b);
 838:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180_WrByte(dev, 0x01ac, 0x3e);
 839:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180_WrByte(dev, 0x01a7, 0x1f);
 840:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180_WrByte(dev, 0x0030, 0x00);
 841:dev/BSP/Components/vl6180/vl6180_api.c **** 
 842:dev/BSP/Components/vl6180/vl6180_api.c **** 	/* Recommended : Public registers - See data sheet for more detail */
 843:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180_WrByte(dev, 0x0011, 0x10); /* Enables polling for New Sample ready when measurement complet
 844:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180_WrByte(dev, 0x010a, 0x30); /* Set the averaging sample period (compromise between lower noi
 845:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180_WrByte(dev, 0x003f, 0x46); /* Sets the light and dark gain (upper nibble). Dark gain should
 846:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180_WrByte(dev, 0x0031, 0xFF); /* sets the # of range measurements after which auto calibration
 847:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180_WrByte(dev, 0x002e, 0x01); /* perform a single temperature calibration of the ranging senso
 848:dev/BSP/Components/vl6180/vl6180_api.c **** 
 849:dev/BSP/Components/vl6180/vl6180_api.c **** 	/* Optional: Public registers - See data sheet for more detail */
 850:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180_WrByte(dev, 0x001b, 0x09); /* Set default ranging inter-measurement period to 100ms */
 851:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180_WrByte(dev, 0x0014, 0x24); /* Configures interrupt on New sample ready */
 852:dev/BSP/Components/vl6180/vl6180_api.c **** 
 853:dev/BSP/Components/vl6180/vl6180_api.c **** 
 854:dev/BSP/Components/vl6180/vl6180_api.c **** 	status = VL6180_RangeSetMaxConvergenceTime(dev, 50); /*  Calculate ece value on initialization (us
 855:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_END(status);
 856:dev/BSP/Components/vl6180/vl6180_api.c **** 
 857:dev/BSP/Components/vl6180/vl6180_api.c **** 	return status;
 858:dev/BSP/Components/vl6180/vl6180_api.c **** }
 859:dev/BSP/Components/vl6180/vl6180_api.c **** 
 860:dev/BSP/Components/vl6180/vl6180_api.c **** #if VL6180_UPSCALE_SUPPORT != 1
 861:dev/BSP/Components/vl6180/vl6180_api.c **** 
 862:dev/BSP/Components/vl6180/vl6180_api.c **** static int _UpscaleInitPatch0(VL6180Dev_t dev)
 863:dev/BSP/Components/vl6180/vl6180_api.c **** {
 864:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
 865:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint32_t CalValue = 0;
 866:dev/BSP/Components/vl6180/vl6180_api.c **** 	CalValue = VL6180DevDataGet(dev, Part2PartAmbNVM);
 867:dev/BSP/Components/vl6180/vl6180_api.c **** 	status = VL6180_WrDWord(dev, 0xDA, CalValue);
 868:dev/BSP/Components/vl6180/vl6180_api.c **** 	return status;
 869:dev/BSP/Components/vl6180/vl6180_api.c **** }
 870:dev/BSP/Components/vl6180/vl6180_api.c **** 
 871:dev/BSP/Components/vl6180/vl6180_api.c **** /* only include up-scaling register setting when up-scale support is configured in */
 872:dev/BSP/Components/vl6180/vl6180_api.c **** int VL6180_UpscaleRegInit(VL6180Dev_t dev)
 873:dev/BSP/Components/vl6180/vl6180_api.c **** {
 874:dev/BSP/Components/vl6180/vl6180_api.c **** 	/*  apply REGISTER_TUNING_ER02_100614_CustomerView.txt */
 875:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180_WrByte(dev, 0x0207, 0x01);
 876:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180_WrByte(dev, 0x0208, 0x01);
 877:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180_WrByte(dev, 0x0096, 0x00);
 878:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180_WrByte(dev, 0x0097, 0x54);
 879:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180_WrByte(dev, 0x00e3, 0x00);
 880:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180_WrByte(dev, 0x00e4, 0x04);
 881:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180_WrByte(dev, 0x00e5, 0x02);
 882:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180_WrByte(dev, 0x00e6, 0x01);
 883:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180_WrByte(dev, 0x00e7, 0x03);
 884:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180_WrByte(dev, 0x00f5, 0x02);
 885:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180_WrByte(dev, 0x00d9, 0x05);
 886:dev/BSP/Components/vl6180/vl6180_api.c **** 
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 17


 887:dev/BSP/Components/vl6180/vl6180_api.c **** 	_UpscaleInitPatch0(dev);
 888:dev/BSP/Components/vl6180/vl6180_api.c **** 
 889:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180_WrByte(dev, 0x009f, 0x00);
 890:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180_WrByte(dev, 0x00a3, 0x28);
 891:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180_WrByte(dev, 0x00b7, 0x00);
 892:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180_WrByte(dev, 0x00bb, 0x28);
 893:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180_WrByte(dev, 0x00b2, 0x09);
 894:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180_WrByte(dev, 0x00ca, 0x09);
 895:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180_WrByte(dev, 0x0198, 0x01);
 896:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180_WrByte(dev, 0x01b0, 0x17);
 897:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180_WrByte(dev, 0x01ad, 0x00);
 898:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180_WrByte(dev, 0x00ff, 0x05);
 899:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180_WrByte(dev, 0x0100, 0x05);
 900:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180_WrByte(dev, 0x0199, 0x05);
 901:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180_WrByte(dev, 0x01a6, 0x1b);
 902:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180_WrByte(dev, 0x01ac, 0x3e);
 903:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180_WrByte(dev, 0x01a7, 0x1f);
 904:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180_WrByte(dev, 0x0030, 0x00);
 905:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180_WrByte(dev, 0x0011, 0x10);
 906:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180_WrByte(dev, 0x010a, 0x30);
 907:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180_WrByte(dev, 0x003f, 0x46);
 908:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180_WrByte(dev, 0x0031, 0xFF);
 909:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180_WrByte(dev, 0x0040, 0x63);
 910:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180_WrByte(dev, 0x002e, 0x01);
 911:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180_WrByte(dev, 0x002c, 0xff);
 912:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180_WrByte(dev, 0x001b, 0x09);
 913:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180_WrByte(dev, 0x003e, 0x31);
 914:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180_WrByte(dev, 0x0014, 0x24);
 915:dev/BSP/Components/vl6180/vl6180_api.c **** #if VL6180_EXTENDED_RANGE
 916:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180_RangeSetMaxConvergenceTime(dev, 63);
 917:dev/BSP/Components/vl6180/vl6180_api.c **** #else
 918:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180_RangeSetMaxConvergenceTime(dev, 50);
 919:dev/BSP/Components/vl6180/vl6180_api.c **** #endif
 920:dev/BSP/Components/vl6180/vl6180_api.c **** 	return 0;
 921:dev/BSP/Components/vl6180/vl6180_api.c **** }
 922:dev/BSP/Components/vl6180/vl6180_api.c **** #else
 923:dev/BSP/Components/vl6180/vl6180_api.c **** #define VL6180_UpscaleRegInit(...) -1
 924:dev/BSP/Components/vl6180/vl6180_api.c **** #endif
 925:dev/BSP/Components/vl6180/vl6180_api.c **** 
 926:dev/BSP/Components/vl6180/vl6180_api.c **** int VL6180_UpscaleSetScaling(VL6180Dev_t dev, uint8_t scaling)
 927:dev/BSP/Components/vl6180/vl6180_api.c **** {
 928:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
 929:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint16_t Scaler;
 930:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint16_t ValidHeight;
 931:dev/BSP/Components/vl6180/vl6180_api.c **** 	int8_t  Offset;
 932:dev/BSP/Components/vl6180/vl6180_api.c **** 
 933:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_START("%d", (int)scaling);
 934:dev/BSP/Components/vl6180/vl6180_api.c **** 
 935:dev/BSP/Components/vl6180/vl6180_api.c **** #ifdef VL6180_HAVE_UPSCALE_DATA
 936:dev/BSP/Components/vl6180/vl6180_api.c **** 	#define min_scaling 1
 937:dev/BSP/Components/vl6180/vl6180_api.c **** 	#define max_scaling (sizeof(ScalerLookUP) / sizeof(ScalerLookUP[0]))
 938:dev/BSP/Components/vl6180/vl6180_api.c **** #else
 939:dev/BSP/Components/vl6180/vl6180_api.c **** 	/* we are in fixed config so only allow configured factor */
 940:dev/BSP/Components/vl6180/vl6180_api.c **** 	#define min_scaling VL6180_UPSCALE_SUPPORT
 941:dev/BSP/Components/vl6180/vl6180_api.c **** 	#define max_scaling VL6180_UPSCALE_SUPPORT
 942:dev/BSP/Components/vl6180/vl6180_api.c **** #endif
 943:dev/BSP/Components/vl6180/vl6180_api.c **** 
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 18


 944:dev/BSP/Components/vl6180/vl6180_api.c **** 	if (scaling >= min_scaling  && scaling <= max_scaling) {
 945:dev/BSP/Components/vl6180/vl6180_api.c **** 
 946:dev/BSP/Components/vl6180/vl6180_api.c **** 		Scaler = ScalerLookUP[scaling - 1];
 947:dev/BSP/Components/vl6180/vl6180_api.c **** 		status = VL6180_WrWord(dev, RANGE_SCALER, Scaler);
 948:dev/BSP/Components/vl6180/vl6180_api.c **** 		_SetUpscale(dev, scaling);
 949:dev/BSP/Components/vl6180/vl6180_api.c **** 
 950:dev/BSP/Components/vl6180/vl6180_api.c **** 		/* Apply scaling on  part-2-part offset */
 951:dev/BSP/Components/vl6180/vl6180_api.c **** 		Offset = VL6180DevDataGet(dev, Part2PartOffsetNVM) / scaling;
 952:dev/BSP/Components/vl6180/vl6180_api.c **** 		status = VL6180_WrByte(dev, SYSRANGE_PART_TO_PART_RANGE_OFFSET, Offset);
 953:dev/BSP/Components/vl6180/vl6180_api.c **** 
 954:dev/BSP/Components/vl6180/vl6180_api.c **** 		/* Apply scaling on CrossTalkValidHeight */
 955:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (status == 0) {
 956:dev/BSP/Components/vl6180/vl6180_api.c **** 			status = VL6180_WrByte(dev, SYSRANGE_CROSSTALK_VALID_HEIGHT,
 957:dev/BSP/Components/vl6180/vl6180_api.c **** 									DEF_CROSS_TALK_VALID_HEIGHT_VALUE /  scaling);
 958:dev/BSP/Components/vl6180/vl6180_api.c **** 		}
 959:dev/BSP/Components/vl6180/vl6180_api.c **** 		/* Apply scaling on RangeIgnore ValidHeight if enabled */
 960:dev/BSP/Components/vl6180/vl6180_api.c **** 		if ( status == 0) {
 961:dev/BSP/Components/vl6180/vl6180_api.c **** 			if (  VL6180DevDataGet(dev, RangeIgnore.Enabled) !=0 ) {
 962:dev/BSP/Components/vl6180/vl6180_api.c **** 				ValidHeight = VL6180DevDataGet(dev, RangeIgnore.ValidHeight);
 963:dev/BSP/Components/vl6180/vl6180_api.c **** 				ValidHeight  /= _GetUpscale(dev);
 964:dev/BSP/Components/vl6180/vl6180_api.c **** 				if( ValidHeight > 255 )
 965:dev/BSP/Components/vl6180/vl6180_api.c **** 					ValidHeight = 255;
 966:dev/BSP/Components/vl6180/vl6180_api.c **** 
 967:dev/BSP/Components/vl6180/vl6180_api.c **** 				status = VL6180_WrByte(dev, SYSRANGE_RANGE_IGNORE_VALID_HEIGHT,
 968:dev/BSP/Components/vl6180/vl6180_api.c **** 							(uint8_t)(ValidHeight & 0xFF) );
 969:dev/BSP/Components/vl6180/vl6180_api.c **** 			}
 970:dev/BSP/Components/vl6180/vl6180_api.c **** 		}
 971:dev/BSP/Components/vl6180/vl6180_api.c **** 
 972:dev/BSP/Components/vl6180/vl6180_api.c **** #if !VL6180_EXTENDED_RANGE
 973:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (status == 0) {
 974:dev/BSP/Components/vl6180/vl6180_api.c **** 			status = VL6180_RangeSetEceState(dev, scaling == 1); /* enable ece only at 1x scaling */
 975:dev/BSP/Components/vl6180/vl6180_api.c **** 		}
 976:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (status == 0 && !VL6180_EXTENDED_RANGE && scaling != 1) {
 977:dev/BSP/Components/vl6180/vl6180_api.c **** 			status = NOT_GUARANTEED ;
 978:dev/BSP/Components/vl6180/vl6180_api.c **** 		}
 979:dev/BSP/Components/vl6180/vl6180_api.c **** #endif
 980:dev/BSP/Components/vl6180/vl6180_api.c **** 	} else {
 981:dev/BSP/Components/vl6180/vl6180_api.c **** 		status = INVALID_PARAMS;
 982:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
 983:dev/BSP/Components/vl6180/vl6180_api.c **** #undef min_scaling
 984:dev/BSP/Components/vl6180/vl6180_api.c **** #undef max_scaling
 985:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_END(status);
 986:dev/BSP/Components/vl6180/vl6180_api.c **** 	return status;
 987:dev/BSP/Components/vl6180/vl6180_api.c **** }
 988:dev/BSP/Components/vl6180/vl6180_api.c **** 
 989:dev/BSP/Components/vl6180/vl6180_api.c **** 
 990:dev/BSP/Components/vl6180/vl6180_api.c **** int VL6180_UpscaleGetScaling(VL6180Dev_t dev)
 991:dev/BSP/Components/vl6180/vl6180_api.c **** {
 992:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
 993:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_START("");
 994:dev/BSP/Components/vl6180/vl6180_api.c **** 	status = _GetUpscale(dev);
 995:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_END(status);
 996:dev/BSP/Components/vl6180/vl6180_api.c **** 
 997:dev/BSP/Components/vl6180/vl6180_api.c **** 	return status;
 998:dev/BSP/Components/vl6180/vl6180_api.c **** }
 999:dev/BSP/Components/vl6180/vl6180_api.c **** 
1000:dev/BSP/Components/vl6180/vl6180_api.c **** 
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 19


1001:dev/BSP/Components/vl6180/vl6180_api.c **** static int  VL6180_UpscaleStaticInit(VL6180Dev_t dev)
1002:dev/BSP/Components/vl6180/vl6180_api.c **** {
1003:dev/BSP/Components/vl6180/vl6180_api.c **** 	/* todo make these a fail macro in case only 1x is suppoted */
1004:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
1005:dev/BSP/Components/vl6180/vl6180_api.c **** 
1006:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_START("");
1007:dev/BSP/Components/vl6180/vl6180_api.c **** 	do {
1008:dev/BSP/Components/vl6180/vl6180_api.c **** 		status = VL6180_UpscaleRegInit(dev);
1009:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (status) {
1010:dev/BSP/Components/vl6180/vl6180_api.c **** 			VL6180_ErrLog("regInit fail");
1011:dev/BSP/Components/vl6180/vl6180_api.c **** 			break;
1012:dev/BSP/Components/vl6180/vl6180_api.c **** 		}
1013:dev/BSP/Components/vl6180/vl6180_api.c **** #if VL6180_EXTENDED_RANGE
1014:dev/BSP/Components/vl6180/vl6180_api.c **** 		status = VL6180_RangeSetEceState(dev, 0);
1015:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (status) {
1016:dev/BSP/Components/vl6180/vl6180_api.c **** 			VL6180_ErrLog("VL6180_RangeSetEceState fail");
1017:dev/BSP/Components/vl6180/vl6180_api.c **** 			break;
1018:dev/BSP/Components/vl6180/vl6180_api.c **** 		}
1019:dev/BSP/Components/vl6180/vl6180_api.c **** #endif
1020:dev/BSP/Components/vl6180/vl6180_api.c **** 	} while (0);
1021:dev/BSP/Components/vl6180/vl6180_api.c **** 	if (!status) {
1022:dev/BSP/Components/vl6180/vl6180_api.c **** 		/*  must write the scaler at least once to the device to ensure the scaler is in a known state. *
1023:dev/BSP/Components/vl6180/vl6180_api.c **** 		status = VL6180_UpscaleSetScaling(dev, _GetUpscale(dev));
1024:dev/BSP/Components/vl6180/vl6180_api.c **** 		VL6180_WrByte(dev, 0x016, 0x00); /* change fresh out of set status to 0 */
1025:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
1026:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_END(status);
1027:dev/BSP/Components/vl6180/vl6180_api.c **** 	return status;
1028:dev/BSP/Components/vl6180/vl6180_api.c **** }
1029:dev/BSP/Components/vl6180/vl6180_api.c **** 
1030:dev/BSP/Components/vl6180/vl6180_api.c **** 
1031:dev/BSP/Components/vl6180/vl6180_api.c **** int VL6180_SetGPIOxPolarity(VL6180Dev_t dev, int pin, int active_high)
1032:dev/BSP/Components/vl6180/vl6180_api.c **** {
1033:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
1034:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_START("%d %d", (int) pin, (int)active_high);
1035:dev/BSP/Components/vl6180/vl6180_api.c **** 
1036:dev/BSP/Components/vl6180/vl6180_api.c **** 	if (pin == 0  || pin == 1) {
1037:dev/BSP/Components/vl6180/vl6180_api.c **** 		uint16_t RegIndex;
1038:dev/BSP/Components/vl6180/vl6180_api.c **** 		uint8_t  DataSet;
1039:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (pin == 0)
1040:dev/BSP/Components/vl6180/vl6180_api.c **** 			RegIndex = SYSTEM_MODE_GPIO0;
1041:dev/BSP/Components/vl6180/vl6180_api.c **** 		else
1042:dev/BSP/Components/vl6180/vl6180_api.c **** 			RegIndex = SYSTEM_MODE_GPIO1;
1043:dev/BSP/Components/vl6180/vl6180_api.c **** 
1044:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (active_high)
1045:dev/BSP/Components/vl6180/vl6180_api.c **** 		   DataSet = GPIOx_POLARITY_SELECT_MASK;
1046:dev/BSP/Components/vl6180/vl6180_api.c **** 		else
1047:dev/BSP/Components/vl6180/vl6180_api.c **** 		   DataSet = 0;
1048:dev/BSP/Components/vl6180/vl6180_api.c **** 
1049:dev/BSP/Components/vl6180/vl6180_api.c **** 		status = VL6180_UpdateByte(dev, RegIndex, (uint8_t)~GPIOx_POLARITY_SELECT_MASK, DataSet);
1050:dev/BSP/Components/vl6180/vl6180_api.c **** 	} else {
1051:dev/BSP/Components/vl6180/vl6180_api.c **** 		VL6180_ErrLog("Invalid pin param %d", (int)pin);
1052:dev/BSP/Components/vl6180/vl6180_api.c **** 		status = INVALID_PARAMS;
1053:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
1054:dev/BSP/Components/vl6180/vl6180_api.c **** 
1055:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_END(status);
1056:dev/BSP/Components/vl6180/vl6180_api.c **** 
1057:dev/BSP/Components/vl6180/vl6180_api.c **** 	return status;
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 20


1058:dev/BSP/Components/vl6180/vl6180_api.c **** }
1059:dev/BSP/Components/vl6180/vl6180_api.c **** 
1060:dev/BSP/Components/vl6180/vl6180_api.c **** int VL6180_SetGPIOxFunctionality(VL6180Dev_t dev, int pin, uint8_t functionality)
1061:dev/BSP/Components/vl6180/vl6180_api.c **** {
1062:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
1063:dev/BSP/Components/vl6180/vl6180_api.c **** 
1064:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_START("%d %d", (int) pin, (int)functionality);
1065:dev/BSP/Components/vl6180/vl6180_api.c **** 
1066:dev/BSP/Components/vl6180/vl6180_api.c **** 	if (((pin == 0)  || (pin == 1))  && IsValidGPIOFunction(functionality)) {
1067:dev/BSP/Components/vl6180/vl6180_api.c **** 		uint16_t RegIndex;
1068:dev/BSP/Components/vl6180/vl6180_api.c **** 
1069:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (pin == 0)
1070:dev/BSP/Components/vl6180/vl6180_api.c **** 			RegIndex = SYSTEM_MODE_GPIO0;
1071:dev/BSP/Components/vl6180/vl6180_api.c **** 		else
1072:dev/BSP/Components/vl6180/vl6180_api.c **** 			RegIndex = SYSTEM_MODE_GPIO1;
1073:dev/BSP/Components/vl6180/vl6180_api.c **** 
1074:dev/BSP/Components/vl6180/vl6180_api.c **** 		status = VL6180_UpdateByte(dev, RegIndex, (uint8_t)~GPIOx_FUNCTIONALITY_SELECT_MASK,
1075:dev/BSP/Components/vl6180/vl6180_api.c **** 									functionality << GPIOx_FUNCTIONALITY_SELECT_SHIFT);
1076:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (status) {
1077:dev/BSP/Components/vl6180/vl6180_api.c **** 			VL6180_ErrLog("Update SYSTEM_MODE_GPIO%d fail", (int)pin);
1078:dev/BSP/Components/vl6180/vl6180_api.c **** 		}
1079:dev/BSP/Components/vl6180/vl6180_api.c **** 	} else {
1080:dev/BSP/Components/vl6180/vl6180_api.c **** 		VL6180_ErrLog("Invalid pin %d  or function %d", (int)pin, (int)functionality);
1081:dev/BSP/Components/vl6180/vl6180_api.c **** 		status = INVALID_PARAMS;
1082:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
1083:dev/BSP/Components/vl6180/vl6180_api.c **** 
1084:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_END(status);
1085:dev/BSP/Components/vl6180/vl6180_api.c **** 	return status;
1086:dev/BSP/Components/vl6180/vl6180_api.c **** }
1087:dev/BSP/Components/vl6180/vl6180_api.c **** 
1088:dev/BSP/Components/vl6180/vl6180_api.c **** 
1089:dev/BSP/Components/vl6180/vl6180_api.c **** int VL6180_SetupGPIOx(VL6180Dev_t dev, int pin,  uint8_t IntFunction, int  ActiveHigh)
1090:dev/BSP/Components/vl6180/vl6180_api.c **** {
1091:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
1092:dev/BSP/Components/vl6180/vl6180_api.c **** 
1093:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_START("%d %d", (int) pin, (int)IntFunction);
1094:dev/BSP/Components/vl6180/vl6180_api.c **** 
1095:dev/BSP/Components/vl6180/vl6180_api.c **** 	if (((pin == 0) || (pin == 1))  && IsValidGPIOFunction(IntFunction)) {
1096:dev/BSP/Components/vl6180/vl6180_api.c **** 		uint16_t RegIndex;
1097:dev/BSP/Components/vl6180/vl6180_api.c **** 		uint8_t value = 0;
1098:dev/BSP/Components/vl6180/vl6180_api.c **** 
1099:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (pin == 0)
1100:dev/BSP/Components/vl6180/vl6180_api.c **** 		   RegIndex = SYSTEM_MODE_GPIO0;
1101:dev/BSP/Components/vl6180/vl6180_api.c **** 		else
1102:dev/BSP/Components/vl6180/vl6180_api.c **** 		   RegIndex = SYSTEM_MODE_GPIO1;
1103:dev/BSP/Components/vl6180/vl6180_api.c **** 
1104:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (ActiveHigh)
1105:dev/BSP/Components/vl6180/vl6180_api.c **** 		   value |= GPIOx_POLARITY_SELECT_MASK;
1106:dev/BSP/Components/vl6180/vl6180_api.c **** 
1107:dev/BSP/Components/vl6180/vl6180_api.c **** 		value |=  IntFunction << GPIOx_FUNCTIONALITY_SELECT_SHIFT;
1108:dev/BSP/Components/vl6180/vl6180_api.c **** 		status = VL6180_WrByte(dev, RegIndex, value);
1109:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (status) {
1110:dev/BSP/Components/vl6180/vl6180_api.c **** 		   VL6180_ErrLog("SYSTEM_MODE_GPIO%d wr fail", (int)pin-SYSTEM_MODE_GPIO0);
1111:dev/BSP/Components/vl6180/vl6180_api.c **** 		}
1112:dev/BSP/Components/vl6180/vl6180_api.c **** 	} else {
1113:dev/BSP/Components/vl6180/vl6180_api.c **** 		VL6180_ErrLog("Invalid pin %d or function %d", (int)pin, (int) IntFunction);
1114:dev/BSP/Components/vl6180/vl6180_api.c **** 		status = INVALID_PARAMS;
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 21


1115:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
1116:dev/BSP/Components/vl6180/vl6180_api.c **** 
1117:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_END(status);
1118:dev/BSP/Components/vl6180/vl6180_api.c **** 	return status;
1119:dev/BSP/Components/vl6180/vl6180_api.c **** }
1120:dev/BSP/Components/vl6180/vl6180_api.c **** 
1121:dev/BSP/Components/vl6180/vl6180_api.c **** 
1122:dev/BSP/Components/vl6180/vl6180_api.c **** int VL6180_DisableGPIOxOut(VL6180Dev_t dev, int pin)
1123:dev/BSP/Components/vl6180/vl6180_api.c **** {
1124:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
1125:dev/BSP/Components/vl6180/vl6180_api.c **** 
1126:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_START("%d", (int)pin);
1127:dev/BSP/Components/vl6180/vl6180_api.c **** 
1128:dev/BSP/Components/vl6180/vl6180_api.c **** 	status = VL6180_SetGPIOxFunctionality(dev, pin, GPIOx_SELECT_OFF);
1129:dev/BSP/Components/vl6180/vl6180_api.c **** 
1130:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_END(status);
1131:dev/BSP/Components/vl6180/vl6180_api.c **** 	return status;
1132:dev/BSP/Components/vl6180/vl6180_api.c **** }
1133:dev/BSP/Components/vl6180/vl6180_api.c **** 
1134:dev/BSP/Components/vl6180/vl6180_api.c **** 
1135:dev/BSP/Components/vl6180/vl6180_api.c **** int VL6180_SetupGPIO1(VL6180Dev_t dev, uint8_t IntFunction, int ActiveHigh)
1136:dev/BSP/Components/vl6180/vl6180_api.c **** {
1137:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
1138:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_START("%d %d", (int)IntFunction, (int)ActiveHigh);
1139:dev/BSP/Components/vl6180/vl6180_api.c **** 	status = VL6180_SetupGPIOx(dev, 1, IntFunction, ActiveHigh);
1140:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_END(status);
1141:dev/BSP/Components/vl6180/vl6180_api.c **** 	return status;
1142:dev/BSP/Components/vl6180/vl6180_api.c **** }
1143:dev/BSP/Components/vl6180/vl6180_api.c **** 
1144:dev/BSP/Components/vl6180/vl6180_api.c **** int VL6180_RangeConfigInterrupt(VL6180Dev_t dev, uint8_t ConfigGpioInt)
1145:dev/BSP/Components/vl6180/vl6180_api.c **** {
1146:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
1147:dev/BSP/Components/vl6180/vl6180_api.c **** 
1148:dev/BSP/Components/vl6180/vl6180_api.c **** 	if (ConfigGpioInt <= CONFIG_GPIO_INTERRUPT_NEW_SAMPLE_READY) {
1149:dev/BSP/Components/vl6180/vl6180_api.c **** 		status = VL6180_UpdateByte(dev, SYSTEM_INTERRUPT_CONFIG_GPIO,
1150:dev/BSP/Components/vl6180/vl6180_api.c **** 									(uint8_t)(~CONFIG_GPIO_RANGE_MASK),
1151:dev/BSP/Components/vl6180/vl6180_api.c **** 									ConfigGpioInt);
1152:dev/BSP/Components/vl6180/vl6180_api.c **** 	} else {
1153:dev/BSP/Components/vl6180/vl6180_api.c **** 		VL6180_ErrLog("Invalid config mode param %d", (int)ConfigGpioInt);
1154:dev/BSP/Components/vl6180/vl6180_api.c **** 		status = INVALID_PARAMS;
1155:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
1156:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_END(status);
1157:dev/BSP/Components/vl6180/vl6180_api.c **** 	return status;
1158:dev/BSP/Components/vl6180/vl6180_api.c **** }
1159:dev/BSP/Components/vl6180/vl6180_api.c **** 
1160:dev/BSP/Components/vl6180/vl6180_api.c **** 
1161:dev/BSP/Components/vl6180/vl6180_api.c **** int VL6180_RangeSetEceFactor(VL6180Dev_t dev, uint16_t  FactorM, uint16_t FactorD)
1162:dev/BSP/Components/vl6180/vl6180_api.c **** {
1163:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
1164:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint8_t u8;
1165:dev/BSP/Components/vl6180/vl6180_api.c **** 
1166:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_START("%d %d", (int)FactorM, (int)FactorD);
1167:dev/BSP/Components/vl6180/vl6180_api.c **** 	do {
1168:dev/BSP/Components/vl6180/vl6180_api.c **** 		/* D cannot be 0 M must be <=D and >= 0 */
1169:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (FactorM <= FactorD  && FactorD > 0) {
1170:dev/BSP/Components/vl6180/vl6180_api.c **** 			VL6180DevDataSet(dev, EceFactorM, FactorM);
1171:dev/BSP/Components/vl6180/vl6180_api.c **** 			VL6180DevDataSet(dev, EceFactorD, FactorD);
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 22


1172:dev/BSP/Components/vl6180/vl6180_api.c **** 			/* read and re-apply max conv time to get new ece factor set */
1173:dev/BSP/Components/vl6180/vl6180_api.c **** 			status = VL6180_RdByte(dev, SYSRANGE_MAX_CONVERGENCE_TIME, &u8);
1174:dev/BSP/Components/vl6180/vl6180_api.c **** 			if (status) {
1175:dev/BSP/Components/vl6180/vl6180_api.c **** 			   VL6180_ErrLog("SYSRANGE_MAX_CONVERGENCE_TIME rd fail ");
1176:dev/BSP/Components/vl6180/vl6180_api.c **** 			   break;
1177:dev/BSP/Components/vl6180/vl6180_api.c **** 			}
1178:dev/BSP/Components/vl6180/vl6180_api.c **** 			status = VL6180_RangeSetMaxConvergenceTime(dev, u8);
1179:dev/BSP/Components/vl6180/vl6180_api.c **** 			if (status < 0) {
1180:dev/BSP/Components/vl6180/vl6180_api.c **** 				VL6180_ErrLog("fail to apply time after ece m/d change");
1181:dev/BSP/Components/vl6180/vl6180_api.c **** 				break;
1182:dev/BSP/Components/vl6180/vl6180_api.c **** 			}
1183:dev/BSP/Components/vl6180/vl6180_api.c **** 		} else {
1184:dev/BSP/Components/vl6180/vl6180_api.c **** 			VL6180_ErrLog("invalid factor %d/%d", (int)FactorM, (int)FactorD);
1185:dev/BSP/Components/vl6180/vl6180_api.c **** 			status = INVALID_PARAMS;
1186:dev/BSP/Components/vl6180/vl6180_api.c **** 		}
1187:dev/BSP/Components/vl6180/vl6180_api.c **** 	} while (0);
1188:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_END(status);
1189:dev/BSP/Components/vl6180/vl6180_api.c **** 	return status;
1190:dev/BSP/Components/vl6180/vl6180_api.c **** }
1191:dev/BSP/Components/vl6180/vl6180_api.c **** 
1192:dev/BSP/Components/vl6180/vl6180_api.c **** int VL6180_RangeSetEceState(VL6180Dev_t dev, int enable)
1193:dev/BSP/Components/vl6180/vl6180_api.c **** {
1194:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
1195:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint8_t or_mask;
1196:dev/BSP/Components/vl6180/vl6180_api.c **** 
1197:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_START("%d", (int)enable);
1198:dev/BSP/Components/vl6180/vl6180_api.c **** 	if (enable)
1199:dev/BSP/Components/vl6180/vl6180_api.c **** 		or_mask = RANGE_CHECK_ECE_ENABLE_MASK;
1200:dev/BSP/Components/vl6180/vl6180_api.c **** 	else
1201:dev/BSP/Components/vl6180/vl6180_api.c **** 		or_mask = 0;
1202:dev/BSP/Components/vl6180/vl6180_api.c **** 
1203:dev/BSP/Components/vl6180/vl6180_api.c **** 	status = VL6180_UpdateByte(dev, SYSRANGE_RANGE_CHECK_ENABLES, ~RANGE_CHECK_ECE_ENABLE_MASK, or_mas
1204:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_END(status);
1205:dev/BSP/Components/vl6180/vl6180_api.c **** 	return status;
1206:dev/BSP/Components/vl6180/vl6180_api.c **** }
1207:dev/BSP/Components/vl6180/vl6180_api.c **** 
1208:dev/BSP/Components/vl6180/vl6180_api.c **** 
1209:dev/BSP/Components/vl6180/vl6180_api.c **** int VL6180_RangeSetMaxConvergenceTime(VL6180Dev_t dev, uint8_t  MaxConTime_msec)
1210:dev/BSP/Components/vl6180/vl6180_api.c **** {
1211:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status = 0;
1212:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_START("%d", (int)MaxConTime_msec);
1213:dev/BSP/Components/vl6180/vl6180_api.c **** 	do {
1214:dev/BSP/Components/vl6180/vl6180_api.c **** 		status = VL6180_WrByte(dev, SYSRANGE_MAX_CONVERGENCE_TIME, MaxConTime_msec);
1215:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (status) {
1216:dev/BSP/Components/vl6180/vl6180_api.c **** 			break;
1217:dev/BSP/Components/vl6180/vl6180_api.c **** 		}
1218:dev/BSP/Components/vl6180/vl6180_api.c **** 		status = VL6180_RangeSetEarlyConvergenceEestimateThreshold(dev);
1219:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (status) {
1220:dev/BSP/Components/vl6180/vl6180_api.c **** 			break;
1221:dev/BSP/Components/vl6180/vl6180_api.c **** 		}
1222:dev/BSP/Components/vl6180/vl6180_api.c **** 		status = _DMax_InitData(dev);
1223:dev/BSP/Components/vl6180/vl6180_api.c **** 	} while (0);
1224:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_END(status);
1225:dev/BSP/Components/vl6180/vl6180_api.c **** 	return status;
1226:dev/BSP/Components/vl6180/vl6180_api.c **** }
1227:dev/BSP/Components/vl6180/vl6180_api.c **** 
1228:dev/BSP/Components/vl6180/vl6180_api.c **** int VL6180_RangeSetInterMeasPeriod(VL6180Dev_t dev, uint32_t  InterMeasTime_msec)
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 23


1229:dev/BSP/Components/vl6180/vl6180_api.c **** {
1230:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint8_t SetTime;
1231:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
1232:dev/BSP/Components/vl6180/vl6180_api.c **** 
1233:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_START("%d", (int)InterMeasTime_msec);
1234:dev/BSP/Components/vl6180/vl6180_api.c **** 	do {
1235:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (InterMeasTime_msec > 2550) {
1236:dev/BSP/Components/vl6180/vl6180_api.c **** 			status = INVALID_PARAMS;
1237:dev/BSP/Components/vl6180/vl6180_api.c **** 			break;
1238:dev/BSP/Components/vl6180/vl6180_api.c **** 		}
1239:dev/BSP/Components/vl6180/vl6180_api.c **** 		/* doc in not 100% clear and confusing about the limit practically all value are OK but 0
1240:dev/BSP/Components/vl6180/vl6180_api.c **** 		 * that can hang device in continuous mode */
1241:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (InterMeasTime_msec < 10) {
1242:dev/BSP/Components/vl6180/vl6180_api.c **** 			InterMeasTime_msec = 10;
1243:dev/BSP/Components/vl6180/vl6180_api.c **** 		}
1244:dev/BSP/Components/vl6180/vl6180_api.c **** 		SetTime = (uint8_t)(InterMeasTime_msec / 10);
1245:dev/BSP/Components/vl6180/vl6180_api.c **** 		status = VL6180_WrByte(dev, SYSRANGE_INTERMEASUREMENT_PERIOD, SetTime);
1246:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (status) {
1247:dev/BSP/Components/vl6180/vl6180_api.c **** 			VL6180_ErrLog("SYSRANGE_INTERMEASUREMENT_PERIOD wr fail");
1248:dev/BSP/Components/vl6180/vl6180_api.c **** 		} else if (SetTime != InterMeasTime_msec / 10) {
1249:dev/BSP/Components/vl6180/vl6180_api.c **** 			status = MIN_CLIPED;  /* on success change status to clip if it did */
1250:dev/BSP/Components/vl6180/vl6180_api.c **** 		}
1251:dev/BSP/Components/vl6180/vl6180_api.c **** 	} while (0);
1252:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_END(status);
1253:dev/BSP/Components/vl6180/vl6180_api.c **** 	return status;
1254:dev/BSP/Components/vl6180/vl6180_api.c **** }
1255:dev/BSP/Components/vl6180/vl6180_api.c **** 
1256:dev/BSP/Components/vl6180/vl6180_api.c **** 
1257:dev/BSP/Components/vl6180/vl6180_api.c **** int VL6180_RangeGetDeviceReady(VL6180Dev_t dev, int *Ready)
1258:dev/BSP/Components/vl6180/vl6180_api.c **** {
1259:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
1260:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint8_t u8;
1261:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_START("%p", (int)Ready);
1262:dev/BSP/Components/vl6180/vl6180_api.c **** 	status = VL6180_RdByte(dev, RESULT_RANGE_STATUS, &u8);
1263:dev/BSP/Components/vl6180/vl6180_api.c **** 	if (!status)
1264:dev/BSP/Components/vl6180/vl6180_api.c **** 		*Ready = u8&RANGE_DEVICE_READY_MASK;
1265:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_END_FMT(status, "%d", *Ready);
1266:dev/BSP/Components/vl6180/vl6180_api.c **** 	return status;
1267:dev/BSP/Components/vl6180/vl6180_api.c **** }
1268:dev/BSP/Components/vl6180/vl6180_api.c **** 
1269:dev/BSP/Components/vl6180/vl6180_api.c **** 
1270:dev/BSP/Components/vl6180/vl6180_api.c **** int VL6180_RangeWaitDeviceReady(VL6180Dev_t dev, int MaxLoop)
1271:dev/BSP/Components/vl6180/vl6180_api.c **** {
1272:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status = 0; /* if user specify an invalid <=0 loop count we'll return error */
1273:dev/BSP/Components/vl6180/vl6180_api.c **** 	int  n;
1274:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint8_t u8;
1275:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_START("%d", (int)MaxLoop);
1276:dev/BSP/Components/vl6180/vl6180_api.c **** 	if (MaxLoop < 1) {
1277:dev/BSP/Components/vl6180/vl6180_api.c **** 		status = INVALID_PARAMS;
1278:dev/BSP/Components/vl6180/vl6180_api.c **** 	} else {
1279:dev/BSP/Components/vl6180/vl6180_api.c **** 		for (n = 0; n < MaxLoop ; n++) {
1280:dev/BSP/Components/vl6180/vl6180_api.c **** 			status = VL6180_RdByte(dev, RESULT_RANGE_STATUS, &u8);
1281:dev/BSP/Components/vl6180/vl6180_api.c **** 			if (status)
1282:dev/BSP/Components/vl6180/vl6180_api.c **** 				break;
1283:dev/BSP/Components/vl6180/vl6180_api.c **** 			u8 = u8 & RANGE_DEVICE_READY_MASK;
1284:dev/BSP/Components/vl6180/vl6180_api.c **** 			if (u8)
1285:dev/BSP/Components/vl6180/vl6180_api.c **** 				break;
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 24


1286:dev/BSP/Components/vl6180/vl6180_api.c **** 
1287:dev/BSP/Components/vl6180/vl6180_api.c **** 		}
1288:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (!status && !u8) {
1289:dev/BSP/Components/vl6180/vl6180_api.c **** 			status = TIME_OUT;
1290:dev/BSP/Components/vl6180/vl6180_api.c **** 		}
1291:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
1292:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_END(status);
1293:dev/BSP/Components/vl6180/vl6180_api.c **** 	return status;
1294:dev/BSP/Components/vl6180/vl6180_api.c **** }
1295:dev/BSP/Components/vl6180/vl6180_api.c **** 
1296:dev/BSP/Components/vl6180/vl6180_api.c **** int VL6180_RangeSetSystemMode(VL6180Dev_t dev, uint8_t  mode)
1297:dev/BSP/Components/vl6180/vl6180_api.c **** {
1298:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
1299:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_START("%d", (int)mode);
1300:dev/BSP/Components/vl6180/vl6180_api.c **** 	/* FIXME we are not checking device is ready via @a VL6180_RangeWaitDeviceReady
1301:dev/BSP/Components/vl6180/vl6180_api.c **** 	 * so if called back to back real fast we are not checking
1302:dev/BSP/Components/vl6180/vl6180_api.c **** 	 * if previous mode "set" got absorbed => bit 0 must be 0 so that it work
1303:dev/BSP/Components/vl6180/vl6180_api.c **** 	 */
1304:dev/BSP/Components/vl6180/vl6180_api.c **** 	if (mode <= 3) {
1305:dev/BSP/Components/vl6180/vl6180_api.c **** 		status = VL6180_WrByte(dev, SYSRANGE_START, mode);
1306:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (status) {
1307:dev/BSP/Components/vl6180/vl6180_api.c **** 		    VL6180_ErrLog("SYSRANGE_START wr fail");
1308:dev/BSP/Components/vl6180/vl6180_api.c **** 		}
1309:dev/BSP/Components/vl6180/vl6180_api.c **** 	} else {
1310:dev/BSP/Components/vl6180/vl6180_api.c **** 		status = INVALID_PARAMS;
1311:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
1312:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_END(status);
1313:dev/BSP/Components/vl6180/vl6180_api.c **** 	return status;
1314:dev/BSP/Components/vl6180/vl6180_api.c **** }
1315:dev/BSP/Components/vl6180/vl6180_api.c **** 
1316:dev/BSP/Components/vl6180/vl6180_api.c **** 
1317:dev/BSP/Components/vl6180/vl6180_api.c **** int VL6180_RangeStartContinuousMode(VL6180Dev_t dev)
1318:dev/BSP/Components/vl6180/vl6180_api.c **** {
1319:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
1320:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_START("");
1321:dev/BSP/Components/vl6180/vl6180_api.c **** 	status = VL6180_RangeSetSystemMode(dev, MODE_START_STOP | MODE_CONTINUOUS);
1322:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_END(status);
1323:dev/BSP/Components/vl6180/vl6180_api.c **** 	return status;
1324:dev/BSP/Components/vl6180/vl6180_api.c **** }
1325:dev/BSP/Components/vl6180/vl6180_api.c **** 
1326:dev/BSP/Components/vl6180/vl6180_api.c **** int VL6180_RangeStartSingleShot(VL6180Dev_t dev)
1327:dev/BSP/Components/vl6180/vl6180_api.c **** {
1328:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
1329:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_START("");
1330:dev/BSP/Components/vl6180/vl6180_api.c **** 	status = VL6180_RangeSetSystemMode(dev, MODE_START_STOP | MODE_SINGLESHOT);
1331:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_END(status);
1332:dev/BSP/Components/vl6180/vl6180_api.c **** 	return status;
1333:dev/BSP/Components/vl6180/vl6180_api.c **** }
1334:dev/BSP/Components/vl6180/vl6180_api.c **** 
1335:dev/BSP/Components/vl6180/vl6180_api.c **** 
1336:dev/BSP/Components/vl6180/vl6180_api.c **** static int VL6180_RangeSetEarlyConvergenceEestimateThreshold(VL6180Dev_t dev)
1337:dev/BSP/Components/vl6180/vl6180_api.c **** {
1338:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
1339:dev/BSP/Components/vl6180/vl6180_api.c **** 
1340:dev/BSP/Components/vl6180/vl6180_api.c **** 	const uint32_t cMicroSecPerMilliSec  = 1000;
1341:dev/BSP/Components/vl6180/vl6180_api.c **** 	const uint32_t cEceSampleTime_us     = 500;
1342:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint32_t ece_factor_m          = VL6180DevDataGet(dev, EceFactorM);
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 25


1343:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint32_t ece_factor_d          = VL6180DevDataGet(dev, EceFactorD);
1344:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint32_t convergTime_us;
1345:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint32_t fineThresh;
1346:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint32_t eceThresh;
1347:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint8_t  u8;
1348:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint32_t maxConv_ms;
1349:dev/BSP/Components/vl6180/vl6180_api.c **** 	int32_t AveTime;
1350:dev/BSP/Components/vl6180/vl6180_api.c **** 
1351:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_START("");
1352:dev/BSP/Components/vl6180/vl6180_api.c **** 
1353:dev/BSP/Components/vl6180/vl6180_api.c **** 	do {
1354:dev/BSP/Components/vl6180/vl6180_api.c **** 		status = VL6180_RdByte(dev, SYSRANGE_MAX_CONVERGENCE_TIME, &u8);
1355:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (status) {
1356:dev/BSP/Components/vl6180/vl6180_api.c **** 			VL6180_ErrLog("SYSRANGE_MAX_CONVERGENCE_TIME rd fail");
1357:dev/BSP/Components/vl6180/vl6180_api.c **** 			break;
1358:dev/BSP/Components/vl6180/vl6180_api.c **** 		}
1359:dev/BSP/Components/vl6180/vl6180_api.c **** 		maxConv_ms = u8;
1360:dev/BSP/Components/vl6180/vl6180_api.c **** 		AveTime = _GetAveTotalTime(dev);
1361:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (AveTime < 0) {
1362:dev/BSP/Components/vl6180/vl6180_api.c **** 			status = -1;
1363:dev/BSP/Components/vl6180/vl6180_api.c **** 			break;
1364:dev/BSP/Components/vl6180/vl6180_api.c **** 		}
1365:dev/BSP/Components/vl6180/vl6180_api.c **** 
1366:dev/BSP/Components/vl6180/vl6180_api.c **** 		convergTime_us = maxConv_ms * cMicroSecPerMilliSec - AveTime;
1367:dev/BSP/Components/vl6180/vl6180_api.c **** 		status = VL6180_RdDWord(dev, 0xB8, &fineThresh);
1368:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (status) {
1369:dev/BSP/Components/vl6180/vl6180_api.c **** 			VL6180_ErrLog("reg 0xB8 rd fail");
1370:dev/BSP/Components/vl6180/vl6180_api.c **** 			break;
1371:dev/BSP/Components/vl6180/vl6180_api.c **** 		}
1372:dev/BSP/Components/vl6180/vl6180_api.c **** 		fineThresh *= 256;
1373:dev/BSP/Components/vl6180/vl6180_api.c **** 		eceThresh = ece_factor_m * cEceSampleTime_us * fineThresh / (convergTime_us * ece_factor_d);
1374:dev/BSP/Components/vl6180/vl6180_api.c **** 
1375:dev/BSP/Components/vl6180/vl6180_api.c **** 		status = VL6180_WrWord(dev, SYSRANGE_EARLY_CONVERGENCE_ESTIMATE, (uint16_t)eceThresh);
1376:dev/BSP/Components/vl6180/vl6180_api.c **** 	} while (0);
1377:dev/BSP/Components/vl6180/vl6180_api.c **** 
1378:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_END(status);
1379:dev/BSP/Components/vl6180/vl6180_api.c **** 	return status;
1380:dev/BSP/Components/vl6180/vl6180_api.c **** }
1381:dev/BSP/Components/vl6180/vl6180_api.c **** 
1382:dev/BSP/Components/vl6180/vl6180_api.c **** 
1383:dev/BSP/Components/vl6180/vl6180_api.c **** static int _RangeIgnore_UpdateDevice(VL6180Dev_t dev){
1384:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
1385:dev/BSP/Components/vl6180/vl6180_api.c **** 	int enable;
1386:dev/BSP/Components/vl6180/vl6180_api.c **** 	int threshold;
1387:dev/BSP/Components/vl6180/vl6180_api.c **** 	int range;
1388:dev/BSP/Components/vl6180/vl6180_api.c **** 	int or_mask;
1389:dev/BSP/Components/vl6180/vl6180_api.c **** 	enable= VL6180DevDataGet(dev, RangeIgnore.Enabled);
1390:dev/BSP/Components/vl6180/vl6180_api.c **** 	if( enable ){
1391:dev/BSP/Components/vl6180/vl6180_api.c **** 		// if to be nabled program first range value and threshold
1392:dev/BSP/Components/vl6180/vl6180_api.c **** 		range = VL6180DevDataGet(dev, RangeIgnore.ValidHeight);
1393:dev/BSP/Components/vl6180/vl6180_api.c **** 		range /= _GetUpscale(dev);
1394:dev/BSP/Components/vl6180/vl6180_api.c **** 		if( range > 255 )
1395:dev/BSP/Components/vl6180/vl6180_api.c **** 			range = 255;
1396:dev/BSP/Components/vl6180/vl6180_api.c **** 
1397:dev/BSP/Components/vl6180/vl6180_api.c **** 		status = VL6180_WrByte(dev, SYSRANGE_RANGE_IGNORE_VALID_HEIGHT,  range);
1398:dev/BSP/Components/vl6180/vl6180_api.c **** 		if( status ){
1399:dev/BSP/Components/vl6180/vl6180_api.c **** 			goto done;
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 26


1400:dev/BSP/Components/vl6180/vl6180_api.c **** 		}
1401:dev/BSP/Components/vl6180/vl6180_api.c **** 
1402:dev/BSP/Components/vl6180/vl6180_api.c **** 		threshold = VL6180DevDataGet(dev, RangeIgnore.IgnoreThreshold);
1403:dev/BSP/Components/vl6180/vl6180_api.c **** 		status = VL6180_WrWord(dev, SYSRANGE_RANGE_IGNORE_THRESHOLD,  threshold);
1404:dev/BSP/Components/vl6180/vl6180_api.c **** 		if( status ){
1405:dev/BSP/Components/vl6180/vl6180_api.c **** 			goto done;
1406:dev/BSP/Components/vl6180/vl6180_api.c **** 		}
1407:dev/BSP/Components/vl6180/vl6180_api.c **** 		or_mask = RANGE_CHECK_RANGE_ENABLE_MASK;
1408:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
1409:dev/BSP/Components/vl6180/vl6180_api.c **** 	else{
1410:dev/BSP/Components/vl6180/vl6180_api.c **** 		or_mask = 0;
1411:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
1412:dev/BSP/Components/vl6180/vl6180_api.c **** 	status = VL6180_UpdateByte(dev, SYSRANGE_RANGE_CHECK_ENABLES, ~RANGE_CHECK_RANGE_ENABLE_MASK, or_m
1413:dev/BSP/Components/vl6180/vl6180_api.c **** 	_DMax_InitData(dev);
1414:dev/BSP/Components/vl6180/vl6180_api.c **** done:
1415:dev/BSP/Components/vl6180/vl6180_api.c **** 	return status;
1416:dev/BSP/Components/vl6180/vl6180_api.c **** }
1417:dev/BSP/Components/vl6180/vl6180_api.c **** 
1418:dev/BSP/Components/vl6180/vl6180_api.c **** int VL6180_RangeIgnoreSetEnable(VL6180Dev_t dev, int EnableState){
1419:dev/BSP/Components/vl6180/vl6180_api.c **** 	int CurEnable;
1420:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status=0;
1421:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_START("enable %d", EnableState);
1422:dev/BSP/Components/vl6180/vl6180_api.c **** 
1423:dev/BSP/Components/vl6180/vl6180_api.c **** 	if( EnableState )
1424:dev/BSP/Components/vl6180/vl6180_api.c **** 		EnableState = 1;
1425:dev/BSP/Components/vl6180/vl6180_api.c **** 
1426:dev/BSP/Components/vl6180/vl6180_api.c **** 	CurEnable = VL6180DevDataGet(dev, RangeIgnore.Enabled);
1427:dev/BSP/Components/vl6180/vl6180_api.c **** 	if( EnableState != CurEnable  ){
1428:dev/BSP/Components/vl6180/vl6180_api.c **** 		VL6180DevDataSet(dev, RangeIgnore.Enabled, EnableState);
1429:dev/BSP/Components/vl6180/vl6180_api.c **** 		status = _RangeIgnore_UpdateDevice(dev);
1430:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
1431:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_END(status);
1432:dev/BSP/Components/vl6180/vl6180_api.c **** 	return status;
1433:dev/BSP/Components/vl6180/vl6180_api.c **** }
1434:dev/BSP/Components/vl6180/vl6180_api.c **** 
1435:dev/BSP/Components/vl6180/vl6180_api.c **** int VL6180_RangeIgnoreConfigure(VL6180Dev_t dev, uint16_t ValidHeight_mm, uint16_t IgnoreThreshold)
1436:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
1437:dev/BSP/Components/vl6180/vl6180_api.c **** 	int enabled;
1438:dev/BSP/Components/vl6180/vl6180_api.c **** 
1439:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_START("height= %d Threshold=%d", (int)ValidHeight_mm, (int)Threshold);
1440:dev/BSP/Components/vl6180/vl6180_api.c **** 
1441:dev/BSP/Components/vl6180/vl6180_api.c **** 	enabled = VL6180DevDataGet(dev, RangeIgnore.Enabled);
1442:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180DevDataSet(dev, RangeIgnore.ValidHeight, ValidHeight_mm);
1443:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180DevDataSet(dev, RangeIgnore.IgnoreThreshold, IgnoreThreshold);
1444:dev/BSP/Components/vl6180/vl6180_api.c **** 	if(  enabled ){
1445:dev/BSP/Components/vl6180/vl6180_api.c **** 		status = _RangeIgnore_UpdateDevice(dev);
1446:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
1447:dev/BSP/Components/vl6180/vl6180_api.c **** 	else{
1448:dev/BSP/Components/vl6180/vl6180_api.c **** 		status = 0;
1449:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
1450:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_END(status);
1451:dev/BSP/Components/vl6180/vl6180_api.c **** 	return status;
1452:dev/BSP/Components/vl6180/vl6180_api.c **** }
1453:dev/BSP/Components/vl6180/vl6180_api.c **** 
1454:dev/BSP/Components/vl6180/vl6180_api.c **** /*
1455:dev/BSP/Components/vl6180/vl6180_api.c ****  * Return >0 = time
1456:dev/BSP/Components/vl6180/vl6180_api.c ****  *       <0 1 if fail to get read data from device to compute time
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 27


1457:dev/BSP/Components/vl6180/vl6180_api.c ****  */
1458:dev/BSP/Components/vl6180/vl6180_api.c **** static int32_t _GetAveTotalTime(VL6180Dev_t dev)
1459:dev/BSP/Components/vl6180/vl6180_api.c **** {
1460:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint32_t cFwOverhead_us = 24;
1461:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint32_t cVcpSetupTime_us = 70;
1462:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint32_t cPLL2_StartupDelay_us = 200;
1463:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint8_t cMeasMask = 0x07;
1464:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint32_t Samples;
1465:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint32_t SamplePeriod;
1466:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint32_t SingleTime_us;
1467:dev/BSP/Components/vl6180/vl6180_api.c **** 	int32_t TotalAveTime_us;
1468:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint8_t u8;
1469:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
1470:dev/BSP/Components/vl6180/vl6180_api.c **** 
1471:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_START("");
1472:dev/BSP/Components/vl6180/vl6180_api.c **** 
1473:dev/BSP/Components/vl6180/vl6180_api.c **** 	status = VL6180_RdByte(dev, 0x109, &u8);
1474:dev/BSP/Components/vl6180/vl6180_api.c **** 	if (status) {
1475:dev/BSP/Components/vl6180/vl6180_api.c **** 		VL6180_ErrLog("rd 0x109 fail");
1476:dev/BSP/Components/vl6180/vl6180_api.c **** 		return -1;
1477:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
1478:dev/BSP/Components/vl6180/vl6180_api.c **** 	Samples = u8 & cMeasMask;
1479:dev/BSP/Components/vl6180/vl6180_api.c **** 	status = VL6180_RdByte(dev, READOUT_AVERAGING_SAMPLE_PERIOD, &u8);
1480:dev/BSP/Components/vl6180/vl6180_api.c **** 	if (status) {
1481:dev/BSP/Components/vl6180/vl6180_api.c **** 		VL6180_ErrLog("i2c READOUT_AVERAGING_SAMPLE_PERIOD fail");
1482:dev/BSP/Components/vl6180/vl6180_api.c **** 		return -1;
1483:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
1484:dev/BSP/Components/vl6180/vl6180_api.c **** 	SamplePeriod = u8;
1485:dev/BSP/Components/vl6180/vl6180_api.c **** 	SingleTime_us = cFwOverhead_us + cVcpSetupTime_us + (SamplePeriod * 10);
1486:dev/BSP/Components/vl6180/vl6180_api.c **** 	TotalAveTime_us = (Samples + 1) * SingleTime_us + cPLL2_StartupDelay_us;
1487:dev/BSP/Components/vl6180/vl6180_api.c **** 
1488:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_END(TotalAveTime_us);
1489:dev/BSP/Components/vl6180/vl6180_api.c **** 	return TotalAveTime_us;
1490:dev/BSP/Components/vl6180/vl6180_api.c **** }
1491:dev/BSP/Components/vl6180/vl6180_api.c **** 
1492:dev/BSP/Components/vl6180/vl6180_api.c **** #if VL6180_HAVE_DMAX_RANGING
1493:dev/BSP/Components/vl6180/vl6180_api.c **** #define _GetDMaxDataRetSignalAt400mm(dev) VL6180DevDataGet(dev, DMaxData.retSignalAt400mm)
1494:dev/BSP/Components/vl6180/vl6180_api.c **** #else
1495:dev/BSP/Components/vl6180/vl6180_api.c **** #define _GetDMaxDataRetSignalAt400mm(dev) 375 /* Use a default high value */
1496:dev/BSP/Components/vl6180/vl6180_api.c **** #endif
1497:dev/BSP/Components/vl6180/vl6180_api.c **** 
1498:dev/BSP/Components/vl6180/vl6180_api.c **** 
1499:dev/BSP/Components/vl6180/vl6180_api.c **** #if VL6180_WRAP_AROUND_FILTER_SUPPORT
1500:dev/BSP/Components/vl6180/vl6180_api.c **** 
1501:dev/BSP/Components/vl6180/vl6180_api.c **** #define PRESERVE_DEVICE_ERROR_CODE		/* If uncommented, device error code will be preserved on top o
1502:dev/BSP/Components/vl6180/vl6180_api.c **** #define SENSITIVE_FILTERING_ON_GOING	/* If uncommented, filter will go back to RangingFilteringOnGo
1503:dev/BSP/Components/vl6180/vl6180_api.c **** 
1504:dev/BSP/Components/vl6180/vl6180_api.c **** #define FILTER_STDDEV_SAMPLES           6
1505:dev/BSP/Components/vl6180/vl6180_api.c **** #define MIN_FILTER_STDDEV_SAMPLES       3
1506:dev/BSP/Components/vl6180/vl6180_api.c **** #define MIN_FILTER_STDDEV_SAMPLES_AFTER_FLUSH_OR_BYPASS 5
1507:dev/BSP/Components/vl6180/vl6180_api.c **** #define STDDEV_BASE_VALUE               150
1508:dev/BSP/Components/vl6180/vl6180_api.c **** 
1509:dev/BSP/Components/vl6180/vl6180_api.c **** #define FILTER_INVALID_DISTANCE     65535
1510:dev/BSP/Components/vl6180/vl6180_api.c **** 
1511:dev/BSP/Components/vl6180/vl6180_api.c **** #define _FilterData(field) VL6180DevDataGet(dev, FilterData.field)
1512:dev/BSP/Components/vl6180/vl6180_api.c **** /*
1513:dev/BSP/Components/vl6180/vl6180_api.c ****  * One time init
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 28


1514:dev/BSP/Components/vl6180/vl6180_api.c ****  */
1515:dev/BSP/Components/vl6180/vl6180_api.c **** int _filter_Init(VL6180Dev_t dev)
1516:dev/BSP/Components/vl6180/vl6180_api.c **** {
  28              		.loc 1 1516 1 view -0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 0
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32              		@ link register save eliminated.
  33              		.loc 1 1516 1 is_stmt 0 view .LVU1
  34 0000 0146     		mov	r1, r0
1517:dev/BSP/Components/vl6180/vl6180_api.c **** 	int i;
  35              		.loc 1 1517 2 is_stmt 1 view .LVU2
1518:dev/BSP/Components/vl6180/vl6180_api.c **** 	_FilterData(MeasurementIndex) = 0;
  36              		.loc 1 1518 2 view .LVU3
  37              		.loc 1 1518 32 is_stmt 0 view .LVU4
  38 0002 0023     		movs	r3, #0
  39 0004 4361     		str	r3, [r0, #20]
1519:dev/BSP/Components/vl6180/vl6180_api.c **** 
1520:dev/BSP/Components/vl6180/vl6180_api.c **** 	_FilterData(Default_ZeroVal) = 0;
  40              		.loc 1 1520 2 is_stmt 1 view .LVU5
  41              		.loc 1 1520 31 is_stmt 0 view .LVU6
  42 0006 C365     		str	r3, [r0, #92]
1521:dev/BSP/Components/vl6180/vl6180_api.c **** 	_FilterData(Default_VAVGVal) = 0;
  43              		.loc 1 1521 2 is_stmt 1 view .LVU7
  44              		.loc 1 1521 31 is_stmt 0 view .LVU8
  45 0008 0366     		str	r3, [r0, #96]
1522:dev/BSP/Components/vl6180/vl6180_api.c **** 	_FilterData(NoDelay_ZeroVal) = 0;
  46              		.loc 1 1522 2 is_stmt 1 view .LVU9
  47              		.loc 1 1522 31 is_stmt 0 view .LVU10
  48 000a 4366     		str	r3, [r0, #100]
1523:dev/BSP/Components/vl6180/vl6180_api.c **** 	_FilterData(NoDelay_VAVGVal) = 0;
  49              		.loc 1 1523 2 is_stmt 1 view .LVU11
  50              		.loc 1 1523 31 is_stmt 0 view .LVU12
  51 000c 8366     		str	r3, [r0, #104]
1524:dev/BSP/Components/vl6180/vl6180_api.c **** 	_FilterData(Previous_VAVGDiff) = 0;
  52              		.loc 1 1524 2 is_stmt 1 view .LVU13
  53              		.loc 1 1524 33 is_stmt 0 view .LVU14
  54 000e C366     		str	r3, [r0, #108]
1525:dev/BSP/Components/vl6180/vl6180_api.c **** 
1526:dev/BSP/Components/vl6180/vl6180_api.c **** 	_FilterData(StdFilteredReads) = 0;
  55              		.loc 1 1526 2 is_stmt 1 view .LVU15
  56              		.loc 1 1526 32 is_stmt 0 view .LVU16
  57 0010 A0F85830 		strh	r3, [r0, #88]	@ movhi
1527:dev/BSP/Components/vl6180/vl6180_api.c **** 	_FilterData(FilteringOnGoingConsecutiveStates) = 0;
  58              		.loc 1 1527 2 is_stmt 1 view .LVU17
  59              		.loc 1 1527 49 is_stmt 0 view .LVU18
  60 0014 0367     		str	r3, [r0, #112]
1528:dev/BSP/Components/vl6180/vl6180_api.c **** 
1529:dev/BSP/Components/vl6180/vl6180_api.c **** 	for (i = 0; i < FILTER_NBOF_SAMPLES; i++) {
  61              		.loc 1 1529 2 is_stmt 1 view .LVU19
  62              	.LVL1:
  63              	.L2:
  64              		.loc 1 1529 14 discriminator 1 view .LVU20
  65              		.loc 1 1529 2 is_stmt 0 discriminator 1 view .LVU21
  66 0016 092B     		cmp	r3, #9
  67 0018 0EDC     		bgt	.L4
1530:dev/BSP/Components/vl6180/vl6180_api.c **** 		_FilterData(LastTrueRange)[i] = FILTER_INVALID_DISTANCE;
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 29


  68              		.loc 1 1530 3 is_stmt 1 discriminator 3 view .LVU22
  69              		.loc 1 1530 33 is_stmt 0 discriminator 3 view .LVU23
  70 001a 03F10C02 		add	r2, r3, #12
  71 001e 01EB4202 		add	r2, r1, r2, lsl #1
  72 0022 4FF6FF70 		movw	r0, #65535
  73 0026 9080     		strh	r0, [r2, #4]	@ movhi
1531:dev/BSP/Components/vl6180/vl6180_api.c **** 		_FilterData(LastReturnRates)[i] = 0;
  74              		.loc 1 1531 3 is_stmt 1 discriminator 3 view .LVU24
  75              		.loc 1 1531 35 is_stmt 0 discriminator 3 view .LVU25
  76 0028 03F10A02 		add	r2, r3, #10
  77 002c 01EB8202 		add	r2, r1, r2, lsl #2
  78 0030 0020     		movs	r0, #0
  79 0032 9060     		str	r0, [r2, #8]
1529:dev/BSP/Components/vl6180/vl6180_api.c **** 		_FilterData(LastTrueRange)[i] = FILTER_INVALID_DISTANCE;
  80              		.loc 1 1529 39 is_stmt 1 discriminator 3 view .LVU26
1529:dev/BSP/Components/vl6180/vl6180_api.c **** 		_FilterData(LastTrueRange)[i] = FILTER_INVALID_DISTANCE;
  81              		.loc 1 1529 40 is_stmt 0 discriminator 3 view .LVU27
  82 0034 0133     		adds	r3, r3, #1
  83              	.LVL2:
1529:dev/BSP/Components/vl6180/vl6180_api.c **** 		_FilterData(LastTrueRange)[i] = FILTER_INVALID_DISTANCE;
  84              		.loc 1 1529 40 discriminator 3 view .LVU28
  85 0036 EEE7     		b	.L2
  86              	.L4:
1532:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
1533:dev/BSP/Components/vl6180/vl6180_api.c **** 	_FilterData(MeasurementsSinceLastFlush)=0;
  87              		.loc 1 1533 2 is_stmt 1 view .LVU29
  88              		.loc 1 1533 41 is_stmt 0 view .LVU30
  89 0038 0020     		movs	r0, #0
  90 003a 8861     		str	r0, [r1, #24]
1534:dev/BSP/Components/vl6180/vl6180_api.c **** 	return 0;
  91              		.loc 1 1534 2 is_stmt 1 view .LVU31
1535:dev/BSP/Components/vl6180/vl6180_api.c **** }
  92              		.loc 1 1535 1 is_stmt 0 view .LVU32
  93 003c 7047     		bx	lr
  94              		.cfi_endproc
  95              	.LFE49:
  97              		.section	.text._filter_StdDevDamper,"ax",%progbits
  98              		.align	1
  99              		.syntax unified
 100              		.thumb
 101              		.thumb_func
 102              		.fpu fpv5-d16
 104              	_filter_StdDevDamper:
 105              	.LVL3:
 106              	.LFB50:
1536:dev/BSP/Components/vl6180/vl6180_api.c **** 
1537:dev/BSP/Components/vl6180/vl6180_api.c **** 
1538:dev/BSP/Components/vl6180/vl6180_api.c **** static uint32_t _filter_StdDevDamper(uint32_t AmbientRate,
1539:dev/BSP/Components/vl6180/vl6180_api.c **** 									uint32_t SignalRate,
1540:dev/BSP/Components/vl6180/vl6180_api.c **** 									const uint32_t StdDevLimitLowLight,
1541:dev/BSP/Components/vl6180/vl6180_api.c **** 									const uint32_t StdDevLimitLowLightSNR,
1542:dev/BSP/Components/vl6180/vl6180_api.c **** 									const uint32_t StdDevLimitHighLight,
1543:dev/BSP/Components/vl6180/vl6180_api.c **** 									const uint32_t StdDevLimitHighLightSNR)
1544:dev/BSP/Components/vl6180/vl6180_api.c **** {
 107              		.loc 1 1544 1 is_stmt 1 view -0
 108              		.cfi_startproc
 109              		@ args = 8, pretend = 0, frame = 0
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 30


 110              		@ frame_needed = 0, uses_anonymous_args = 0
 111              		@ link register save eliminated.
 112              		.loc 1 1544 1 is_stmt 0 view .LVU34
 113 0000 70B4     		push	{r4, r5, r6}
 114              	.LCFI0:
 115              		.cfi_def_cfa_offset 12
 116              		.cfi_offset 4, -12
 117              		.cfi_offset 5, -8
 118              		.cfi_offset 6, -4
 119 0002 049D     		ldr	r5, [sp, #16]
1545:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint32_t newStdDev;
 120              		.loc 1 1545 2 is_stmt 1 view .LVU35
1546:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint16_t SNR;
 121              		.loc 1 1546 2 view .LVU36
1547:dev/BSP/Components/vl6180/vl6180_api.c **** 
1548:dev/BSP/Components/vl6180/vl6180_api.c **** 	if (AmbientRate > 0)
 122              		.loc 1 1548 2 view .LVU37
 123              		.loc 1 1548 5 is_stmt 0 view .LVU38
 124 0004 98B1     		cbz	r0, .L8
1549:dev/BSP/Components/vl6180/vl6180_api.c **** 		SNR = (uint16_t) ((100 * SignalRate) / AmbientRate);
 125              		.loc 1 1549 3 is_stmt 1 view .LVU39
 126              		.loc 1 1549 26 is_stmt 0 view .LVU40
 127 0006 6424     		movs	r4, #100
 128 0008 04FB01F1 		mul	r1, r4, r1
 129              	.LVL4:
 130              		.loc 1 1549 40 view .LVU41
 131 000c B1FBF0F1 		udiv	r1, r1, r0
 132              		.loc 1 1549 7 view .LVU42
 133 0010 89B2     		uxth	r1, r1
 134              	.LVL5:
 135              	.L6:
1550:dev/BSP/Components/vl6180/vl6180_api.c **** 	else
1551:dev/BSP/Components/vl6180/vl6180_api.c **** 		SNR = 9999;
1552:dev/BSP/Components/vl6180/vl6180_api.c **** 
1553:dev/BSP/Components/vl6180/vl6180_api.c **** 	if (SNR >= StdDevLimitLowLightSNR) {
 136              		.loc 1 1553 2 is_stmt 1 view .LVU43
 137              		.loc 1 1553 5 is_stmt 0 view .LVU44
 138 0012 9942     		cmp	r1, r3
 139 0014 0FD2     		bcs	.L7
1554:dev/BSP/Components/vl6180/vl6180_api.c **** 		newStdDev = StdDevLimitLowLight;
1555:dev/BSP/Components/vl6180/vl6180_api.c **** 	} else {
1556:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (SNR <= StdDevLimitHighLightSNR)
 140              		.loc 1 1556 3 is_stmt 1 view .LVU45
 141              		.loc 1 1556 6 is_stmt 0 view .LVU46
 142 0016 A942     		cmp	r1, r5
 143 0018 0CD9     		bls	.L9
1557:dev/BSP/Components/vl6180/vl6180_api.c **** 			newStdDev = StdDevLimitHighLight;
1558:dev/BSP/Components/vl6180/vl6180_api.c **** 		else {
1559:dev/BSP/Components/vl6180/vl6180_api.c **** 			newStdDev = (uint32_t)(StdDevLimitHighLight -
 144              		.loc 1 1559 4 is_stmt 1 view .LVU47
1560:dev/BSP/Components/vl6180/vl6180_api.c **** 									(SNR - StdDevLimitHighLightSNR) *
 145              		.loc 1 1560 15 is_stmt 0 view .LVU48
 146 001a 481B     		subs	r0, r1, r5
 147              	.LVL6:
1561:dev/BSP/Components/vl6180/vl6180_api.c **** 									(StdDevLimitHighLight - StdDevLimitLowLight) /
 148              		.loc 1 1561 32 view .LVU49
 149 001c 0399     		ldr	r1, [sp, #12]
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 31


 150              	.LVL7:
 151              		.loc 1 1561 32 view .LVU50
 152 001e 8A1A     		subs	r2, r1, r2
 153              	.LVL8:
1560:dev/BSP/Components/vl6180/vl6180_api.c **** 									(SNR - StdDevLimitHighLightSNR) *
 154              		.loc 1 1560 42 view .LVU51
 155 0020 02FB00F2 		mul	r2, r2, r0
1562:dev/BSP/Components/vl6180/vl6180_api.c **** 									(StdDevLimitLowLightSNR - StdDevLimitHighLightSNR));
 156              		.loc 1 1562 34 view .LVU52
 157 0024 5B1B     		subs	r3, r3, r5
 158              	.LVL9:
1561:dev/BSP/Components/vl6180/vl6180_api.c **** 									(StdDevLimitHighLight - StdDevLimitLowLight) /
 159              		.loc 1 1561 55 view .LVU53
 160 0026 B2FBF3F2 		udiv	r2, r2, r3
1559:dev/BSP/Components/vl6180/vl6180_api.c **** 									(SNR - StdDevLimitHighLightSNR) *
 161              		.loc 1 1559 14 view .LVU54
 162 002a 8A1A     		subs	r2, r1, r2
 163              	.LVL10:
1559:dev/BSP/Components/vl6180/vl6180_api.c **** 									(SNR - StdDevLimitHighLightSNR) *
 164              		.loc 1 1559 14 view .LVU55
 165 002c 03E0     		b	.L7
 166              	.LVL11:
 167              	.L8:
1551:dev/BSP/Components/vl6180/vl6180_api.c **** 
 168              		.loc 1 1551 7 view .LVU56
 169 002e 42F20F71 		movw	r1, #9999
 170              	.LVL12:
1551:dev/BSP/Components/vl6180/vl6180_api.c **** 
 171              		.loc 1 1551 7 view .LVU57
 172 0032 EEE7     		b	.L6
 173              	.LVL13:
 174              	.L9:
1557:dev/BSP/Components/vl6180/vl6180_api.c **** 		else {
 175              		.loc 1 1557 14 view .LVU58
 176 0034 039A     		ldr	r2, [sp, #12]
 177              	.LVL14:
 178              	.L7:
1563:dev/BSP/Components/vl6180/vl6180_api.c **** 		}
1564:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
1565:dev/BSP/Components/vl6180/vl6180_api.c **** 
1566:dev/BSP/Components/vl6180/vl6180_api.c **** 	return newStdDev;
 179              		.loc 1 1566 2 is_stmt 1 view .LVU59
1567:dev/BSP/Components/vl6180/vl6180_api.c **** }
 180              		.loc 1 1567 1 is_stmt 0 view .LVU60
 181 0036 1046     		mov	r0, r2
 182 0038 70BC     		pop	{r4, r5, r6}
 183              	.LCFI1:
 184              		.cfi_restore 6
 185              		.cfi_restore 5
 186              		.cfi_restore 4
 187              		.cfi_def_cfa_offset 0
 188              	.LVL15:
 189              		.loc 1 1567 1 view .LVU61
 190 003a 7047     		bx	lr
 191              		.cfi_endproc
 192              	.LFE50:
 194              		.section	.text._GetAveTotalTime,"ax",%progbits
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 32


 195              		.align	1
 196              		.syntax unified
 197              		.thumb
 198              		.thumb_func
 199              		.fpu fpv5-d16
 201              	_GetAveTotalTime:
 202              	.LVL16:
 203              	.LFB48:
1459:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint32_t cFwOverhead_us = 24;
 204              		.loc 1 1459 1 is_stmt 1 view -0
 205              		.cfi_startproc
 206              		@ args = 0, pretend = 0, frame = 8
 207              		@ frame_needed = 0, uses_anonymous_args = 0
1459:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint32_t cFwOverhead_us = 24;
 208              		.loc 1 1459 1 is_stmt 0 view .LVU63
 209 0000 30B5     		push	{r4, r5, lr}
 210              	.LCFI2:
 211              		.cfi_def_cfa_offset 12
 212              		.cfi_offset 4, -12
 213              		.cfi_offset 5, -8
 214              		.cfi_offset 14, -4
 215 0002 83B0     		sub	sp, sp, #12
 216              	.LCFI3:
 217              		.cfi_def_cfa_offset 24
 218 0004 0446     		mov	r4, r0
1460:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint32_t cVcpSetupTime_us = 70;
 219              		.loc 1 1460 2 is_stmt 1 view .LVU64
 220              	.LVL17:
1461:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint32_t cPLL2_StartupDelay_us = 200;
 221              		.loc 1 1461 2 view .LVU65
1462:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint8_t cMeasMask = 0x07;
 222              		.loc 1 1462 2 view .LVU66
1463:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint32_t Samples;
 223              		.loc 1 1463 2 view .LVU67
1464:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint32_t SamplePeriod;
 224              		.loc 1 1464 2 view .LVU68
1465:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint32_t SingleTime_us;
 225              		.loc 1 1465 2 view .LVU69
1466:dev/BSP/Components/vl6180/vl6180_api.c **** 	int32_t TotalAveTime_us;
 226              		.loc 1 1466 2 view .LVU70
1467:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint8_t u8;
 227              		.loc 1 1467 2 view .LVU71
1468:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
 228              		.loc 1 1468 2 view .LVU72
1469:dev/BSP/Components/vl6180/vl6180_api.c **** 
 229              		.loc 1 1469 2 view .LVU73
1471:dev/BSP/Components/vl6180/vl6180_api.c **** 
 230              		.loc 1 1471 2 view .LVU74
1473:dev/BSP/Components/vl6180/vl6180_api.c **** 	if (status) {
 231              		.loc 1 1473 2 view .LVU75
1473:dev/BSP/Components/vl6180/vl6180_api.c **** 	if (status) {
 232              		.loc 1 1473 11 is_stmt 0 view .LVU76
 233 0006 0DF10702 		add	r2, sp, #7
 234 000a 40F20911 		movw	r1, #265
 235 000e FFF7FEFF 		bl	VL6180_RdByte
 236              	.LVL18:
1474:dev/BSP/Components/vl6180/vl6180_api.c **** 		VL6180_ErrLog("rd 0x109 fail");
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 33


 237              		.loc 1 1474 2 is_stmt 1 view .LVU77
1474:dev/BSP/Components/vl6180/vl6180_api.c **** 		VL6180_ErrLog("rd 0x109 fail");
 238              		.loc 1 1474 5 is_stmt 0 view .LVU78
 239 0012 B0B9     		cbnz	r0, .L13
1478:dev/BSP/Components/vl6180/vl6180_api.c **** 	status = VL6180_RdByte(dev, READOUT_AVERAGING_SAMPLE_PERIOD, &u8);
 240              		.loc 1 1478 2 is_stmt 1 view .LVU79
1478:dev/BSP/Components/vl6180/vl6180_api.c **** 	status = VL6180_RdByte(dev, READOUT_AVERAGING_SAMPLE_PERIOD, &u8);
 241              		.loc 1 1478 15 is_stmt 0 view .LVU80
 242 0014 9DF80700 		ldrb	r0, [sp, #7]	@ zero_extendqisi2
 243              	.LVL19:
1478:dev/BSP/Components/vl6180/vl6180_api.c **** 	status = VL6180_RdByte(dev, READOUT_AVERAGING_SAMPLE_PERIOD, &u8);
 244              		.loc 1 1478 15 view .LVU81
 245 0018 00F00705 		and	r5, r0, #7
 246              	.LVL20:
1479:dev/BSP/Components/vl6180/vl6180_api.c **** 	if (status) {
 247              		.loc 1 1479 2 is_stmt 1 view .LVU82
1479:dev/BSP/Components/vl6180/vl6180_api.c **** 	if (status) {
 248              		.loc 1 1479 11 is_stmt 0 view .LVU83
 249 001c 0DF10702 		add	r2, sp, #7
 250 0020 4FF48571 		mov	r1, #266
 251 0024 2046     		mov	r0, r4
 252 0026 FFF7FEFF 		bl	VL6180_RdByte
 253              	.LVL21:
1480:dev/BSP/Components/vl6180/vl6180_api.c **** 		VL6180_ErrLog("i2c READOUT_AVERAGING_SAMPLE_PERIOD fail");
 254              		.loc 1 1480 2 is_stmt 1 view .LVU84
1480:dev/BSP/Components/vl6180/vl6180_api.c **** 		VL6180_ErrLog("i2c READOUT_AVERAGING_SAMPLE_PERIOD fail");
 255              		.loc 1 1480 5 is_stmt 0 view .LVU85
 256 002a 68B9     		cbnz	r0, .L14
1484:dev/BSP/Components/vl6180/vl6180_api.c **** 	SingleTime_us = cFwOverhead_us + cVcpSetupTime_us + (SamplePeriod * 10);
 257              		.loc 1 1484 2 is_stmt 1 view .LVU86
1484:dev/BSP/Components/vl6180/vl6180_api.c **** 	SingleTime_us = cFwOverhead_us + cVcpSetupTime_us + (SamplePeriod * 10);
 258              		.loc 1 1484 15 is_stmt 0 view .LVU87
 259 002c 9DF80700 		ldrb	r0, [sp, #7]	@ zero_extendqisi2
 260              	.LVL22:
1485:dev/BSP/Components/vl6180/vl6180_api.c **** 	TotalAveTime_us = (Samples + 1) * SingleTime_us + cPLL2_StartupDelay_us;
 261              		.loc 1 1485 2 is_stmt 1 view .LVU88
1485:dev/BSP/Components/vl6180/vl6180_api.c **** 	TotalAveTime_us = (Samples + 1) * SingleTime_us + cPLL2_StartupDelay_us;
 262              		.loc 1 1485 68 is_stmt 0 view .LVU89
 263 0030 00EB8000 		add	r0, r0, r0, lsl #2
 264              	.LVL23:
1485:dev/BSP/Components/vl6180/vl6180_api.c **** 	TotalAveTime_us = (Samples + 1) * SingleTime_us + cPLL2_StartupDelay_us;
 265              		.loc 1 1485 68 view .LVU90
 266 0034 4000     		lsls	r0, r0, #1
1485:dev/BSP/Components/vl6180/vl6180_api.c **** 	TotalAveTime_us = (Samples + 1) * SingleTime_us + cPLL2_StartupDelay_us;
 267              		.loc 1 1485 16 view .LVU91
 268 0036 5E30     		adds	r0, r0, #94
 269              	.LVL24:
1486:dev/BSP/Components/vl6180/vl6180_api.c **** 
 270              		.loc 1 1486 2 is_stmt 1 view .LVU92
1486:dev/BSP/Components/vl6180/vl6180_api.c **** 
 271              		.loc 1 1486 34 is_stmt 0 view .LVU93
 272 0038 05FB0000 		mla	r0, r5, r0, r0
 273              	.LVL25:
1486:dev/BSP/Components/vl6180/vl6180_api.c **** 
 274              		.loc 1 1486 50 view .LVU94
 275 003c C830     		adds	r0, r0, #200
 276              	.LVL26:
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 34


1488:dev/BSP/Components/vl6180/vl6180_api.c **** 	return TotalAveTime_us;
 277              		.loc 1 1488 2 is_stmt 1 view .LVU95
1489:dev/BSP/Components/vl6180/vl6180_api.c **** }
 278              		.loc 1 1489 2 view .LVU96
 279              	.L11:
1490:dev/BSP/Components/vl6180/vl6180_api.c **** 
 280              		.loc 1 1490 1 is_stmt 0 view .LVU97
 281 003e 03B0     		add	sp, sp, #12
 282              	.LCFI4:
 283              		.cfi_remember_state
 284              		.cfi_def_cfa_offset 12
 285              		@ sp needed
 286 0040 30BD     		pop	{r4, r5, pc}
 287              	.LVL27:
 288              	.L13:
 289              	.LCFI5:
 290              		.cfi_restore_state
1476:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
 291              		.loc 1 1476 10 view .LVU98
 292 0042 4FF0FF30 		mov	r0, #-1
 293              	.LVL28:
1476:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
 294              		.loc 1 1476 10 view .LVU99
 295 0046 FAE7     		b	.L11
 296              	.LVL29:
 297              	.L14:
1482:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
 298              		.loc 1 1482 10 view .LVU100
 299 0048 4FF0FF30 		mov	r0, #-1
 300              	.LVL30:
1482:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
 301              		.loc 1 1482 10 view .LVU101
 302 004c F7E7     		b	.L11
 303              		.cfi_endproc
 304              	.LFE48:
 306              		.section	.text._GetRateResult,"ax",%progbits
 307              		.align	1
 308              		.syntax unified
 309              		.thumb
 310              		.thumb_func
 311              		.fpu fpv5-d16
 313              	_GetRateResult:
 314              	.LVL31:
 315              	.LFB53:
1568:dev/BSP/Components/vl6180/vl6180_api.c **** 
1569:dev/BSP/Components/vl6180/vl6180_api.c **** 
1570:dev/BSP/Components/vl6180/vl6180_api.c **** /*
1571:dev/BSP/Components/vl6180/vl6180_api.c ****  * Return <0 on error
1572:dev/BSP/Components/vl6180/vl6180_api.c ****  */
1573:dev/BSP/Components/vl6180/vl6180_api.c **** static int32_t _filter_Start(VL6180Dev_t dev,
1574:dev/BSP/Components/vl6180/vl6180_api.c **** 								uint16_t m_trueRange_mm,
1575:dev/BSP/Components/vl6180/vl6180_api.c **** 								uint16_t m_rawRange_mm,
1576:dev/BSP/Components/vl6180/vl6180_api.c **** 								uint32_t m_rtnSignalRate,
1577:dev/BSP/Components/vl6180/vl6180_api.c **** 								uint32_t m_rtnAmbientRate,
1578:dev/BSP/Components/vl6180/vl6180_api.c **** 								uint16_t errorCode)
1579:dev/BSP/Components/vl6180/vl6180_api.c **** {
1580:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 35


1581:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint16_t m_newTrueRange_mm = 0;
1582:dev/BSP/Components/vl6180/vl6180_api.c **** 	#if VL6180_HAVE_MULTI_READ
1583:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint8_t MultiReadBuf[8];
1584:dev/BSP/Components/vl6180/vl6180_api.c **** 	#endif
1585:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint16_t i;
1586:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint16_t bypassFilter = 0;
1587:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint16_t resetVAVGData = 1;
1588:dev/BSP/Components/vl6180/vl6180_api.c **** 
1589:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint16_t filterErrorCode = NoError;
1590:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint16_t filterErrorCodeOnRangingErrorCode = NoError;
1591:dev/BSP/Components/vl6180/vl6180_api.c **** 
1592:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint16_t registerValue;
1593:dev/BSP/Components/vl6180/vl6180_api.c **** 
1594:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint32_t register32BitsValue1;
1595:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint32_t register32BitsValue2;
1596:dev/BSP/Components/vl6180/vl6180_api.c **** 
1597:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint16_t ValidDistance = 0;
1598:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint16_t SuspicuousRangingZone = 0;
1599:dev/BSP/Components/vl6180/vl6180_api.c **** 
1600:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint16_t WrapAroundFlag = 0;
1601:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint16_t NoWrapAroundFlag = 0;
1602:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint16_t NoWrapAroundHighConfidenceFlag = 0;
1603:dev/BSP/Components/vl6180/vl6180_api.c **** 
1604:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint16_t FlushFilter = 0;
1605:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint32_t RateChange = 0;
1606:dev/BSP/Components/vl6180/vl6180_api.c **** 
1607:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint16_t StdDevSamplesMinNeeded = 0;
1608:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint16_t StdDevSamples = 0;
1609:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint32_t StdDevDistanceSum = 0;
1610:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint32_t StdDevDistanceMean = 0;
1611:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint32_t StdDevDistance = 0;
1612:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint32_t StdDevRateSum = 0;
1613:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint32_t StdDevRateMean = 0;
1614:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint32_t StdDevRate = 0;
1615:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint32_t StdDevLimitWithTargetMove = 0;
1616:dev/BSP/Components/vl6180/vl6180_api.c **** 
1617:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint32_t VAVGDiff;
1618:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint32_t IdealVAVGDiff;
1619:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint32_t MinVAVGDiff;
1620:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint32_t MaxVAVGDiff;
1621:dev/BSP/Components/vl6180/vl6180_api.c **** 
1622:dev/BSP/Components/vl6180/vl6180_api.c **** 	/* Filter Parameters */
1623:dev/BSP/Components/vl6180/vl6180_api.c **** 	static const uint16_t ROMABLE_DATA WrapAroundLowRawRangeLimit = 60;
1624:dev/BSP/Components/vl6180/vl6180_api.c **** 	static const uint32_t ROMABLE_DATA WrapAroundLowReturnRateLimit_ROM = 800;
1625:dev/BSP/Components/vl6180/vl6180_api.c **** 	/* Shall be adapted depending on crossTalk */
1626:dev/BSP/Components/vl6180/vl6180_api.c **** 	static const uint16_t ROMABLE_DATA WrapAroundLowRawRangeLimit2 = 165;
1627:dev/BSP/Components/vl6180/vl6180_api.c **** 	static const uint32_t ROMABLE_DATA WrapAroundLowReturnRateLimit2_ROM = 180;
1628:dev/BSP/Components/vl6180/vl6180_api.c **** 	/* Shall be adapted depending on crossTalk and device sensitivity*/
1629:dev/BSP/Components/vl6180/vl6180_api.c **** 	static const uint32_t ROMABLE_DATA WrapAroundLowRawRangeLimit2SuspicuousAddedSignalRate = 150;
1630:dev/BSP/Components/vl6180/vl6180_api.c **** 
1631:dev/BSP/Components/vl6180/vl6180_api.c **** 
1632:dev/BSP/Components/vl6180/vl6180_api.c **** 	static const uint32_t ROMABLE_DATA WrapAroundLowReturnRateFilterLimit_ROM = 850;
1633:dev/BSP/Components/vl6180/vl6180_api.c **** 	/* Shall be adapted depending on crossTalk and device sensitivity*/
1634:dev/BSP/Components/vl6180/vl6180_api.c **** 	static const uint16_t ROMABLE_DATA WrapAroundHighRawRangeFilterLimit = 350;
1635:dev/BSP/Components/vl6180/vl6180_api.c **** 	static const uint32_t ROMABLE_DATA WrapAroundHighReturnRateFilterLimit_ROM = 1400;
1636:dev/BSP/Components/vl6180/vl6180_api.c **** 	/* Shall be adapted depending on crossTalk and device sensitivity*/
1637:dev/BSP/Components/vl6180/vl6180_api.c **** 
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 36


1638:dev/BSP/Components/vl6180/vl6180_api.c **** 	static const uint32_t ROMABLE_DATA WrapAroundMaximumAmbientRateFilterLimit = 15000;
1639:dev/BSP/Components/vl6180/vl6180_api.c **** 
1640:dev/BSP/Components/vl6180/vl6180_api.c **** 	/*  Temporal filter data and flush values */
1641:dev/BSP/Components/vl6180/vl6180_api.c **** 	static const uint32_t ROMABLE_DATA MinReturnRateFilterFlush = 75;
1642:dev/BSP/Components/vl6180/vl6180_api.c **** 	static const uint32_t ROMABLE_DATA MaxReturnRateChangeFilterFlush = 50;
1643:dev/BSP/Components/vl6180/vl6180_api.c **** 
1644:dev/BSP/Components/vl6180/vl6180_api.c **** 	/* STDDEV values and damper values */
1645:dev/BSP/Components/vl6180/vl6180_api.c **** 	static const uint32_t ROMABLE_DATA StdDevLimitLowLight = STDDEV_BASE_VALUE;
1646:dev/BSP/Components/vl6180/vl6180_api.c **** 	static const uint32_t ROMABLE_DATA StdDevLimitLowLightSNR = 30; /* 0.3 */
1647:dev/BSP/Components/vl6180/vl6180_api.c **** 	static const uint32_t ROMABLE_DATA StdDevLimitHighLight = STDDEV_BASE_VALUE*6;
1648:dev/BSP/Components/vl6180/vl6180_api.c **** 	static const uint32_t ROMABLE_DATA StdDevLimitHighLightSNR = 5; /* 0.05 */
1649:dev/BSP/Components/vl6180/vl6180_api.c **** 
1650:dev/BSP/Components/vl6180/vl6180_api.c **** 	static const uint32_t ROMABLE_DATA StdDevHighConfidenceSNRLimit = 8;
1651:dev/BSP/Components/vl6180/vl6180_api.c **** 	static const uint32_t ROMABLE_DATA StdDevNoWrapDetectedMultiplier = 4;
1652:dev/BSP/Components/vl6180/vl6180_api.c **** 
1653:dev/BSP/Components/vl6180/vl6180_api.c **** 	static const uint32_t ROMABLE_DATA StdDevMovingTargetStdDevLimit = 90000;
1654:dev/BSP/Components/vl6180/vl6180_api.c **** 
1655:dev/BSP/Components/vl6180/vl6180_api.c **** 	static const uint32_t ROMABLE_DATA StdDevMovingTargetReturnRateLimit = 3500;
1656:dev/BSP/Components/vl6180/vl6180_api.c **** 	static const uint32_t ROMABLE_DATA StdDevMovingTargetStdDevForReturnRateLimit = STDDEV_BASE_VALUE*
1657:dev/BSP/Components/vl6180/vl6180_api.c **** 
1658:dev/BSP/Components/vl6180/vl6180_api.c **** 	static const uint32_t ROMABLE_DATA MAX_VAVGDiff_ROM = 1800;
1659:dev/BSP/Components/vl6180/vl6180_api.c **** 	static const uint32_t ROMABLE_DATA SuspicuousMAX_VAVGDiffRatio = 2;
1660:dev/BSP/Components/vl6180/vl6180_api.c **** 
1661:dev/BSP/Components/vl6180/vl6180_api.c **** 	/* WrapAroundDetection variables */
1662:dev/BSP/Components/vl6180/vl6180_api.c **** 	static const uint16_t ROMABLE_DATA WrapAroundNoDelayCheckPeriod = 2;
1663:dev/BSP/Components/vl6180/vl6180_api.c **** 	static const uint16_t ROMABLE_DATA StdFilteredReadsIncrement = 2;
1664:dev/BSP/Components/vl6180/vl6180_api.c **** 	static const uint16_t ROMABLE_DATA StdFilteredReadsDecrement = 1;
1665:dev/BSP/Components/vl6180/vl6180_api.c **** 	static const uint16_t ROMABLE_DATA StdMaxFilteredReads = 4;
1666:dev/BSP/Components/vl6180/vl6180_api.c **** 
1667:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint32_t SignalRateDMax;
1668:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint32_t WrapAroundLowReturnRateLimit;
1669:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint32_t WrapAroundLowReturnRateLimit2;
1670:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint32_t WrapAroundLowReturnRateFilterLimit;
1671:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint32_t WrapAroundHighReturnRateFilterLimit;
1672:dev/BSP/Components/vl6180/vl6180_api.c **** 
1673:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint32_t MAX_VAVGDiff = 1800;
1674:dev/BSP/Components/vl6180/vl6180_api.c **** 
1675:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint8_t u8;//, u8_2;
1676:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint32_t XTalkCompRate_KCps;
1677:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint32_t StdDevLimit = 300;
1678:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint32_t MaxOrInvalidDistance =   255*_GetUpscale(dev);
1679:dev/BSP/Components/vl6180/vl6180_api.c **** 	/* #define MaxOrInvalidDistance  (uint16_t) (255 * 3) */
1680:dev/BSP/Components/vl6180/vl6180_api.c **** 
1681:dev/BSP/Components/vl6180/vl6180_api.c **** 	/* Check if distance is Valid or not */
1682:dev/BSP/Components/vl6180/vl6180_api.c **** 	switch (errorCode) {
1683:dev/BSP/Components/vl6180/vl6180_api.c **** 	case Raw_Ranging_Algo_Underflow:
1684:dev/BSP/Components/vl6180/vl6180_api.c **** 	case Ranging_Algo_Underflow:
1685:dev/BSP/Components/vl6180/vl6180_api.c **** 		filterErrorCodeOnRangingErrorCode = RangingFiltered; /* If we have to go through filter, mean we 
1686:dev/BSP/Components/vl6180/vl6180_api.c **** 		ValidDistance = 0;
1687:dev/BSP/Components/vl6180/vl6180_api.c **** 		break;
1688:dev/BSP/Components/vl6180/vl6180_api.c **** 	case Raw_Ranging_Algo_Overflow:
1689:dev/BSP/Components/vl6180/vl6180_api.c **** 	case Ranging_Algo_Overflow:
1690:dev/BSP/Components/vl6180/vl6180_api.c **** 		filterErrorCodeOnRangingErrorCode = RangingFiltered; /* If we have to go through filter, mean we 
1691:dev/BSP/Components/vl6180/vl6180_api.c **** 		//m_trueRange_mm = MaxOrInvalidDistance;
1692:dev/BSP/Components/vl6180/vl6180_api.c **** 		m_trueRange_mm = 200*_GetUpscale(dev);
1693:dev/BSP/Components/vl6180/vl6180_api.c **** 		ValidDistance = 1;
1694:dev/BSP/Components/vl6180/vl6180_api.c **** 		break;
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 37


1695:dev/BSP/Components/vl6180/vl6180_api.c **** 	default:
1696:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (m_rawRange_mm >= MaxOrInvalidDistance) {
1697:dev/BSP/Components/vl6180/vl6180_api.c **** 			ValidDistance = 0;
1698:dev/BSP/Components/vl6180/vl6180_api.c **** 			bypassFilter = 1; /* Bypass the filter in this case as produced distance is not usable (and also
1699:dev/BSP/Components/vl6180/vl6180_api.c **** 		} else {
1700:dev/BSP/Components/vl6180/vl6180_api.c **** 			ValidDistance = 1;
1701:dev/BSP/Components/vl6180/vl6180_api.c **** 		}
1702:dev/BSP/Components/vl6180/vl6180_api.c **** 		break;
1703:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
1704:dev/BSP/Components/vl6180/vl6180_api.c **** 	m_newTrueRange_mm = m_trueRange_mm;
1705:dev/BSP/Components/vl6180/vl6180_api.c **** 
1706:dev/BSP/Components/vl6180/vl6180_api.c **** 	XTalkCompRate_KCps = VL6180DevDataGet(dev, XTalkCompRate_KCps);
1707:dev/BSP/Components/vl6180/vl6180_api.c **** 
1708:dev/BSP/Components/vl6180/vl6180_api.c **** 	/* Update signal rate limits depending on crosstalk */
1709:dev/BSP/Components/vl6180/vl6180_api.c **** 	SignalRateDMax = (uint32_t)_GetDMaxDataRetSignalAt400mm(dev) ;
1710:dev/BSP/Components/vl6180/vl6180_api.c **** 	WrapAroundLowReturnRateLimit = WrapAroundLowReturnRateLimit_ROM  + XTalkCompRate_KCps;
1711:dev/BSP/Components/vl6180/vl6180_api.c **** 	WrapAroundLowReturnRateLimit2 = ((WrapAroundLowReturnRateLimit2_ROM *
1712:dev/BSP/Components/vl6180/vl6180_api.c **** 									SignalRateDMax) / 312) +
1713:dev/BSP/Components/vl6180/vl6180_api.c **** 									XTalkCompRate_KCps;
1714:dev/BSP/Components/vl6180/vl6180_api.c **** 	WrapAroundLowReturnRateFilterLimit = ((WrapAroundLowReturnRateFilterLimit_ROM *
1715:dev/BSP/Components/vl6180/vl6180_api.c **** 									SignalRateDMax) / 312) + XTalkCompRate_KCps;
1716:dev/BSP/Components/vl6180/vl6180_api.c **** 	WrapAroundHighReturnRateFilterLimit = ((WrapAroundHighReturnRateFilterLimit_ROM *
1717:dev/BSP/Components/vl6180/vl6180_api.c **** 									SignalRateDMax) / 312) + XTalkCompRate_KCps;
1718:dev/BSP/Components/vl6180/vl6180_api.c **** 
1719:dev/BSP/Components/vl6180/vl6180_api.c **** 
1720:dev/BSP/Components/vl6180/vl6180_api.c **** 	/* Checks on low range data */
1721:dev/BSP/Components/vl6180/vl6180_api.c **** 	if ((m_rawRange_mm < WrapAroundLowRawRangeLimit) && (m_rtnSignalRate < WrapAroundLowReturnRateLimi
1722:dev/BSP/Components/vl6180/vl6180_api.c **** 		filterErrorCode = RangingFiltered; /* On this condition, wraparound case is ensured */
1723:dev/BSP/Components/vl6180/vl6180_api.c **** 		bypassFilter = 1;
1724:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
1725:dev/BSP/Components/vl6180/vl6180_api.c **** 	if ((m_rawRange_mm < WrapAroundLowRawRangeLimit2) && (m_rtnSignalRate < WrapAroundLowReturnRateLim
1726:dev/BSP/Components/vl6180/vl6180_api.c **** 		filterErrorCode = RangingFiltered; /* On this condition, wraparound case is ensured */
1727:dev/BSP/Components/vl6180/vl6180_api.c **** 		bypassFilter = 1;
1728:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
1729:dev/BSP/Components/vl6180/vl6180_api.c **** 	if ((m_rawRange_mm < WrapAroundLowRawRangeLimit2) && (m_rtnSignalRate < (WrapAroundLowReturnRateLi
1730:dev/BSP/Components/vl6180/vl6180_api.c **** 		SuspicuousRangingZone = 1; /* On this area, we are in an highly suspicuous wraparound ares, filte
1731:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
1732:dev/BSP/Components/vl6180/vl6180_api.c **** 
1733:dev/BSP/Components/vl6180/vl6180_api.c **** 
1734:dev/BSP/Components/vl6180/vl6180_api.c **** 	/* Checks on Ambient rate level */
1735:dev/BSP/Components/vl6180/vl6180_api.c **** 	if (m_rtnAmbientRate > WrapAroundMaximumAmbientRateFilterLimit) {
1736:dev/BSP/Components/vl6180/vl6180_api.c **** 		/* Too high ambient rate */
1737:dev/BSP/Components/vl6180/vl6180_api.c **** 		FlushFilter = 1;
1738:dev/BSP/Components/vl6180/vl6180_api.c **** 		bypassFilter = 1;
1739:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
1740:dev/BSP/Components/vl6180/vl6180_api.c ****     
1741:dev/BSP/Components/vl6180/vl6180_api.c **** 	/*  Checks on Filter flush */
1742:dev/BSP/Components/vl6180/vl6180_api.c **** 	if (m_rtnSignalRate < MinReturnRateFilterFlush) {
1743:dev/BSP/Components/vl6180/vl6180_api.c **** 		/* Completely lost target, so flush the filter */
1744:dev/BSP/Components/vl6180/vl6180_api.c **** 		FlushFilter = 1;
1745:dev/BSP/Components/vl6180/vl6180_api.c **** 		bypassFilter = 1;
1746:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
1747:dev/BSP/Components/vl6180/vl6180_api.c **** 	if (_FilterData(LastReturnRates)[0] != 0) {
1748:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (m_rtnSignalRate > _FilterData(LastReturnRates)[0])
1749:dev/BSP/Components/vl6180/vl6180_api.c **** 			RateChange = (100 *
1750:dev/BSP/Components/vl6180/vl6180_api.c **** 						(m_rtnSignalRate - _FilterData(LastReturnRates)[0])) /
1751:dev/BSP/Components/vl6180/vl6180_api.c **** 						_FilterData(LastReturnRates)[0];
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 38


1752:dev/BSP/Components/vl6180/vl6180_api.c **** 		else
1753:dev/BSP/Components/vl6180/vl6180_api.c **** 			RateChange = (100 *
1754:dev/BSP/Components/vl6180/vl6180_api.c **** 						(_FilterData(LastReturnRates)[0] - m_rtnSignalRate)) /
1755:dev/BSP/Components/vl6180/vl6180_api.c **** 						_FilterData(LastReturnRates)[0];
1756:dev/BSP/Components/vl6180/vl6180_api.c **** 	} else
1757:dev/BSP/Components/vl6180/vl6180_api.c **** 		RateChange = 0;
1758:dev/BSP/Components/vl6180/vl6180_api.c **** 	if (RateChange > MaxReturnRateChangeFilterFlush) {
1759:dev/BSP/Components/vl6180/vl6180_api.c **** 		FlushFilter = 1;
1760:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
1761:dev/BSP/Components/vl6180/vl6180_api.c **** 	/* TODO optimize filter  using circular buffer */
1762:dev/BSP/Components/vl6180/vl6180_api.c **** 	if (FlushFilter == 1) {
1763:dev/BSP/Components/vl6180/vl6180_api.c **** 		_FilterData(MeasurementIndex) = 0;
1764:dev/BSP/Components/vl6180/vl6180_api.c **** 		for (i = 0; i < FILTER_NBOF_SAMPLES; i++) {
1765:dev/BSP/Components/vl6180/vl6180_api.c **** 			_FilterData(LastTrueRange)[i] = FILTER_INVALID_DISTANCE;
1766:dev/BSP/Components/vl6180/vl6180_api.c **** 			_FilterData(LastReturnRates)[i] = 0;
1767:dev/BSP/Components/vl6180/vl6180_api.c **** 		}
1768:dev/BSP/Components/vl6180/vl6180_api.c **** 		_FilterData(MeasurementsSinceLastFlush)=0;
1769:dev/BSP/Components/vl6180/vl6180_api.c **** 	} else {
1770:dev/BSP/Components/vl6180/vl6180_api.c **** 		for (i = (uint16_t) (FILTER_NBOF_SAMPLES - 1); i > 0; i--) {
1771:dev/BSP/Components/vl6180/vl6180_api.c **** 			_FilterData(LastTrueRange)[i] = _FilterData(LastTrueRange)[i - 1];
1772:dev/BSP/Components/vl6180/vl6180_api.c **** 			_FilterData(LastReturnRates)[i] = _FilterData(LastReturnRates)[i - 1];
1773:dev/BSP/Components/vl6180/vl6180_api.c **** 		}
1774:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
1775:dev/BSP/Components/vl6180/vl6180_api.c **** 
1776:dev/BSP/Components/vl6180/vl6180_api.c **** 	if (ValidDistance == 1)
1777:dev/BSP/Components/vl6180/vl6180_api.c **** 		_FilterData(LastTrueRange)[0] = m_trueRange_mm;
1778:dev/BSP/Components/vl6180/vl6180_api.c **** 	else
1779:dev/BSP/Components/vl6180/vl6180_api.c **** 		_FilterData(LastTrueRange)[0] = FILTER_INVALID_DISTANCE;
1780:dev/BSP/Components/vl6180/vl6180_api.c **** 	_FilterData(LastReturnRates)[0] = m_rtnSignalRate;
1781:dev/BSP/Components/vl6180/vl6180_api.c **** 	_FilterData(MeasurementsSinceLastFlush)++;
1782:dev/BSP/Components/vl6180/vl6180_api.c **** 
1783:dev/BSP/Components/vl6180/vl6180_api.c **** 	/* Check if we need to go through the filter or not */
1784:dev/BSP/Components/vl6180/vl6180_api.c **** 	if (!(((m_rawRange_mm < WrapAroundHighRawRangeFilterLimit) &&
1785:dev/BSP/Components/vl6180/vl6180_api.c **** 		(m_rtnSignalRate < WrapAroundLowReturnRateFilterLimit)) ||
1786:dev/BSP/Components/vl6180/vl6180_api.c **** 		((m_rawRange_mm >= WrapAroundHighRawRangeFilterLimit) &&
1787:dev/BSP/Components/vl6180/vl6180_api.c **** 		(m_rtnSignalRate < WrapAroundHighReturnRateFilterLimit))))
1788:dev/BSP/Components/vl6180/vl6180_api.c **** 		bypassFilter = 1;
1789:dev/BSP/Components/vl6180/vl6180_api.c **** 	else {
1790:dev/BSP/Components/vl6180/vl6180_api.c **** 		/* if some wraparound filtering due to some ranging error code has been detected, update the filt
1791:dev/BSP/Components/vl6180/vl6180_api.c **** 		if(filterErrorCodeOnRangingErrorCode!=NoError){
1792:dev/BSP/Components/vl6180/vl6180_api.c **** #ifndef PRESERVE_DEVICE_ERROR_CODE
1793:dev/BSP/Components/vl6180/vl6180_api.c **** 			filterErrorCode = filterErrorCodeOnRangingErrorCode;
1794:dev/BSP/Components/vl6180/vl6180_api.c **** #else
1795:dev/BSP/Components/vl6180/vl6180_api.c **** 			if((errorCode==Raw_Ranging_Algo_Underflow) || (errorCode==Ranging_Algo_Underflow)) {
1796:dev/BSP/Components/vl6180/vl6180_api.c **** 				/* Preserves the error codes except for Raw_Ranging_Algo_Underflow and Ranging_Algo_Underflow *
1797:dev/BSP/Components/vl6180/vl6180_api.c **** 				filterErrorCode = filterErrorCodeOnRangingErrorCode;
1798:dev/BSP/Components/vl6180/vl6180_api.c **** 			}
1799:dev/BSP/Components/vl6180/vl6180_api.c **** #endif
1800:dev/BSP/Components/vl6180/vl6180_api.c **** 			bypassFilter = 1;
1801:dev/BSP/Components/vl6180/vl6180_api.c **** 			resetVAVGData = 0;
1802:dev/BSP/Components/vl6180/vl6180_api.c **** 		}
1803:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
1804:dev/BSP/Components/vl6180/vl6180_api.c **** 
1805:dev/BSP/Components/vl6180/vl6180_api.c **** 	/* Check which kind of measurement has been made */
1806:dev/BSP/Components/vl6180/vl6180_api.c **** 	status = VL6180_RdByte(dev, 0x01AC, &u8);
1807:dev/BSP/Components/vl6180/vl6180_api.c **** 	if (status) {
1808:dev/BSP/Components/vl6180/vl6180_api.c **** 		VL6180_ErrLog("0x01AC rd fail");
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 39


1809:dev/BSP/Components/vl6180/vl6180_api.c **** 		goto done_err;
1810:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
1811:dev/BSP/Components/vl6180/vl6180_api.c **** 	registerValue = u8;
1812:dev/BSP/Components/vl6180/vl6180_api.c **** 
1813:dev/BSP/Components/vl6180/vl6180_api.c **** 	/* Read data for filtering */
1814:dev/BSP/Components/vl6180/vl6180_api.c **** #if VL6180_HAVE_MULTI_READ
1815:dev/BSP/Components/vl6180/vl6180_api.c **** 	status = VL6180_RdMulti(dev, 0x10C, MultiReadBuf, 8); /* read only 8 lsb bits */
1816:dev/BSP/Components/vl6180/vl6180_api.c **** 	if (status) {
1817:dev/BSP/Components/vl6180/vl6180_api.c **** 		VL6180_ErrLog("0x10C multi rd fail");
1818:dev/BSP/Components/vl6180/vl6180_api.c **** 		goto done_err;
1819:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
1820:dev/BSP/Components/vl6180/vl6180_api.c **** 	register32BitsValue1 = ((uint32_t) MultiReadBuf[0] << 24)
1821:dev/BSP/Components/vl6180/vl6180_api.c **** 			+ ((uint32_t) MultiReadBuf[1] << 16)
1822:dev/BSP/Components/vl6180/vl6180_api.c **** 			+ ((uint32_t) MultiReadBuf[2] << 8)
1823:dev/BSP/Components/vl6180/vl6180_api.c **** 			+ ((uint32_t) MultiReadBuf[3] << 0);
1824:dev/BSP/Components/vl6180/vl6180_api.c **** 	register32BitsValue2 = ((uint32_t) MultiReadBuf[4] << 24)
1825:dev/BSP/Components/vl6180/vl6180_api.c **** 			+ ((uint32_t) MultiReadBuf[5] << 16)
1826:dev/BSP/Components/vl6180/vl6180_api.c **** 			+ ((uint32_t) MultiReadBuf[6] << 8)
1827:dev/BSP/Components/vl6180/vl6180_api.c **** 			+ ((uint32_t) MultiReadBuf[7] << 0);
1828:dev/BSP/Components/vl6180/vl6180_api.c **** #else
1829:dev/BSP/Components/vl6180/vl6180_api.c **** 	status = VL6180_RdDWord(dev, 0x10C, &register32BitsValue1); /* read 32 bits, lower 17 bits are the
1830:dev/BSP/Components/vl6180/vl6180_api.c **** 	if (status) {
1831:dev/BSP/Components/vl6180/vl6180_api.c **** 		VL6180_ErrLog("0x010C rd fail");
1832:dev/BSP/Components/vl6180/vl6180_api.c **** 		goto done_err;
1833:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
1834:dev/BSP/Components/vl6180/vl6180_api.c **** 	status = VL6180_RdDWord(dev, 0x0110, &	register32BitsValue2); /* read 32 bits, lower 17 bits are t
1835:dev/BSP/Components/vl6180/vl6180_api.c **** 	if (status) {
1836:dev/BSP/Components/vl6180/vl6180_api.c **** 		VL6180_ErrLog("0x0110 rd fail");
1837:dev/BSP/Components/vl6180/vl6180_api.c **** 		goto done_err;
1838:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
1839:dev/BSP/Components/vl6180/vl6180_api.c **** #endif
1840:dev/BSP/Components/vl6180/vl6180_api.c **** 
1841:dev/BSP/Components/vl6180/vl6180_api.c **** 
1842:dev/BSP/Components/vl6180/vl6180_api.c **** 	if ((FlushFilter == 1) || ((bypassFilter == 1) && (resetVAVGData == 1))) {
1843:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (registerValue != 0x3E) {
1844:dev/BSP/Components/vl6180/vl6180_api.c **** 			status = VL6180_WrByte(dev, 0x1AC, 0x3E);
1845:dev/BSP/Components/vl6180/vl6180_api.c **** 			if (status) {
1846:dev/BSP/Components/vl6180/vl6180_api.c **** 				VL6180_ErrLog("0x01AC bypass wr fail");
1847:dev/BSP/Components/vl6180/vl6180_api.c **** 				goto done_err;
1848:dev/BSP/Components/vl6180/vl6180_api.c **** 			}
1849:dev/BSP/Components/vl6180/vl6180_api.c **** 			//status = VL6180_WrByte(dev, 0x0F2, 0x01);
1850:dev/BSP/Components/vl6180/vl6180_api.c **** 			//if (status) {
1851:dev/BSP/Components/vl6180/vl6180_api.c **** 			//	VL6180_ErrLog("0x0F2 bypass wr fail");
1852:dev/BSP/Components/vl6180/vl6180_api.c **** 			//	goto done_err;
1853:dev/BSP/Components/vl6180/vl6180_api.c **** 			//}
1854:dev/BSP/Components/vl6180/vl6180_api.c **** 		}
1855:dev/BSP/Components/vl6180/vl6180_api.c **** 		/* Set both Default and NoDelay To same value */
1856:dev/BSP/Components/vl6180/vl6180_api.c **** 		_FilterData(Default_ZeroVal) = register32BitsValue1;
1857:dev/BSP/Components/vl6180/vl6180_api.c **** 		_FilterData(Default_VAVGVal) = register32BitsValue2;
1858:dev/BSP/Components/vl6180/vl6180_api.c **** 		_FilterData(NoDelay_ZeroVal) = register32BitsValue1;
1859:dev/BSP/Components/vl6180/vl6180_api.c **** 		_FilterData(NoDelay_VAVGVal) = register32BitsValue2;
1860:dev/BSP/Components/vl6180/vl6180_api.c **** 
1861:dev/BSP/Components/vl6180/vl6180_api.c **** 		_FilterData(MeasurementIndex) = 0;
1862:dev/BSP/Components/vl6180/vl6180_api.c **** 	} else {
1863:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (registerValue == 0x3E) {
1864:dev/BSP/Components/vl6180/vl6180_api.c **** 			_FilterData(Default_ZeroVal) = register32BitsValue1;
1865:dev/BSP/Components/vl6180/vl6180_api.c **** 			_FilterData(Default_VAVGVal) = register32BitsValue2;
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 40


1866:dev/BSP/Components/vl6180/vl6180_api.c **** 		} else {
1867:dev/BSP/Components/vl6180/vl6180_api.c **** 			_FilterData(NoDelay_ZeroVal) = register32BitsValue1;
1868:dev/BSP/Components/vl6180/vl6180_api.c **** 			_FilterData(NoDelay_VAVGVal) = register32BitsValue2;
1869:dev/BSP/Components/vl6180/vl6180_api.c **** 		}
1870:dev/BSP/Components/vl6180/vl6180_api.c **** 
1871:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (_FilterData(MeasurementIndex) % WrapAroundNoDelayCheckPeriod == 0) {
1872:dev/BSP/Components/vl6180/vl6180_api.c **** 			u8 = 0x3C;
1873:dev/BSP/Components/vl6180/vl6180_api.c **** 			//u8_2 = 0x05;
1874:dev/BSP/Components/vl6180/vl6180_api.c **** 		} else {
1875:dev/BSP/Components/vl6180/vl6180_api.c **** 			u8 = 0x3E;
1876:dev/BSP/Components/vl6180/vl6180_api.c **** 			//u8_2 = 0x01;
1877:dev/BSP/Components/vl6180/vl6180_api.c **** 		}
1878:dev/BSP/Components/vl6180/vl6180_api.c **** 		status = VL6180_WrByte(dev, 0x01AC, u8);
1879:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (status) {
1880:dev/BSP/Components/vl6180/vl6180_api.c **** 			VL6180_ErrLog("0x01AC wr fail");
1881:dev/BSP/Components/vl6180/vl6180_api.c **** 			goto done_err;
1882:dev/BSP/Components/vl6180/vl6180_api.c **** 		}
1883:dev/BSP/Components/vl6180/vl6180_api.c **** 		//status = VL6180_WrByte(dev, 0x0F2, u8_2);
1884:dev/BSP/Components/vl6180/vl6180_api.c **** 		//if (status) {
1885:dev/BSP/Components/vl6180/vl6180_api.c **** 		//	VL6180_ErrLog("0x0F2  wr fail");
1886:dev/BSP/Components/vl6180/vl6180_api.c **** 		//	goto done_err;
1887:dev/BSP/Components/vl6180/vl6180_api.c **** 		//}
1888:dev/BSP/Components/vl6180/vl6180_api.c **** 		_FilterData(MeasurementIndex)++;
1889:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
1890:dev/BSP/Components/vl6180/vl6180_api.c **** 
1891:dev/BSP/Components/vl6180/vl6180_api.c **** 	if (bypassFilter == 1) {
1892:dev/BSP/Components/vl6180/vl6180_api.c **** 		/* Do not go through the filter */
1893:dev/BSP/Components/vl6180/vl6180_api.c **** 
1894:dev/BSP/Components/vl6180/vl6180_api.c **** 		/* Update filter error code */
1895:dev/BSP/Components/vl6180/vl6180_api.c **** 		_FilterData(filterError) = filterErrorCode;
1896:dev/BSP/Components/vl6180/vl6180_api.c **** 
1897:dev/BSP/Components/vl6180/vl6180_api.c **** 		/* Update reported range */
1898:dev/BSP/Components/vl6180/vl6180_api.c **** 		if(filterErrorCode==RangingFiltered)
1899:dev/BSP/Components/vl6180/vl6180_api.c **** 			m_newTrueRange_mm = MaxOrInvalidDistance; /* Set to invalid distance */
1900:dev/BSP/Components/vl6180/vl6180_api.c **** 
1901:dev/BSP/Components/vl6180/vl6180_api.c **** 		return m_newTrueRange_mm;
1902:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
1903:dev/BSP/Components/vl6180/vl6180_api.c **** 
1904:dev/BSP/Components/vl6180/vl6180_api.c **** 	/* Computes current VAVGDiff */
1905:dev/BSP/Components/vl6180/vl6180_api.c **** 	if (_FilterData(Default_VAVGVal) > _FilterData(NoDelay_VAVGVal))
1906:dev/BSP/Components/vl6180/vl6180_api.c **** 		VAVGDiff = _FilterData(Default_VAVGVal) - _FilterData(NoDelay_VAVGVal);
1907:dev/BSP/Components/vl6180/vl6180_api.c **** 	else
1908:dev/BSP/Components/vl6180/vl6180_api.c **** 		VAVGDiff = 0;
1909:dev/BSP/Components/vl6180/vl6180_api.c **** 	_FilterData(Previous_VAVGDiff) = VAVGDiff;
1910:dev/BSP/Components/vl6180/vl6180_api.c **** 
1911:dev/BSP/Components/vl6180/vl6180_api.c **** 	if(SuspicuousRangingZone==0)
1912:dev/BSP/Components/vl6180/vl6180_api.c **** 		MAX_VAVGDiff = MAX_VAVGDiff_ROM;
1913:dev/BSP/Components/vl6180/vl6180_api.c **** 	else
1914:dev/BSP/Components/vl6180/vl6180_api.c **** 		/* In suspicuous area, strengthen the filter */
1915:dev/BSP/Components/vl6180/vl6180_api.c **** 		MAX_VAVGDiff = MAX_VAVGDiff_ROM / SuspicuousMAX_VAVGDiffRatio;
1916:dev/BSP/Components/vl6180/vl6180_api.c **** 
1917:dev/BSP/Components/vl6180/vl6180_api.c **** 	/* Check the VAVGDiff */
1918:dev/BSP/Components/vl6180/vl6180_api.c **** 	if (_FilterData(Default_ZeroVal) > _FilterData(NoDelay_ZeroVal))
1919:dev/BSP/Components/vl6180/vl6180_api.c **** 		IdealVAVGDiff = _FilterData(Default_ZeroVal) - _FilterData(NoDelay_ZeroVal);
1920:dev/BSP/Components/vl6180/vl6180_api.c **** 	else
1921:dev/BSP/Components/vl6180/vl6180_api.c **** 		IdealVAVGDiff = _FilterData(NoDelay_ZeroVal) - _FilterData(Default_ZeroVal);
1922:dev/BSP/Components/vl6180/vl6180_api.c **** 	if (IdealVAVGDiff > MAX_VAVGDiff)
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 41


1923:dev/BSP/Components/vl6180/vl6180_api.c **** 		MinVAVGDiff = IdealVAVGDiff - MAX_VAVGDiff;
1924:dev/BSP/Components/vl6180/vl6180_api.c **** 	else
1925:dev/BSP/Components/vl6180/vl6180_api.c **** 		MinVAVGDiff = 0;
1926:dev/BSP/Components/vl6180/vl6180_api.c **** 	MaxVAVGDiff = IdealVAVGDiff + MAX_VAVGDiff;
1927:dev/BSP/Components/vl6180/vl6180_api.c **** 	if (VAVGDiff < MinVAVGDiff || VAVGDiff > MaxVAVGDiff) {
1928:dev/BSP/Components/vl6180/vl6180_api.c **** 		WrapAroundFlag = 1;
1929:dev/BSP/Components/vl6180/vl6180_api.c **** 		filterErrorCode = RangingFiltered;
1930:dev/BSP/Components/vl6180/vl6180_api.c **** 	} else {
1931:dev/BSP/Components/vl6180/vl6180_api.c **** 		/* Go through filtering check */
1932:dev/BSP/Components/vl6180/vl6180_api.c **** 
1933:dev/BSP/Components/vl6180/vl6180_api.c **** 		if(_FilterData(MeasurementIndex)<=1)
1934:dev/BSP/Components/vl6180/vl6180_api.c **** 			/* On measurement after a bypass, uses an increase number of samples */
1935:dev/BSP/Components/vl6180/vl6180_api.c **** 			StdDevSamplesMinNeeded = MIN_FILTER_STDDEV_SAMPLES_AFTER_FLUSH_OR_BYPASS;
1936:dev/BSP/Components/vl6180/vl6180_api.c **** 		else
1937:dev/BSP/Components/vl6180/vl6180_api.c **** 			StdDevSamplesMinNeeded = MIN_FILTER_STDDEV_SAMPLES;
1938:dev/BSP/Components/vl6180/vl6180_api.c **** 
1939:dev/BSP/Components/vl6180/vl6180_api.c **** 		/* StdDevLimit Damper on SNR */
1940:dev/BSP/Components/vl6180/vl6180_api.c **** 		StdDevLimit = _filter_StdDevDamper(m_rtnAmbientRate, m_rtnSignalRate, StdDevLimitLowLight, StdDev
1941:dev/BSP/Components/vl6180/vl6180_api.c **** 
1942:dev/BSP/Components/vl6180/vl6180_api.c **** 		/* Standard deviations computations */
1943:dev/BSP/Components/vl6180/vl6180_api.c **** 		StdDevSamples = 0;
1944:dev/BSP/Components/vl6180/vl6180_api.c **** 		StdDevDistanceSum = 0;
1945:dev/BSP/Components/vl6180/vl6180_api.c **** 		StdDevDistanceMean = 0;
1946:dev/BSP/Components/vl6180/vl6180_api.c **** 		StdDevDistance = 0;
1947:dev/BSP/Components/vl6180/vl6180_api.c **** 		StdDevRateSum = 0;
1948:dev/BSP/Components/vl6180/vl6180_api.c **** 		StdDevRateMean = 0;
1949:dev/BSP/Components/vl6180/vl6180_api.c **** 		StdDevRate = 0;
1950:dev/BSP/Components/vl6180/vl6180_api.c **** 		for (i = 0; (i < FILTER_NBOF_SAMPLES) && (StdDevSamples < FILTER_STDDEV_SAMPLES); i++) {
1951:dev/BSP/Components/vl6180/vl6180_api.c **** 			if (_FilterData(LastTrueRange)[i] != FILTER_INVALID_DISTANCE) {
1952:dev/BSP/Components/vl6180/vl6180_api.c **** 				StdDevSamples = (uint16_t) (StdDevSamples + 1);
1953:dev/BSP/Components/vl6180/vl6180_api.c **** 				StdDevDistanceSum = (uint32_t) (StdDevDistanceSum + _FilterData(LastTrueRange)[i]);
1954:dev/BSP/Components/vl6180/vl6180_api.c **** 				StdDevRateSum = (uint32_t) (StdDevRateSum + _FilterData(LastReturnRates)[i]);
1955:dev/BSP/Components/vl6180/vl6180_api.c **** 			}
1956:dev/BSP/Components/vl6180/vl6180_api.c **** 		}
1957:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (StdDevSamples > 0) {
1958:dev/BSP/Components/vl6180/vl6180_api.c **** 			StdDevDistanceMean = (uint32_t) (StdDevDistanceSum / StdDevSamples);
1959:dev/BSP/Components/vl6180/vl6180_api.c **** 			StdDevRateMean = (uint32_t) (StdDevRateSum / StdDevSamples);
1960:dev/BSP/Components/vl6180/vl6180_api.c **** 		}
1961:dev/BSP/Components/vl6180/vl6180_api.c **** 		/* TODO optimize shorten Std dev in aisngle loop computation using sum of x2 - (sum of x)2 */
1962:dev/BSP/Components/vl6180/vl6180_api.c **** 		StdDevSamples = 0;
1963:dev/BSP/Components/vl6180/vl6180_api.c **** 		StdDevDistanceSum = 0;
1964:dev/BSP/Components/vl6180/vl6180_api.c **** 		StdDevRateSum = 0;
1965:dev/BSP/Components/vl6180/vl6180_api.c **** 		for (i = 0; (i < FILTER_NBOF_SAMPLES) && (StdDevSamples < FILTER_STDDEV_SAMPLES); i++) {
1966:dev/BSP/Components/vl6180/vl6180_api.c **** 			if (_FilterData(LastTrueRange)[i] != FILTER_INVALID_DISTANCE) {
1967:dev/BSP/Components/vl6180/vl6180_api.c **** 				StdDevSamples = (uint16_t) (StdDevSamples + 1);
1968:dev/BSP/Components/vl6180/vl6180_api.c **** 				StdDevDistanceSum = (uint32_t) (StdDevDistanceSum +
1969:dev/BSP/Components/vl6180/vl6180_api.c **** 									(int)(_FilterData(LastTrueRange)[i] -
1970:dev/BSP/Components/vl6180/vl6180_api.c **** 											StdDevDistanceMean) *
1971:dev/BSP/Components/vl6180/vl6180_api.c **** 											(int) (_FilterData(LastTrueRange)[i] -
1972:dev/BSP/Components/vl6180/vl6180_api.c **** 													StdDevDistanceMean));
1973:dev/BSP/Components/vl6180/vl6180_api.c **** 				StdDevRateSum = (uint32_t) (StdDevRateSum +
1974:dev/BSP/Components/vl6180/vl6180_api.c **** 									(int) (_FilterData(LastReturnRates)[i] -
1975:dev/BSP/Components/vl6180/vl6180_api.c **** 											StdDevRateMean) *
1976:dev/BSP/Components/vl6180/vl6180_api.c **** 											(int) (_FilterData(LastReturnRates)[i] -
1977:dev/BSP/Components/vl6180/vl6180_api.c **** 													StdDevRateMean));
1978:dev/BSP/Components/vl6180/vl6180_api.c **** 			}
1979:dev/BSP/Components/vl6180/vl6180_api.c **** 		}
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 42


1980:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (StdDevSamples >= StdDevSamplesMinNeeded) {
1981:dev/BSP/Components/vl6180/vl6180_api.c **** 			StdDevDistance = (uint16_t) (StdDevDistanceSum / StdDevSamples);
1982:dev/BSP/Components/vl6180/vl6180_api.c **** 			StdDevRate = (uint16_t) (StdDevRateSum / StdDevSamples);
1983:dev/BSP/Components/vl6180/vl6180_api.c **** 		} else {
1984:dev/BSP/Components/vl6180/vl6180_api.c **** 			StdDevDistance = 0;
1985:dev/BSP/Components/vl6180/vl6180_api.c **** 			StdDevRate = 0;
1986:dev/BSP/Components/vl6180/vl6180_api.c **** 		}
1987:dev/BSP/Components/vl6180/vl6180_api.c **** 
1988:dev/BSP/Components/vl6180/vl6180_api.c **** 		/* Check Return rate standard deviation */
1989:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (StdDevRate < StdDevMovingTargetStdDevLimit) {
1990:dev/BSP/Components/vl6180/vl6180_api.c **** 			if (StdDevSamples < StdDevSamplesMinNeeded) {
1991:dev/BSP/Components/vl6180/vl6180_api.c **** 				//m_newTrueRange_mm = MaxOrInvalidDistance;
1992:dev/BSP/Components/vl6180/vl6180_api.c **** 				filterErrorCode = RangingFiltered;
1993:dev/BSP/Components/vl6180/vl6180_api.c **** 			} else {
1994:dev/BSP/Components/vl6180/vl6180_api.c **** 				/* Check distance standard deviation */
1995:dev/BSP/Components/vl6180/vl6180_api.c **** 				if (StdDevRate < StdDevMovingTargetReturnRateLimit)
1996:dev/BSP/Components/vl6180/vl6180_api.c **** 					StdDevLimitWithTargetMove = StdDevLimit +
1997:dev/BSP/Components/vl6180/vl6180_api.c **** 						(((StdDevMovingTargetStdDevForReturnRateLimit -
1998:dev/BSP/Components/vl6180/vl6180_api.c **** 							StdDevLimit) * StdDevRate) /
1999:dev/BSP/Components/vl6180/vl6180_api.c **** 							StdDevMovingTargetReturnRateLimit);
2000:dev/BSP/Components/vl6180/vl6180_api.c **** 				else
2001:dev/BSP/Components/vl6180/vl6180_api.c **** 					StdDevLimitWithTargetMove = StdDevMovingTargetStdDevForReturnRateLimit;
2002:dev/BSP/Components/vl6180/vl6180_api.c **** 
2003:dev/BSP/Components/vl6180/vl6180_api.c **** 				if(_FilterData(filterError)==NoError){
2004:dev/BSP/Components/vl6180/vl6180_api.c **** 					/* No wrapAround detected yet, so relax constraints on the std dev */
2005:dev/BSP/Components/vl6180/vl6180_api.c **** 					StdDevLimitWithTargetMove = StdDevLimitWithTargetMove * StdDevNoWrapDetectedMultiplier;
2006:dev/BSP/Components/vl6180/vl6180_api.c **** 				}
2007:dev/BSP/Components/vl6180/vl6180_api.c **** 
2008:dev/BSP/Components/vl6180/vl6180_api.c **** 				if (((StdDevDistance * StdDevHighConfidenceSNRLimit) < StdDevLimit) && (StdDevSamples>=FILTER_S
2009:dev/BSP/Components/vl6180/vl6180_api.c **** 					NoWrapAroundHighConfidenceFlag = 1;
2010:dev/BSP/Components/vl6180/vl6180_api.c **** 				} else {
2011:dev/BSP/Components/vl6180/vl6180_api.c **** 					if (StdDevDistance < StdDevLimitWithTargetMove) {
2012:dev/BSP/Components/vl6180/vl6180_api.c **** 							NoWrapAroundFlag = 1;
2013:dev/BSP/Components/vl6180/vl6180_api.c **** 						} else {
2014:dev/BSP/Components/vl6180/vl6180_api.c **** 						WrapAroundFlag = 1;
2015:dev/BSP/Components/vl6180/vl6180_api.c **** 						filterErrorCode = RangingFiltered;
2016:dev/BSP/Components/vl6180/vl6180_api.c **** 					}
2017:dev/BSP/Components/vl6180/vl6180_api.c **** 				}
2018:dev/BSP/Components/vl6180/vl6180_api.c **** 			}
2019:dev/BSP/Components/vl6180/vl6180_api.c **** 		} else {
2020:dev/BSP/Components/vl6180/vl6180_api.c **** 			/* Target moving too fast */
2021:dev/BSP/Components/vl6180/vl6180_api.c **** 			WrapAroundFlag = 1;
2022:dev/BSP/Components/vl6180/vl6180_api.c **** 			filterErrorCode = RangingFiltered;
2023:dev/BSP/Components/vl6180/vl6180_api.c **** 		}
2024:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
2025:dev/BSP/Components/vl6180/vl6180_api.c **** 
2026:dev/BSP/Components/vl6180/vl6180_api.c **** 	if (ValidDistance == 0) {
2027:dev/BSP/Components/vl6180/vl6180_api.c **** 		/* In case of invalid distance */
2028:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (_FilterData(StdFilteredReads) > 0)
2029:dev/BSP/Components/vl6180/vl6180_api.c **** 			_FilterData(StdFilteredReads) = (uint16_t) (_FilterData(StdFilteredReads) - 1);
2030:dev/BSP/Components/vl6180/vl6180_api.c **** 	} else {
2031:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (WrapAroundFlag == 1) {
2032:dev/BSP/Components/vl6180/vl6180_api.c **** 			_FilterData(StdFilteredReads) = (uint16_t) (_FilterData(StdFilteredReads) +
2033:dev/BSP/Components/vl6180/vl6180_api.c **** 											StdFilteredReadsIncrement);
2034:dev/BSP/Components/vl6180/vl6180_api.c **** 			if (_FilterData(StdFilteredReads) > StdMaxFilteredReads)
2035:dev/BSP/Components/vl6180/vl6180_api.c **** 				_FilterData(StdFilteredReads) = StdMaxFilteredReads;
2036:dev/BSP/Components/vl6180/vl6180_api.c **** 		} else {
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 43


2037:dev/BSP/Components/vl6180/vl6180_api.c **** 			if (NoWrapAroundFlag == 1) {
2038:dev/BSP/Components/vl6180/vl6180_api.c **** 				if (_FilterData(StdFilteredReads) > 0) {
2039:dev/BSP/Components/vl6180/vl6180_api.c **** 					filterErrorCode = RangingFiltered;
2040:dev/BSP/Components/vl6180/vl6180_api.c **** 					if (_FilterData(StdFilteredReads) > StdFilteredReadsDecrement)
2041:dev/BSP/Components/vl6180/vl6180_api.c **** 						_FilterData(StdFilteredReads) = (uint16_t) (_FilterData(StdFilteredReads) -
2042:dev/BSP/Components/vl6180/vl6180_api.c **** 														StdFilteredReadsDecrement);
2043:dev/BSP/Components/vl6180/vl6180_api.c **** 					else
2044:dev/BSP/Components/vl6180/vl6180_api.c **** 						_FilterData(StdFilteredReads) = 0;
2045:dev/BSP/Components/vl6180/vl6180_api.c **** 				}
2046:dev/BSP/Components/vl6180/vl6180_api.c **** 			} else {
2047:dev/BSP/Components/vl6180/vl6180_api.c **** 				if (NoWrapAroundHighConfidenceFlag == 1) {
2048:dev/BSP/Components/vl6180/vl6180_api.c **** 					_FilterData(StdFilteredReads) = 0;
2049:dev/BSP/Components/vl6180/vl6180_api.c **** 				}
2050:dev/BSP/Components/vl6180/vl6180_api.c **** 			}
2051:dev/BSP/Components/vl6180/vl6180_api.c **** 		}
2052:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
2053:dev/BSP/Components/vl6180/vl6180_api.c **** 
2054:dev/BSP/Components/vl6180/vl6180_api.c **** 	/* If we detect a change from no Error to RangingFilteringOnGoing, then it means that
2055:dev/BSP/Components/vl6180/vl6180_api.c **** 	 * the filter detected a change in te scene, so discard all previous measurements.
2056:dev/BSP/Components/vl6180/vl6180_api.c **** 	 */
2057:dev/BSP/Components/vl6180/vl6180_api.c **** 	if((_FilterData(filterError) == NoError) && (filterErrorCode!=NoError)) {
2058:dev/BSP/Components/vl6180/vl6180_api.c **** 		for (i = 1; i < FILTER_NBOF_SAMPLES; i++) {
2059:dev/BSP/Components/vl6180/vl6180_api.c **** 			_FilterData(LastTrueRange)[i] = FILTER_INVALID_DISTANCE;
2060:dev/BSP/Components/vl6180/vl6180_api.c **** 			_FilterData(LastReturnRates)[i] = 0;
2061:dev/BSP/Components/vl6180/vl6180_api.c **** 		}
2062:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
2063:dev/BSP/Components/vl6180/vl6180_api.c **** 
2064:dev/BSP/Components/vl6180/vl6180_api.c **** 	/* Update filter error code */
2065:dev/BSP/Components/vl6180/vl6180_api.c **** 	_FilterData(filterError) = filterErrorCode;
2066:dev/BSP/Components/vl6180/vl6180_api.c **** 
2067:dev/BSP/Components/vl6180/vl6180_api.c **** 	/* Update reported range */
2068:dev/BSP/Components/vl6180/vl6180_api.c **** 	if(filterErrorCode==RangingFiltered)
2069:dev/BSP/Components/vl6180/vl6180_api.c **** 		m_newTrueRange_mm = MaxOrInvalidDistance; /* Set to invalid distance */
2070:dev/BSP/Components/vl6180/vl6180_api.c **** 
2071:dev/BSP/Components/vl6180/vl6180_api.c **** 	return m_newTrueRange_mm;
2072:dev/BSP/Components/vl6180/vl6180_api.c **** done_err:
2073:dev/BSP/Components/vl6180/vl6180_api.c **** 	return -1;
2074:dev/BSP/Components/vl6180/vl6180_api.c **** 
2075:dev/BSP/Components/vl6180/vl6180_api.c **** #undef MaxOrInvalidDistance
2076:dev/BSP/Components/vl6180/vl6180_api.c **** }
2077:dev/BSP/Components/vl6180/vl6180_api.c **** 
2078:dev/BSP/Components/vl6180/vl6180_api.c **** 
2079:dev/BSP/Components/vl6180/vl6180_api.c **** static int _filter_GetResult(VL6180Dev_t dev, VL6180_RangeData_t *pRangeData)
2080:dev/BSP/Components/vl6180/vl6180_api.c **** {
2081:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint32_t m_rawRange_mm = 0;
2082:dev/BSP/Components/vl6180/vl6180_api.c **** 	int32_t  FilteredRange;
2083:dev/BSP/Components/vl6180/vl6180_api.c **** 	const uint8_t scaler = _GetUpscale(dev);
2084:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint8_t u8;
2085:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
2086:dev/BSP/Components/vl6180/vl6180_api.c **** 
2087:dev/BSP/Components/vl6180/vl6180_api.c **** 	do {
2088:dev/BSP/Components/vl6180/vl6180_api.c **** 		status = VL6180_GetCachedByte(dev, RESULT_RANGE_RAW, &u8);
2089:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (status) {
2090:dev/BSP/Components/vl6180/vl6180_api.c **** 		    VL6180_ErrLog("RESULT_RANGE_RAW rd fail");
2091:dev/BSP/Components/vl6180/vl6180_api.c **** 		    break;
2092:dev/BSP/Components/vl6180/vl6180_api.c **** 		}
2093:dev/BSP/Components/vl6180/vl6180_api.c **** 		m_rawRange_mm = u8;
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 44


2094:dev/BSP/Components/vl6180/vl6180_api.c **** 
2095:dev/BSP/Components/vl6180/vl6180_api.c **** 		FilteredRange = _filter_Start(dev, pRangeData->range_mm, (m_rawRange_mm * scaler), pRangeData->rt
2096:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (FilteredRange < 0) {
2097:dev/BSP/Components/vl6180/vl6180_api.c **** 		    status = -1;
2098:dev/BSP/Components/vl6180/vl6180_api.c **** 		    break;
2099:dev/BSP/Components/vl6180/vl6180_api.c **** 		}
2100:dev/BSP/Components/vl6180/vl6180_api.c **** 		pRangeData->FilteredData.range_mm = FilteredRange;
2101:dev/BSP/Components/vl6180/vl6180_api.c **** 		pRangeData->FilteredData.rawRange_mm = m_rawRange_mm * scaler;
2102:dev/BSP/Components/vl6180/vl6180_api.c **** 		pRangeData->FilteredData.filterError= _FilterData(filterError);
2103:dev/BSP/Components/vl6180/vl6180_api.c **** 	} while (0);
2104:dev/BSP/Components/vl6180/vl6180_api.c **** 	return status;
2105:dev/BSP/Components/vl6180/vl6180_api.c **** }
2106:dev/BSP/Components/vl6180/vl6180_api.c **** 
2107:dev/BSP/Components/vl6180/vl6180_api.c **** #undef _FilterData
2108:dev/BSP/Components/vl6180/vl6180_api.c **** #ifdef PRESERVE_DEVICE_ERROR_CODE
2109:dev/BSP/Components/vl6180/vl6180_api.c **** #undef PRESERVE_DEVICE_ERROR_CODE
2110:dev/BSP/Components/vl6180/vl6180_api.c **** #endif
2111:dev/BSP/Components/vl6180/vl6180_api.c **** #ifdef SENSITIVE_FILTERING_ON_GOING
2112:dev/BSP/Components/vl6180/vl6180_api.c **** #undef SENSITIVE_FILTERING_ON_GOING
2113:dev/BSP/Components/vl6180/vl6180_api.c **** #endif
2114:dev/BSP/Components/vl6180/vl6180_api.c **** #undef FILTER_STDDEV_SAMPLES
2115:dev/BSP/Components/vl6180/vl6180_api.c **** #undef MIN_FILTER_STDDEV_SAMPLES
2116:dev/BSP/Components/vl6180/vl6180_api.c **** #undef MIN_FILTER_STDDEV_SAMPLES_AFTER_FLUSH_OR_BYPASS
2117:dev/BSP/Components/vl6180/vl6180_api.c **** #undef STDDEV_BASE_VALUE
2118:dev/BSP/Components/vl6180/vl6180_api.c **** #undef FILTER_INVALID_DISTANCE
2119:dev/BSP/Components/vl6180/vl6180_api.c **** 
2120:dev/BSP/Components/vl6180/vl6180_api.c **** #endif /* VL6180_WRAP_AROUND_FILTER_SUPPORT */
2121:dev/BSP/Components/vl6180/vl6180_api.c **** 
2122:dev/BSP/Components/vl6180/vl6180_api.c **** #ifdef VL6180_HAVE_RATE_DATA
2123:dev/BSP/Components/vl6180/vl6180_api.c **** 
2124:dev/BSP/Components/vl6180/vl6180_api.c **** static int _GetRateResult(VL6180Dev_t dev, VL6180_RangeData_t *pRangeData)
2125:dev/BSP/Components/vl6180/vl6180_api.c **** {
 316              		.loc 1 2125 1 is_stmt 1 view -0
 317              		.cfi_startproc
 318              		@ args = 0, pretend = 0, frame = 16
 319              		@ frame_needed = 0, uses_anonymous_args = 0
 320              		.loc 1 2125 1 is_stmt 0 view .LVU103
 321 0000 30B5     		push	{r4, r5, lr}
 322              	.LCFI6:
 323              		.cfi_def_cfa_offset 12
 324              		.cfi_offset 4, -12
 325              		.cfi_offset 5, -8
 326              		.cfi_offset 14, -4
 327 0002 85B0     		sub	sp, sp, #20
 328              	.LCFI7:
 329              		.cfi_def_cfa_offset 32
 330 0004 0546     		mov	r5, r0
 331 0006 0C46     		mov	r4, r1
2126:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint32_t m_rtnConvTime = 0;
 332              		.loc 1 2126 2 is_stmt 1 view .LVU104
 333              		.loc 1 2126 11 is_stmt 0 view .LVU105
 334 0008 0023     		movs	r3, #0
 335 000a 0393     		str	r3, [sp, #12]
2127:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint32_t m_rtnSignalRate = 0;
 336              		.loc 1 2127 2 is_stmt 1 view .LVU106
 337              	.LVL32:
2128:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint32_t m_rtnAmbientRate = 0;
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 45


 338              		.loc 1 2128 2 view .LVU107
2129:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint32_t m_rtnSignalCount = 0;
 339              		.loc 1 2129 2 view .LVU108
 340              		.loc 1 2129 11 is_stmt 0 view .LVU109
 341 000c 0293     		str	r3, [sp, #8]
2130:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint32_t m_rtnAmbientCount = 0;
 342              		.loc 1 2130 2 is_stmt 1 view .LVU110
 343              		.loc 1 2130 11 is_stmt 0 view .LVU111
 344 000e 0193     		str	r3, [sp, #4]
2131:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint32_t m_refConvTime = 0;
 345              		.loc 1 2131 2 is_stmt 1 view .LVU112
 346              		.loc 1 2131 11 is_stmt 0 view .LVU113
 347 0010 0093     		str	r3, [sp]
2132:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint32_t cRtnSignalCountMax = 0x7FFFFFFF;
 348              		.loc 1 2132 2 is_stmt 1 view .LVU114
 349              	.LVL33:
2133:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint32_t cDllPeriods = 6;
 350              		.loc 1 2133 2 view .LVU115
2134:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint32_t calcConvTime = 0;
 351              		.loc 1 2134 2 view .LVU116
2135:dev/BSP/Components/vl6180/vl6180_api.c **** 
2136:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
 352              		.loc 1 2136 2 view .LVU117
2137:dev/BSP/Components/vl6180/vl6180_api.c **** 
2138:dev/BSP/Components/vl6180/vl6180_api.c **** 	do {
 353              		.loc 1 2138 2 view .LVU118
2139:dev/BSP/Components/vl6180/vl6180_api.c **** 		status = VL6180_GetCachedDWord(dev, RESULT_RANGE_RETURN_SIGNAL_COUNT, &m_rtnSignalCount);
 354              		.loc 1 2139 3 view .LVU119
 355              		.loc 1 2139 12 is_stmt 0 view .LVU120
 356 0012 02AA     		add	r2, sp, #8
 357 0014 6C21     		movs	r1, #108
 358              	.LVL34:
 359              		.loc 1 2139 12 view .LVU121
 360 0016 FFF7FEFF 		bl	VL6180_RdDWord
 361              	.LVL35:
2140:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (status) {
 362              		.loc 1 2140 3 is_stmt 1 view .LVU122
 363              		.loc 1 2140 6 is_stmt 0 view .LVU123
 364 001a 40B9     		cbnz	r0, .L16
2141:dev/BSP/Components/vl6180/vl6180_api.c **** 			VL6180_ErrLog("RESULT_RANGE_RETURN_SIGNAL_COUNT rd fail");
2142:dev/BSP/Components/vl6180/vl6180_api.c **** 			break;
2143:dev/BSP/Components/vl6180/vl6180_api.c **** 		}
2144:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (m_rtnSignalCount > cRtnSignalCountMax) {
 365              		.loc 1 2144 3 is_stmt 1 view .LVU124
 366              		.loc 1 2144 24 is_stmt 0 view .LVU125
 367 001c 029B     		ldr	r3, [sp, #8]
 368              		.loc 1 2144 6 view .LVU126
 369 001e 002B     		cmp	r3, #0
 370 0020 07DB     		blt	.L23
 371              	.L18:
2145:dev/BSP/Components/vl6180/vl6180_api.c **** 			m_rtnSignalCount = 0;
2146:dev/BSP/Components/vl6180/vl6180_api.c **** 		}
2147:dev/BSP/Components/vl6180/vl6180_api.c **** 
2148:dev/BSP/Components/vl6180/vl6180_api.c **** 		status = VL6180_GetCachedDWord(dev, RESULT_RANGE_RETURN_AMB_COUNT, &m_rtnAmbientCount);
 372              		.loc 1 2148 3 is_stmt 1 view .LVU127
 373              		.loc 1 2148 12 is_stmt 0 view .LVU128
 374 0022 01AA     		add	r2, sp, #4
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 46


 375 0024 7421     		movs	r1, #116
 376 0026 2846     		mov	r0, r5
 377 0028 FFF7FEFF 		bl	VL6180_RdDWord
 378              	.LVL36:
2149:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (status) {
 379              		.loc 1 2149 3 is_stmt 1 view .LVU129
 380              		.loc 1 2149 6 is_stmt 0 view .LVU130
 381 002c 20B1     		cbz	r0, .L24
 382              	.LVL37:
 383              	.L16:
2150:dev/BSP/Components/vl6180/vl6180_api.c **** 			VL6180_ErrLog("RESULT_RANGE_RETURN_AMB_COUNTrd fail");
2151:dev/BSP/Components/vl6180/vl6180_api.c **** 			break;
2152:dev/BSP/Components/vl6180/vl6180_api.c **** 		}
2153:dev/BSP/Components/vl6180/vl6180_api.c **** 
2154:dev/BSP/Components/vl6180/vl6180_api.c **** 
2155:dev/BSP/Components/vl6180/vl6180_api.c **** 		status = VL6180_GetCachedDWord(dev, RESULT_RANGE_RETURN_CONV_TIME, &m_rtnConvTime);
2156:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (status) {
2157:dev/BSP/Components/vl6180/vl6180_api.c **** 			VL6180_ErrLog("RESULT_RANGE_RETURN_CONV_TIME rd fail");
2158:dev/BSP/Components/vl6180/vl6180_api.c **** 			break;
2159:dev/BSP/Components/vl6180/vl6180_api.c **** 		}
2160:dev/BSP/Components/vl6180/vl6180_api.c **** 
2161:dev/BSP/Components/vl6180/vl6180_api.c **** 		status = VL6180_GetCachedDWord(dev, RESULT_RANGE_REFERENCE_CONV_TIME, &m_refConvTime);
2162:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (status) {
2163:dev/BSP/Components/vl6180/vl6180_api.c **** 			VL6180_ErrLog("RESULT_RANGE_REFERENCE_CONV_TIME rd fail");
2164:dev/BSP/Components/vl6180/vl6180_api.c **** 			break;
2165:dev/BSP/Components/vl6180/vl6180_api.c **** 		}
2166:dev/BSP/Components/vl6180/vl6180_api.c **** 
2167:dev/BSP/Components/vl6180/vl6180_api.c **** 		pRangeData->rtnConvTime = m_rtnConvTime;
2168:dev/BSP/Components/vl6180/vl6180_api.c **** 		pRangeData->refConvTime = m_refConvTime;
2169:dev/BSP/Components/vl6180/vl6180_api.c **** 
2170:dev/BSP/Components/vl6180/vl6180_api.c **** 		calcConvTime = m_refConvTime;
2171:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (m_rtnConvTime > m_refConvTime) {
2172:dev/BSP/Components/vl6180/vl6180_api.c **** 			calcConvTime = m_rtnConvTime;
2173:dev/BSP/Components/vl6180/vl6180_api.c **** 		}
2174:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (calcConvTime == 0)
2175:dev/BSP/Components/vl6180/vl6180_api.c **** 			calcConvTime = 63000;
2176:dev/BSP/Components/vl6180/vl6180_api.c **** 
2177:dev/BSP/Components/vl6180/vl6180_api.c **** 		m_rtnSignalRate = (m_rtnSignalCount * 1000) / calcConvTime;
2178:dev/BSP/Components/vl6180/vl6180_api.c **** 		m_rtnAmbientRate = (m_rtnAmbientCount * cDllPeriods * 1000) / calcConvTime;
2179:dev/BSP/Components/vl6180/vl6180_api.c **** 
2180:dev/BSP/Components/vl6180/vl6180_api.c **** 		pRangeData->rtnRate = m_rtnSignalRate;
2181:dev/BSP/Components/vl6180/vl6180_api.c **** 		pRangeData->rtnAmbRate = m_rtnAmbientRate;
2182:dev/BSP/Components/vl6180/vl6180_api.c **** 
2183:dev/BSP/Components/vl6180/vl6180_api.c **** 
2184:dev/BSP/Components/vl6180/vl6180_api.c **** 	} while (0);
2185:dev/BSP/Components/vl6180/vl6180_api.c **** 	return status;
2186:dev/BSP/Components/vl6180/vl6180_api.c **** }
 384              		.loc 1 2186 1 view .LVU131
 385 002e 05B0     		add	sp, sp, #20
 386              	.LCFI8:
 387              		.cfi_remember_state
 388              		.cfi_def_cfa_offset 12
 389              		@ sp needed
 390 0030 30BD     		pop	{r4, r5, pc}
 391              	.LVL38:
 392              	.L23:
 393              	.LCFI9:
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 47


 394              		.cfi_restore_state
2145:dev/BSP/Components/vl6180/vl6180_api.c **** 		}
 395              		.loc 1 2145 4 is_stmt 1 view .LVU132
2145:dev/BSP/Components/vl6180/vl6180_api.c **** 		}
 396              		.loc 1 2145 21 is_stmt 0 view .LVU133
 397 0032 0023     		movs	r3, #0
 398              	.LVL39:
2145:dev/BSP/Components/vl6180/vl6180_api.c **** 		}
 399              		.loc 1 2145 21 view .LVU134
 400 0034 0293     		str	r3, [sp, #8]
 401 0036 F4E7     		b	.L18
 402              	.LVL40:
 403              	.L24:
2155:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (status) {
 404              		.loc 1 2155 3 is_stmt 1 view .LVU135
2155:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (status) {
 405              		.loc 1 2155 12 is_stmt 0 view .LVU136
 406 0038 03AA     		add	r2, sp, #12
 407 003a 7C21     		movs	r1, #124
 408 003c 2846     		mov	r0, r5
 409              	.LVL41:
2155:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (status) {
 410              		.loc 1 2155 12 view .LVU137
 411 003e FFF7FEFF 		bl	VL6180_RdDWord
 412              	.LVL42:
2156:dev/BSP/Components/vl6180/vl6180_api.c **** 			VL6180_ErrLog("RESULT_RANGE_RETURN_CONV_TIME rd fail");
 413              		.loc 1 2156 3 is_stmt 1 view .LVU138
2156:dev/BSP/Components/vl6180/vl6180_api.c **** 			VL6180_ErrLog("RESULT_RANGE_RETURN_CONV_TIME rd fail");
 414              		.loc 1 2156 6 is_stmt 0 view .LVU139
 415 0042 0028     		cmp	r0, #0
 416 0044 F3D1     		bne	.L16
2161:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (status) {
 417              		.loc 1 2161 3 is_stmt 1 view .LVU140
2161:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (status) {
 418              		.loc 1 2161 12 is_stmt 0 view .LVU141
 419 0046 6A46     		mov	r2, sp
 420 0048 8021     		movs	r1, #128
 421 004a 2846     		mov	r0, r5
 422              	.LVL43:
2161:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (status) {
 423              		.loc 1 2161 12 view .LVU142
 424 004c FFF7FEFF 		bl	VL6180_RdDWord
 425              	.LVL44:
2162:dev/BSP/Components/vl6180/vl6180_api.c **** 			VL6180_ErrLog("RESULT_RANGE_REFERENCE_CONV_TIME rd fail");
 426              		.loc 1 2162 3 is_stmt 1 view .LVU143
2162:dev/BSP/Components/vl6180/vl6180_api.c **** 			VL6180_ErrLog("RESULT_RANGE_REFERENCE_CONV_TIME rd fail");
 427              		.loc 1 2162 6 is_stmt 0 view .LVU144
 428 0050 0028     		cmp	r0, #0
 429 0052 ECD1     		bne	.L16
2167:dev/BSP/Components/vl6180/vl6180_api.c **** 		pRangeData->refConvTime = m_refConvTime;
 430              		.loc 1 2167 3 is_stmt 1 view .LVU145
2167:dev/BSP/Components/vl6180/vl6180_api.c **** 		pRangeData->refConvTime = m_refConvTime;
 431              		.loc 1 2167 27 is_stmt 0 view .LVU146
 432 0054 039B     		ldr	r3, [sp, #12]
 433 0056 6361     		str	r3, [r4, #20]
2168:dev/BSP/Components/vl6180/vl6180_api.c **** 
 434              		.loc 1 2168 3 is_stmt 1 view .LVU147
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 48


2168:dev/BSP/Components/vl6180/vl6180_api.c **** 
 435              		.loc 1 2168 27 is_stmt 0 view .LVU148
 436 0058 009A     		ldr	r2, [sp]
 437 005a A261     		str	r2, [r4, #24]
2170:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (m_rtnConvTime > m_refConvTime) {
 438              		.loc 1 2170 3 is_stmt 1 view .LVU149
 439              	.LVL45:
2171:dev/BSP/Components/vl6180/vl6180_api.c **** 			calcConvTime = m_rtnConvTime;
 440              		.loc 1 2171 3 view .LVU150
2171:dev/BSP/Components/vl6180/vl6180_api.c **** 			calcConvTime = m_rtnConvTime;
 441              		.loc 1 2171 6 is_stmt 0 view .LVU151
 442 005c 9342     		cmp	r3, r2
 443 005e 00D8     		bhi	.L19
2170:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (m_rtnConvTime > m_refConvTime) {
 444              		.loc 1 2170 16 view .LVU152
 445 0060 1346     		mov	r3, r2
 446              	.L19:
 447              	.LVL46:
2174:dev/BSP/Components/vl6180/vl6180_api.c **** 			calcConvTime = 63000;
 448              		.loc 1 2174 3 is_stmt 1 view .LVU153
2174:dev/BSP/Components/vl6180/vl6180_api.c **** 			calcConvTime = 63000;
 449              		.loc 1 2174 6 is_stmt 0 view .LVU154
 450 0062 0BB9     		cbnz	r3, .L20
2175:dev/BSP/Components/vl6180/vl6180_api.c **** 
 451              		.loc 1 2175 17 view .LVU155
 452 0064 4FF21863 		movw	r3, #63000
 453              	.LVL47:
 454              	.L20:
2177:dev/BSP/Components/vl6180/vl6180_api.c **** 		m_rtnAmbientRate = (m_rtnAmbientCount * cDllPeriods * 1000) / calcConvTime;
 455              		.loc 1 2177 3 is_stmt 1 view .LVU156
2177:dev/BSP/Components/vl6180/vl6180_api.c **** 		m_rtnAmbientRate = (m_rtnAmbientCount * cDllPeriods * 1000) / calcConvTime;
 456              		.loc 1 2177 39 is_stmt 0 view .LVU157
 457 0068 029A     		ldr	r2, [sp, #8]
 458 006a 4FF47A71 		mov	r1, #1000
 459 006e 01FB02F1 		mul	r1, r1, r2
2177:dev/BSP/Components/vl6180/vl6180_api.c **** 		m_rtnAmbientRate = (m_rtnAmbientCount * cDllPeriods * 1000) / calcConvTime;
 460              		.loc 1 2177 19 view .LVU158
 461 0072 B1FBF3F1 		udiv	r1, r1, r3
 462              	.LVL48:
2178:dev/BSP/Components/vl6180/vl6180_api.c **** 
 463              		.loc 1 2178 3 is_stmt 1 view .LVU159
2178:dev/BSP/Components/vl6180/vl6180_api.c **** 
 464              		.loc 1 2178 55 is_stmt 0 view .LVU160
 465 0076 019D     		ldr	r5, [sp, #4]
 466              	.LVL49:
2178:dev/BSP/Components/vl6180/vl6180_api.c **** 
 467              		.loc 1 2178 55 view .LVU161
 468 0078 41F27072 		movw	r2, #6000
 469 007c 02FB05F2 		mul	r2, r2, r5
2178:dev/BSP/Components/vl6180/vl6180_api.c **** 
 470              		.loc 1 2178 20 view .LVU162
 471 0080 B2FBF3F3 		udiv	r3, r2, r3
 472              	.LVL50:
2180:dev/BSP/Components/vl6180/vl6180_api.c **** 		pRangeData->rtnAmbRate = m_rtnAmbientRate;
 473              		.loc 1 2180 3 is_stmt 1 view .LVU163
2180:dev/BSP/Components/vl6180/vl6180_api.c **** 		pRangeData->rtnAmbRate = m_rtnAmbientRate;
 474              		.loc 1 2180 23 is_stmt 0 view .LVU164
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 49


 475 0084 2161     		str	r1, [r4, #16]
2181:dev/BSP/Components/vl6180/vl6180_api.c **** 
 476              		.loc 1 2181 3 is_stmt 1 view .LVU165
2181:dev/BSP/Components/vl6180/vl6180_api.c **** 
 477              		.loc 1 2181 26 is_stmt 0 view .LVU166
 478 0086 E360     		str	r3, [r4, #12]
2184:dev/BSP/Components/vl6180/vl6180_api.c **** 	return status;
 479              		.loc 1 2184 10 is_stmt 1 view .LVU167
2185:dev/BSP/Components/vl6180/vl6180_api.c **** }
 480              		.loc 1 2185 2 view .LVU168
2185:dev/BSP/Components/vl6180/vl6180_api.c **** }
 481              		.loc 1 2185 9 is_stmt 0 view .LVU169
 482 0088 D1E7     		b	.L16
 483              		.cfi_endproc
 484              	.LFE53:
 486              		.section	.text._filter_Start,"ax",%progbits
 487              		.align	1
 488              		.syntax unified
 489              		.thumb
 490              		.thumb_func
 491              		.fpu fpv5-d16
 493              	_filter_Start:
 494              	.LVL51:
 495              	.LFB51:
1579:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
 496              		.loc 1 1579 1 is_stmt 1 view -0
 497              		.cfi_startproc
 498              		@ args = 8, pretend = 0, frame = 32
 499              		@ frame_needed = 0, uses_anonymous_args = 0
1579:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
 500              		.loc 1 1579 1 is_stmt 0 view .LVU171
 501 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 502              	.LCFI10:
 503              		.cfi_def_cfa_offset 36
 504              		.cfi_offset 4, -36
 505              		.cfi_offset 5, -32
 506              		.cfi_offset 6, -28
 507              		.cfi_offset 7, -24
 508              		.cfi_offset 8, -20
 509              		.cfi_offset 9, -16
 510              		.cfi_offset 10, -12
 511              		.cfi_offset 11, -8
 512              		.cfi_offset 14, -4
 513 0004 8BB0     		sub	sp, sp, #44
 514              	.LCFI11:
 515              		.cfi_def_cfa_offset 80
 516 0006 0446     		mov	r4, r0
 517 0008 0291     		str	r1, [sp, #8]
 518 000a 1D46     		mov	r5, r3
 519 000c BDF854A0 		ldrh	r10, [sp, #84]
1580:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint16_t m_newTrueRange_mm = 0;
 520              		.loc 1 1580 2 is_stmt 1 view .LVU172
1581:dev/BSP/Components/vl6180/vl6180_api.c **** 	#if VL6180_HAVE_MULTI_READ
 521              		.loc 1 1581 2 view .LVU173
 522              	.LVL52:
1585:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint16_t bypassFilter = 0;
 523              		.loc 1 1585 2 view .LVU174
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 50


1586:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint16_t resetVAVGData = 1;
 524              		.loc 1 1586 2 view .LVU175
1587:dev/BSP/Components/vl6180/vl6180_api.c **** 
 525              		.loc 1 1587 2 view .LVU176
1589:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint16_t filterErrorCodeOnRangingErrorCode = NoError;
 526              		.loc 1 1589 2 view .LVU177
1590:dev/BSP/Components/vl6180/vl6180_api.c **** 
 527              		.loc 1 1590 2 view .LVU178
1592:dev/BSP/Components/vl6180/vl6180_api.c **** 
 528              		.loc 1 1592 2 view .LVU179
1594:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint32_t register32BitsValue2;
 529              		.loc 1 1594 2 view .LVU180
1595:dev/BSP/Components/vl6180/vl6180_api.c **** 
 530              		.loc 1 1595 2 view .LVU181
1597:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint16_t SuspicuousRangingZone = 0;
 531              		.loc 1 1597 2 view .LVU182
1598:dev/BSP/Components/vl6180/vl6180_api.c **** 
 532              		.loc 1 1598 2 view .LVU183
1600:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint16_t NoWrapAroundFlag = 0;
 533              		.loc 1 1600 2 view .LVU184
1601:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint16_t NoWrapAroundHighConfidenceFlag = 0;
 534              		.loc 1 1601 2 view .LVU185
1602:dev/BSP/Components/vl6180/vl6180_api.c **** 
 535              		.loc 1 1602 2 view .LVU186
1604:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint32_t RateChange = 0;
 536              		.loc 1 1604 2 view .LVU187
1605:dev/BSP/Components/vl6180/vl6180_api.c **** 
 537              		.loc 1 1605 2 view .LVU188
1607:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint16_t StdDevSamples = 0;
 538              		.loc 1 1607 2 view .LVU189
1608:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint32_t StdDevDistanceSum = 0;
 539              		.loc 1 1608 2 view .LVU190
1609:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint32_t StdDevDistanceMean = 0;
 540              		.loc 1 1609 2 view .LVU191
1610:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint32_t StdDevDistance = 0;
 541              		.loc 1 1610 2 view .LVU192
1611:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint32_t StdDevRateSum = 0;
 542              		.loc 1 1611 2 view .LVU193
1612:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint32_t StdDevRateMean = 0;
 543              		.loc 1 1612 2 view .LVU194
1613:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint32_t StdDevRate = 0;
 544              		.loc 1 1613 2 view .LVU195
1614:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint32_t StdDevLimitWithTargetMove = 0;
 545              		.loc 1 1614 2 view .LVU196
1615:dev/BSP/Components/vl6180/vl6180_api.c **** 
 546              		.loc 1 1615 2 view .LVU197
1617:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint32_t IdealVAVGDiff;
 547              		.loc 1 1617 2 view .LVU198
1618:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint32_t MinVAVGDiff;
 548              		.loc 1 1618 2 view .LVU199
1619:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint32_t MaxVAVGDiff;
 549              		.loc 1 1619 2 view .LVU200
1620:dev/BSP/Components/vl6180/vl6180_api.c **** 
 550              		.loc 1 1620 2 view .LVU201
1623:dev/BSP/Components/vl6180/vl6180_api.c **** 	static const uint32_t ROMABLE_DATA WrapAroundLowReturnRateLimit_ROM = 800;
 551              		.loc 1 1623 2 view .LVU202
1624:dev/BSP/Components/vl6180/vl6180_api.c **** 	/* Shall be adapted depending on crossTalk */
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 51


 552              		.loc 1 1624 2 view .LVU203
1626:dev/BSP/Components/vl6180/vl6180_api.c **** 	static const uint32_t ROMABLE_DATA WrapAroundLowReturnRateLimit2_ROM = 180;
 553              		.loc 1 1626 2 view .LVU204
1627:dev/BSP/Components/vl6180/vl6180_api.c **** 	/* Shall be adapted depending on crossTalk and device sensitivity*/
 554              		.loc 1 1627 2 view .LVU205
1629:dev/BSP/Components/vl6180/vl6180_api.c **** 
 555              		.loc 1 1629 2 view .LVU206
1632:dev/BSP/Components/vl6180/vl6180_api.c **** 	/* Shall be adapted depending on crossTalk and device sensitivity*/
 556              		.loc 1 1632 2 view .LVU207
1634:dev/BSP/Components/vl6180/vl6180_api.c **** 	static const uint32_t ROMABLE_DATA WrapAroundHighReturnRateFilterLimit_ROM = 1400;
 557              		.loc 1 1634 2 view .LVU208
1635:dev/BSP/Components/vl6180/vl6180_api.c **** 	/* Shall be adapted depending on crossTalk and device sensitivity*/
 558              		.loc 1 1635 2 view .LVU209
1638:dev/BSP/Components/vl6180/vl6180_api.c **** 
 559              		.loc 1 1638 2 view .LVU210
1641:dev/BSP/Components/vl6180/vl6180_api.c **** 	static const uint32_t ROMABLE_DATA MaxReturnRateChangeFilterFlush = 50;
 560              		.loc 1 1641 2 view .LVU211
1642:dev/BSP/Components/vl6180/vl6180_api.c **** 
 561              		.loc 1 1642 2 view .LVU212
1645:dev/BSP/Components/vl6180/vl6180_api.c **** 	static const uint32_t ROMABLE_DATA StdDevLimitLowLightSNR = 30; /* 0.3 */
 562              		.loc 1 1645 2 view .LVU213
1646:dev/BSP/Components/vl6180/vl6180_api.c **** 	static const uint32_t ROMABLE_DATA StdDevLimitHighLight = STDDEV_BASE_VALUE*6;
 563              		.loc 1 1646 2 view .LVU214
1647:dev/BSP/Components/vl6180/vl6180_api.c **** 	static const uint32_t ROMABLE_DATA StdDevLimitHighLightSNR = 5; /* 0.05 */
 564              		.loc 1 1647 2 view .LVU215
1648:dev/BSP/Components/vl6180/vl6180_api.c **** 
 565              		.loc 1 1648 2 view .LVU216
1650:dev/BSP/Components/vl6180/vl6180_api.c **** 	static const uint32_t ROMABLE_DATA StdDevNoWrapDetectedMultiplier = 4;
 566              		.loc 1 1650 2 view .LVU217
1651:dev/BSP/Components/vl6180/vl6180_api.c **** 
 567              		.loc 1 1651 2 view .LVU218
1653:dev/BSP/Components/vl6180/vl6180_api.c **** 
 568              		.loc 1 1653 2 view .LVU219
1655:dev/BSP/Components/vl6180/vl6180_api.c **** 	static const uint32_t ROMABLE_DATA StdDevMovingTargetStdDevForReturnRateLimit = STDDEV_BASE_VALUE*
 569              		.loc 1 1655 2 view .LVU220
1656:dev/BSP/Components/vl6180/vl6180_api.c **** 
 570              		.loc 1 1656 2 view .LVU221
1658:dev/BSP/Components/vl6180/vl6180_api.c **** 	static const uint32_t ROMABLE_DATA SuspicuousMAX_VAVGDiffRatio = 2;
 571              		.loc 1 1658 2 view .LVU222
1659:dev/BSP/Components/vl6180/vl6180_api.c **** 
 572              		.loc 1 1659 2 view .LVU223
1662:dev/BSP/Components/vl6180/vl6180_api.c **** 	static const uint16_t ROMABLE_DATA StdFilteredReadsIncrement = 2;
 573              		.loc 1 1662 2 view .LVU224
1663:dev/BSP/Components/vl6180/vl6180_api.c **** 	static const uint16_t ROMABLE_DATA StdFilteredReadsDecrement = 1;
 574              		.loc 1 1663 2 view .LVU225
1664:dev/BSP/Components/vl6180/vl6180_api.c **** 	static const uint16_t ROMABLE_DATA StdMaxFilteredReads = 4;
 575              		.loc 1 1664 2 view .LVU226
1665:dev/BSP/Components/vl6180/vl6180_api.c **** 
 576              		.loc 1 1665 2 view .LVU227
1667:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint32_t WrapAroundLowReturnRateLimit;
 577              		.loc 1 1667 2 view .LVU228
1668:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint32_t WrapAroundLowReturnRateLimit2;
 578              		.loc 1 1668 2 view .LVU229
1669:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint32_t WrapAroundLowReturnRateFilterLimit;
 579              		.loc 1 1669 2 view .LVU230
1670:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint32_t WrapAroundHighReturnRateFilterLimit;
 580              		.loc 1 1670 2 view .LVU231
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 52


1671:dev/BSP/Components/vl6180/vl6180_api.c **** 
 581              		.loc 1 1671 2 view .LVU232
1673:dev/BSP/Components/vl6180/vl6180_api.c **** 
 582              		.loc 1 1673 2 view .LVU233
1675:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint32_t XTalkCompRate_KCps;
 583              		.loc 1 1675 2 view .LVU234
1676:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint32_t StdDevLimit = 300;
 584              		.loc 1 1676 2 view .LVU235
1677:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint32_t MaxOrInvalidDistance =   255*_GetUpscale(dev);
 585              		.loc 1 1677 2 view .LVU236
1678:dev/BSP/Components/vl6180/vl6180_api.c **** 	/* #define MaxOrInvalidDistance  (uint16_t) (255 * 3) */
 586              		.loc 1 1678 2 view .LVU237
1678:dev/BSP/Components/vl6180/vl6180_api.c **** 	/* #define MaxOrInvalidDistance  (uint16_t) (255 * 3) */
 587              		.loc 1 1678 40 is_stmt 0 view .LVU238
 588 0010 837C     		ldrb	r3, [r0, #18]	@ zero_extendqisi2
 589              	.LVL53:
1678:dev/BSP/Components/vl6180/vl6180_api.c **** 	/* #define MaxOrInvalidDistance  (uint16_t) (255 * 3) */
 590              		.loc 1 1678 39 view .LVU239
 591 0012 C3EB0321 		rsb	r1, r3, r3, lsl #8
 592              	.LVL54:
1678:dev/BSP/Components/vl6180/vl6180_api.c **** 	/* #define MaxOrInvalidDistance  (uint16_t) (255 * 3) */
 593              		.loc 1 1678 39 view .LVU240
 594 0016 0591     		str	r1, [sp, #20]
 595              	.LVL55:
1682:dev/BSP/Components/vl6180/vl6180_api.c **** 	case Raw_Ranging_Algo_Underflow:
 596              		.loc 1 1682 2 is_stmt 1 view .LVU241
 597 0018 AAF10C01 		sub	r1, r10, #12
 598              	.LVL56:
1682:dev/BSP/Components/vl6180/vl6180_api.c **** 	case Raw_Ranging_Algo_Underflow:
 599              		.loc 1 1682 2 is_stmt 0 view .LVU242
 600 001c 0329     		cmp	r1, #3
 601 001e 10D8     		bhi	.L26
 602 0020 DFE801F0 		tbb	[pc, r1]
 603              	.LVL57:
 604              	.L28:
 605 0024 18       		.byte	(.L86-.L28)/2
 606 0025 02       		.byte	(.L27-.L28)/2
 607 0026 18       		.byte	(.L86-.L28)/2
 608 0027 02       		.byte	(.L27-.L28)/2
 609              		.p2align 1
 610              	.L27:
1690:dev/BSP/Components/vl6180/vl6180_api.c **** 		//m_trueRange_mm = MaxOrInvalidDistance;
 611              		.loc 1 1690 3 is_stmt 1 view .LVU243
1692:dev/BSP/Components/vl6180/vl6180_api.c **** 		ValidDistance = 1;
 612              		.loc 1 1692 3 view .LVU244
1692:dev/BSP/Components/vl6180/vl6180_api.c **** 		ValidDistance = 1;
 613              		.loc 1 1692 18 is_stmt 0 view .LVU245
 614 0028 03EB8303 		add	r3, r3, r3, lsl #2
 615 002c 03EB8303 		add	r3, r3, r3, lsl #2
 616 0030 DB00     		lsls	r3, r3, #3
 617 0032 9BB2     		uxth	r3, r3
 618 0034 0293     		str	r3, [sp, #8]
 619              	.LVL58:
1693:dev/BSP/Components/vl6180/vl6180_api.c **** 		break;
 620              		.loc 1 1693 3 is_stmt 1 view .LVU246
1694:dev/BSP/Components/vl6180/vl6180_api.c **** 	default:
 621              		.loc 1 1694 3 view .LVU247
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 53


1693:dev/BSP/Components/vl6180/vl6180_api.c **** 		break;
 622              		.loc 1 1693 17 is_stmt 0 view .LVU248
 623 0036 4FF00109 		mov	r9, #1
1690:dev/BSP/Components/vl6180/vl6180_api.c **** 		//m_trueRange_mm = MaxOrInvalidDistance;
 624              		.loc 1 1690 37 view .LVU249
 625 003a 1023     		movs	r3, #16
 626 003c 0393     		str	r3, [sp, #12]
1586:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint16_t resetVAVGData = 1;
 627              		.loc 1 1586 11 view .LVU250
 628 003e 0026     		movs	r6, #0
1694:dev/BSP/Components/vl6180/vl6180_api.c **** 	default:
 629              		.loc 1 1694 3 view .LVU251
 630 0040 0DE0     		b	.L29
 631              	.LVL59:
 632              	.L26:
1696:dev/BSP/Components/vl6180/vl6180_api.c **** 			ValidDistance = 0;
 633              		.loc 1 1696 3 is_stmt 1 view .LVU252
1696:dev/BSP/Components/vl6180/vl6180_api.c **** 			ValidDistance = 0;
 634              		.loc 1 1696 6 is_stmt 0 view .LVU253
 635 0042 059B     		ldr	r3, [sp, #20]
 636 0044 9A42     		cmp	r2, r3
 637 0046 47D3     		bcc	.L87
1697:dev/BSP/Components/vl6180/vl6180_api.c **** 			bypassFilter = 1; /* Bypass the filter in this case as produced distance is not usable (and also
 638              		.loc 1 1697 18 view .LVU254
 639 0048 4FF00009 		mov	r9, #0
1590:dev/BSP/Components/vl6180/vl6180_api.c **** 
 640              		.loc 1 1590 11 view .LVU255
 641 004c CDF80C90 		str	r9, [sp, #12]
1698:dev/BSP/Components/vl6180/vl6180_api.c **** 		} else {
 642              		.loc 1 1698 17 view .LVU256
 643 0050 0126     		movs	r6, #1
 644 0052 04E0     		b	.L29
 645              	.L86:
1678:dev/BSP/Components/vl6180/vl6180_api.c **** 	/* #define MaxOrInvalidDistance  (uint16_t) (255 * 3) */
 646              		.loc 1 1678 11 view .LVU257
 647 0054 4FF00009 		mov	r9, #0
 648 0058 1023     		movs	r3, #16
 649 005a 0393     		str	r3, [sp, #12]
 650 005c 4E46     		mov	r6, r9
 651              	.LVL60:
 652              	.L29:
1704:dev/BSP/Components/vl6180/vl6180_api.c **** 
 653              		.loc 1 1704 2 is_stmt 1 view .LVU258
1706:dev/BSP/Components/vl6180/vl6180_api.c **** 
 654              		.loc 1 1706 2 view .LVU259
1706:dev/BSP/Components/vl6180/vl6180_api.c **** 
 655              		.loc 1 1706 21 is_stmt 0 view .LVU260
 656 005e 6768     		ldr	r7, [r4, #4]
 657              	.LVL61:
1709:dev/BSP/Components/vl6180/vl6180_api.c **** 	WrapAroundLowReturnRateLimit = WrapAroundLowReturnRateLimit_ROM  + XTalkCompRate_KCps;
 658              		.loc 1 1709 2 is_stmt 1 view .LVU261
1709:dev/BSP/Components/vl6180/vl6180_api.c **** 	WrapAroundLowReturnRateLimit = WrapAroundLowReturnRateLimit_ROM  + XTalkCompRate_KCps;
 659              		.loc 1 1709 29 is_stmt 0 view .LVU262
 660 0060 D4F87CE0 		ldr	lr, [r4, #124]
 661              	.LVL62:
1710:dev/BSP/Components/vl6180/vl6180_api.c **** 	WrapAroundLowReturnRateLimit2 = ((WrapAroundLowReturnRateLimit2_ROM *
 662              		.loc 1 1710 2 is_stmt 1 view .LVU263
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 54


1710:dev/BSP/Components/vl6180/vl6180_api.c **** 	WrapAroundLowReturnRateLimit2 = ((WrapAroundLowReturnRateLimit2_ROM *
 663              		.loc 1 1710 31 is_stmt 0 view .LVU264
 664 0064 07F54878 		add	r8, r7, #800
 665              	.LVL63:
1711:dev/BSP/Components/vl6180/vl6180_api.c **** 									SignalRateDMax) / 312) +
 666              		.loc 1 1711 2 is_stmt 1 view .LVU265
1711:dev/BSP/Components/vl6180/vl6180_api.c **** 									SignalRateDMax) / 312) +
 667              		.loc 1 1711 70 is_stmt 0 view .LVU266
 668 0068 B421     		movs	r1, #180
 669 006a 01FB0EF1 		mul	r1, r1, lr
1712:dev/BSP/Components/vl6180/vl6180_api.c **** 									XTalkCompRate_KCps;
 670              		.loc 1 1712 26 view .LVU267
 671 006e C908     		lsrs	r1, r1, #3
 672 0070 DFF8CCC4 		ldr	ip, .L132+4
 673 0074 ACFB0131 		umull	r3, r1, ip, r1
1711:dev/BSP/Components/vl6180/vl6180_api.c **** 									SignalRateDMax) / 312) +
 674              		.loc 1 1711 32 view .LVU268
 675 0078 07EB9101 		add	r1, r7, r1, lsr #2
 676              	.LVL64:
1714:dev/BSP/Components/vl6180/vl6180_api.c **** 									SignalRateDMax) / 312) + XTalkCompRate_KCps;
 677              		.loc 1 1714 2 is_stmt 1 view .LVU269
1714:dev/BSP/Components/vl6180/vl6180_api.c **** 									SignalRateDMax) / 312) + XTalkCompRate_KCps;
 678              		.loc 1 1714 80 is_stmt 0 view .LVU270
 679 007c 40F25233 		movw	r3, #850
 680 0080 03FB0EF3 		mul	r3, r3, lr
1715:dev/BSP/Components/vl6180/vl6180_api.c **** 	WrapAroundHighReturnRateFilterLimit = ((WrapAroundHighReturnRateFilterLimit_ROM *
 681              		.loc 1 1715 26 view .LVU271
 682 0084 DB08     		lsrs	r3, r3, #3
 683 0086 ACFB0303 		umull	r0, r3, ip, r3
1714:dev/BSP/Components/vl6180/vl6180_api.c **** 									SignalRateDMax) / 312) + XTalkCompRate_KCps;
 684              		.loc 1 1714 37 view .LVU272
 685 008a 07EB9303 		add	r3, r7, r3, lsr #2
 686              	.LVL65:
1716:dev/BSP/Components/vl6180/vl6180_api.c **** 									SignalRateDMax) / 312) + XTalkCompRate_KCps;
 687              		.loc 1 1716 2 is_stmt 1 view .LVU273
1716:dev/BSP/Components/vl6180/vl6180_api.c **** 									SignalRateDMax) / 312) + XTalkCompRate_KCps;
 688              		.loc 1 1716 82 is_stmt 0 view .LVU274
 689 008e 4FF4AF60 		mov	r0, #1400
 690 0092 00FB0EFE 		mul	lr, r0, lr
 691              	.LVL66:
1717:dev/BSP/Components/vl6180/vl6180_api.c **** 
 692              		.loc 1 1717 26 view .LVU275
 693 0096 4FEADE0E 		lsr	lr, lr, #3
 694 009a ACFB0E0E 		umull	r0, lr, ip, lr
1716:dev/BSP/Components/vl6180/vl6180_api.c **** 									SignalRateDMax) / 312) + XTalkCompRate_KCps;
 695              		.loc 1 1716 38 view .LVU276
 696 009e 07EB9E0E 		add	lr, r7, lr, lsr #2
 697              	.LVL67:
1721:dev/BSP/Components/vl6180/vl6180_api.c **** 		filterErrorCode = RangingFiltered; /* On this condition, wraparound case is ensured */
 698              		.loc 1 1721 2 is_stmt 1 view .LVU277
1721:dev/BSP/Components/vl6180/vl6180_api.c **** 		filterErrorCode = RangingFiltered; /* On this condition, wraparound case is ensured */
 699              		.loc 1 1721 51 is_stmt 0 view .LVU278
 700 00a2 3B2A     		cmp	r2, #59
 701 00a4 8CBF     		ite	hi
 702 00a6 0020     		movhi	r0, #0
 703 00a8 0120     		movls	r0, #1
 704 00aa A845     		cmp	r8, r5
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 55


 705 00ac 98BF     		it	ls
 706 00ae 0020     		movls	r0, #0
1721:dev/BSP/Components/vl6180/vl6180_api.c **** 		filterErrorCode = RangingFiltered; /* On this condition, wraparound case is ensured */
 707              		.loc 1 1721 5 view .LVU279
 708 00b0 C0B9     		cbnz	r0, .L88
1589:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint16_t filterErrorCodeOnRangingErrorCode = NoError;
 709              		.loc 1 1589 11 view .LVU280
 710 00b2 0027     		movs	r7, #0
 711              	.LVL68:
 712              	.L30:
1725:dev/BSP/Components/vl6180/vl6180_api.c **** 		filterErrorCode = RangingFiltered; /* On this condition, wraparound case is ensured */
 713              		.loc 1 1725 2 is_stmt 1 view .LVU281
1725:dev/BSP/Components/vl6180/vl6180_api.c **** 		filterErrorCode = RangingFiltered; /* On this condition, wraparound case is ensured */
 714              		.loc 1 1725 52 is_stmt 0 view .LVU282
 715 00b4 A42A     		cmp	r2, #164
 716 00b6 8CBF     		ite	hi
 717 00b8 0020     		movhi	r0, #0
 718 00ba 0120     		movls	r0, #1
 719 00bc A942     		cmp	r1, r5
 720 00be 98BF     		it	ls
 721 00c0 0020     		movls	r0, #0
1725:dev/BSP/Components/vl6180/vl6180_api.c **** 		filterErrorCode = RangingFiltered; /* On this condition, wraparound case is ensured */
 722              		.loc 1 1725 5 view .LVU283
 723 00c2 08B1     		cbz	r0, .L31
1726:dev/BSP/Components/vl6180/vl6180_api.c **** 		bypassFilter = 1;
 724              		.loc 1 1726 19 view .LVU284
 725 00c4 1027     		movs	r7, #16
 726              	.LVL69:
1727:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
 727              		.loc 1 1727 16 view .LVU285
 728 00c6 0126     		movs	r6, #1
 729              	.LVL70:
 730              	.L31:
1729:dev/BSP/Components/vl6180/vl6180_api.c **** 		SuspicuousRangingZone = 1; /* On this area, we are in an highly suspicuous wraparound ares, filte
 731              		.loc 1 1729 2 is_stmt 1 view .LVU286
1729:dev/BSP/Components/vl6180/vl6180_api.c **** 		SuspicuousRangingZone = 1; /* On this area, we are in an highly suspicuous wraparound ares, filte
 732              		.loc 1 1729 5 is_stmt 0 view .LVU287
 733 00c8 A42A     		cmp	r2, #164
 734 00ca 0ED8     		bhi	.L90
1729:dev/BSP/Components/vl6180/vl6180_api.c **** 		SuspicuousRangingZone = 1; /* On this area, we are in an highly suspicuous wraparound ares, filte
 735              		.loc 1 1729 105 discriminator 1 view .LVU288
 736 00cc 9631     		adds	r1, r1, #150
 737              	.LVL71:
1729:dev/BSP/Components/vl6180/vl6180_api.c **** 		SuspicuousRangingZone = 1; /* On this area, we are in an highly suspicuous wraparound ares, filte
 738              		.loc 1 1729 52 discriminator 1 view .LVU289
 739 00ce A942     		cmp	r1, r5
 740 00d0 2CD8     		bhi	.L91
1598:dev/BSP/Components/vl6180/vl6180_api.c **** 
 741              		.loc 1 1598 11 view .LVU290
 742 00d2 0021     		movs	r1, #0
 743              	.LVL72:
1598:dev/BSP/Components/vl6180/vl6180_api.c **** 
 744              		.loc 1 1598 11 view .LVU291
 745 00d4 0491     		str	r1, [sp, #16]
 746 00d6 0AE0     		b	.L32
 747              	.LVL73:
 748              	.L87:
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 56


1700:dev/BSP/Components/vl6180/vl6180_api.c **** 		}
 749              		.loc 1 1700 18 view .LVU292
 750 00d8 4FF00109 		mov	r9, #1
1590:dev/BSP/Components/vl6180/vl6180_api.c **** 
 751              		.loc 1 1590 11 view .LVU293
 752 00dc 0023     		movs	r3, #0
 753 00de 0393     		str	r3, [sp, #12]
1586:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint16_t resetVAVGData = 1;
 754              		.loc 1 1586 11 view .LVU294
 755 00e0 1E46     		mov	r6, r3
 756 00e2 BCE7     		b	.L29
 757              	.LVL74:
 758              	.L88:
1722:dev/BSP/Components/vl6180/vl6180_api.c **** 		bypassFilter = 1;
 759              		.loc 1 1722 19 view .LVU295
 760 00e4 1027     		movs	r7, #16
 761              	.LVL75:
1723:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
 762              		.loc 1 1723 16 view .LVU296
 763 00e6 0126     		movs	r6, #1
 764              	.LVL76:
1723:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
 765              		.loc 1 1723 16 view .LVU297
 766 00e8 E4E7     		b	.L30
 767              	.LVL77:
 768              	.L90:
1598:dev/BSP/Components/vl6180/vl6180_api.c **** 
 769              		.loc 1 1598 11 view .LVU298
 770 00ea 0021     		movs	r1, #0
 771              	.LVL78:
1598:dev/BSP/Components/vl6180/vl6180_api.c **** 
 772              		.loc 1 1598 11 view .LVU299
 773 00ec 0491     		str	r1, [sp, #16]
 774              	.L32:
 775              	.LVL79:
1735:dev/BSP/Components/vl6180/vl6180_api.c **** 		/* Too high ambient rate */
 776              		.loc 1 1735 2 is_stmt 1 view .LVU300
1735:dev/BSP/Components/vl6180/vl6180_api.c **** 		/* Too high ambient rate */
 777              		.loc 1 1735 5 is_stmt 0 view .LVU301
 778 00ee 43F69821 		movw	r1, #15000
 779 00f2 1498     		ldr	r0, [sp, #80]
 780 00f4 8842     		cmp	r0, r1
 781 00f6 1CD8     		bhi	.L92
1604:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint32_t RateChange = 0;
 782              		.loc 1 1604 11 view .LVU302
 783 00f8 4FF00008 		mov	r8, #0
 784              	.LVL80:
 785              	.L33:
1742:dev/BSP/Components/vl6180/vl6180_api.c **** 		/* Completely lost target, so flush the filter */
 786              		.loc 1 1742 2 is_stmt 1 view .LVU303
1742:dev/BSP/Components/vl6180/vl6180_api.c **** 		/* Completely lost target, so flush the filter */
 787              		.loc 1 1742 5 is_stmt 0 view .LVU304
 788 00fc 4A2D     		cmp	r5, #74
 789 00fe 02D8     		bhi	.L34
1744:dev/BSP/Components/vl6180/vl6180_api.c **** 		bypassFilter = 1;
 790              		.loc 1 1744 15 view .LVU305
 791 0100 4FF00108 		mov	r8, #1
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 57


 792              	.LVL81:
1745:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
 793              		.loc 1 1745 16 view .LVU306
 794 0104 4646     		mov	r6, r8
 795              	.LVL82:
 796              	.L34:
1747:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (m_rtnSignalRate > _FilterData(LastReturnRates)[0])
 797              		.loc 1 1747 2 is_stmt 1 view .LVU307
1747:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (m_rtnSignalRate > _FilterData(LastReturnRates)[0])
 798              		.loc 1 1747 34 is_stmt 0 view .LVU308
 799 0106 216B     		ldr	r1, [r4, #48]
1747:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (m_rtnSignalRate > _FilterData(LastReturnRates)[0])
 800              		.loc 1 1747 5 view .LVU309
 801 0108 51B1     		cbz	r1, .L35
1748:dev/BSP/Components/vl6180/vl6180_api.c **** 			RateChange = (100 *
 802              		.loc 1 1748 3 is_stmt 1 view .LVU310
1748:dev/BSP/Components/vl6180/vl6180_api.c **** 			RateChange = (100 *
 803              		.loc 1 1748 6 is_stmt 0 view .LVU311
 804 010a A942     		cmp	r1, r5
 805 010c 15D2     		bcs	.L36
1749:dev/BSP/Components/vl6180/vl6180_api.c **** 						(m_rtnSignalRate - _FilterData(LastReturnRates)[0])) /
 806              		.loc 1 1749 4 is_stmt 1 view .LVU312
1750:dev/BSP/Components/vl6180/vl6180_api.c **** 						_FilterData(LastReturnRates)[0];
 807              		.loc 1 1750 24 is_stmt 0 view .LVU313
 808 010e A5EB010C 		sub	ip, r5, r1
 809              	.LVL83:
1749:dev/BSP/Components/vl6180/vl6180_api.c **** 						(m_rtnSignalRate - _FilterData(LastReturnRates)[0])) /
 810              		.loc 1 1749 22 view .LVU314
 811 0112 6420     		movs	r0, #100
 812 0114 00FB0CF0 		mul	r0, r0, ip
1749:dev/BSP/Components/vl6180/vl6180_api.c **** 						(m_rtnSignalRate - _FilterData(LastReturnRates)[0])) /
 813              		.loc 1 1749 15 view .LVU315
 814 0118 B0FBF1F0 		udiv	r0, r0, r1
 815              	.LVL84:
 816              	.L37:
1758:dev/BSP/Components/vl6180/vl6180_api.c **** 		FlushFilter = 1;
 817              		.loc 1 1758 2 is_stmt 1 view .LVU316
1758:dev/BSP/Components/vl6180/vl6180_api.c **** 		FlushFilter = 1;
 818              		.loc 1 1758 5 is_stmt 0 view .LVU317
 819 011c 3228     		cmp	r0, #50
 820 011e 14D8     		bhi	.L94
 821              	.LVL85:
 822              	.L35:
1762:dev/BSP/Components/vl6180/vl6180_api.c **** 		_FilterData(MeasurementIndex) = 0;
 823              		.loc 1 1762 2 is_stmt 1 view .LVU318
1762:dev/BSP/Components/vl6180/vl6180_api.c **** 		_FilterData(MeasurementIndex) = 0;
 824              		.loc 1 1762 5 is_stmt 0 view .LVU319
 825 0120 B8F1000F 		cmp	r8, #0
 826 0124 13D1     		bne	.L38
1770:dev/BSP/Components/vl6180/vl6180_api.c **** 			_FilterData(LastTrueRange)[i] = _FilterData(LastTrueRange)[i - 1];
 827              		.loc 1 1770 10 view .LVU320
 828 0126 0921     		movs	r1, #9
 829 0128 9C46     		mov	ip, r3
 830 012a 66E0     		b	.L39
 831              	.LVL86:
 832              	.L91:
1730:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 58


 833              		.loc 1 1730 25 view .LVU321
 834 012c 0121     		movs	r1, #1
 835              	.LVL87:
1730:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
 836              		.loc 1 1730 25 view .LVU322
 837 012e 0491     		str	r1, [sp, #16]
 838 0130 DDE7     		b	.L32
 839              	.LVL88:
 840              	.L92:
1737:dev/BSP/Components/vl6180/vl6180_api.c **** 		bypassFilter = 1;
 841              		.loc 1 1737 15 view .LVU323
 842 0132 4FF00108 		mov	r8, #1
 843              	.LVL89:
1738:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
 844              		.loc 1 1738 16 view .LVU324
 845 0136 4646     		mov	r6, r8
 846              	.LVL90:
1738:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
 847              		.loc 1 1738 16 view .LVU325
 848 0138 E0E7     		b	.L33
 849              	.LVL91:
 850              	.L36:
1753:dev/BSP/Components/vl6180/vl6180_api.c **** 						(_FilterData(LastReturnRates)[0] - m_rtnSignalRate)) /
 851              		.loc 1 1753 4 is_stmt 1 view .LVU326
1754:dev/BSP/Components/vl6180/vl6180_api.c **** 						_FilterData(LastReturnRates)[0];
 852              		.loc 1 1754 40 is_stmt 0 view .LVU327
 853 013a A1EB050C 		sub	ip, r1, r5
 854              	.LVL92:
1753:dev/BSP/Components/vl6180/vl6180_api.c **** 						(_FilterData(LastReturnRates)[0] - m_rtnSignalRate)) /
 855              		.loc 1 1753 22 view .LVU328
 856 013e 6420     		movs	r0, #100
 857 0140 00FB0CF0 		mul	r0, r0, ip
1753:dev/BSP/Components/vl6180/vl6180_api.c **** 						(_FilterData(LastReturnRates)[0] - m_rtnSignalRate)) /
 858              		.loc 1 1753 15 view .LVU329
 859 0144 B0FBF1F0 		udiv	r0, r0, r1
 860              	.LVL93:
1753:dev/BSP/Components/vl6180/vl6180_api.c **** 						(_FilterData(LastReturnRates)[0] - m_rtnSignalRate)) /
 861              		.loc 1 1753 15 view .LVU330
 862 0148 E8E7     		b	.L37
 863              	.L94:
1759:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
 864              		.loc 1 1759 15 view .LVU331
 865 014a 4FF00108 		mov	r8, #1
 866              	.LVL94:
 867              	.L38:
1763:dev/BSP/Components/vl6180/vl6180_api.c **** 		for (i = 0; i < FILTER_NBOF_SAMPLES; i++) {
 868              		.loc 1 1763 3 is_stmt 1 view .LVU332
1763:dev/BSP/Components/vl6180/vl6180_api.c **** 		for (i = 0; i < FILTER_NBOF_SAMPLES; i++) {
 869              		.loc 1 1763 33 is_stmt 0 view .LVU333
 870 014e 0021     		movs	r1, #0
 871 0150 6161     		str	r1, [r4, #20]
1764:dev/BSP/Components/vl6180/vl6180_api.c **** 			_FilterData(LastTrueRange)[i] = FILTER_INVALID_DISTANCE;
 872              		.loc 1 1764 3 is_stmt 1 view .LVU334
 873              	.LVL95:
 874              	.L40:
1764:dev/BSP/Components/vl6180/vl6180_api.c **** 			_FilterData(LastTrueRange)[i] = FILTER_INVALID_DISTANCE;
 875              		.loc 1 1764 15 discriminator 1 view .LVU335
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 59


1764:dev/BSP/Components/vl6180/vl6180_api.c **** 			_FilterData(LastTrueRange)[i] = FILTER_INVALID_DISTANCE;
 876              		.loc 1 1764 3 is_stmt 0 discriminator 1 view .LVU336
 877 0152 0929     		cmp	r1, #9
 878 0154 12D8     		bhi	.L118
1765:dev/BSP/Components/vl6180/vl6180_api.c **** 			_FilterData(LastReturnRates)[i] = 0;
 879              		.loc 1 1765 4 is_stmt 1 discriminator 3 view .LVU337
1765:dev/BSP/Components/vl6180/vl6180_api.c **** 			_FilterData(LastReturnRates)[i] = 0;
 880              		.loc 1 1765 34 is_stmt 0 discriminator 3 view .LVU338
 881 0156 01F10C00 		add	r0, r1, #12
 882 015a 04EB4000 		add	r0, r4, r0, lsl #1
 883 015e 4FF6FF7C 		movw	ip, #65535
 884 0162 A0F804C0 		strh	ip, [r0, #4]	@ movhi
1766:dev/BSP/Components/vl6180/vl6180_api.c **** 		}
 885              		.loc 1 1766 4 is_stmt 1 discriminator 3 view .LVU339
1766:dev/BSP/Components/vl6180/vl6180_api.c **** 		}
 886              		.loc 1 1766 36 is_stmt 0 discriminator 3 view .LVU340
 887 0166 01F10A00 		add	r0, r1, #10
 888 016a 04EB8000 		add	r0, r4, r0, lsl #2
 889 016e 4FF0000C 		mov	ip, #0
 890 0172 C0F808C0 		str	ip, [r0, #8]
1764:dev/BSP/Components/vl6180/vl6180_api.c **** 			_FilterData(LastTrueRange)[i] = FILTER_INVALID_DISTANCE;
 891              		.loc 1 1764 40 is_stmt 1 discriminator 3 view .LVU341
1764:dev/BSP/Components/vl6180/vl6180_api.c **** 			_FilterData(LastTrueRange)[i] = FILTER_INVALID_DISTANCE;
 892              		.loc 1 1764 41 is_stmt 0 discriminator 3 view .LVU342
 893 0176 0131     		adds	r1, r1, #1
 894              	.LVL96:
1764:dev/BSP/Components/vl6180/vl6180_api.c **** 			_FilterData(LastTrueRange)[i] = FILTER_INVALID_DISTANCE;
 895              		.loc 1 1764 41 discriminator 3 view .LVU343
 896 0178 89B2     		uxth	r1, r1
 897              	.LVL97:
1764:dev/BSP/Components/vl6180/vl6180_api.c **** 			_FilterData(LastTrueRange)[i] = FILTER_INVALID_DISTANCE;
 898              		.loc 1 1764 41 discriminator 3 view .LVU344
 899 017a EAE7     		b	.L40
 900              	.L118:
1768:dev/BSP/Components/vl6180/vl6180_api.c **** 	} else {
 901              		.loc 1 1768 3 is_stmt 1 view .LVU345
1768:dev/BSP/Components/vl6180/vl6180_api.c **** 	} else {
 902              		.loc 1 1768 42 is_stmt 0 view .LVU346
 903 017c 0021     		movs	r1, #0
 904              	.LVL98:
1768:dev/BSP/Components/vl6180/vl6180_api.c **** 	} else {
 905              		.loc 1 1768 42 view .LVU347
 906 017e A161     		str	r1, [r4, #24]
 907              	.L42:
1776:dev/BSP/Components/vl6180/vl6180_api.c **** 		_FilterData(LastTrueRange)[0] = m_trueRange_mm;
 908              		.loc 1 1776 2 is_stmt 1 view .LVU348
1776:dev/BSP/Components/vl6180/vl6180_api.c **** 		_FilterData(LastTrueRange)[0] = m_trueRange_mm;
 909              		.loc 1 1776 5 is_stmt 0 view .LVU349
 910 0180 B9F1000F 		cmp	r9, #0
 911 0184 3DD1     		bne	.L119
1779:dev/BSP/Components/vl6180/vl6180_api.c **** 	_FilterData(LastReturnRates)[0] = m_rtnSignalRate;
 912              		.loc 1 1779 3 is_stmt 1 view .LVU350
1779:dev/BSP/Components/vl6180/vl6180_api.c **** 	_FilterData(LastReturnRates)[0] = m_rtnSignalRate;
 913              		.loc 1 1779 33 is_stmt 0 view .LVU351
 914 0186 4FF6FF71 		movw	r1, #65535
 915 018a A183     		strh	r1, [r4, #28]	@ movhi
 916              	.L45:
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 60


1780:dev/BSP/Components/vl6180/vl6180_api.c **** 	_FilterData(MeasurementsSinceLastFlush)++;
 917              		.loc 1 1780 2 is_stmt 1 view .LVU352
1780:dev/BSP/Components/vl6180/vl6180_api.c **** 	_FilterData(MeasurementsSinceLastFlush)++;
 918              		.loc 1 1780 34 is_stmt 0 view .LVU353
 919 018c 2563     		str	r5, [r4, #48]
1781:dev/BSP/Components/vl6180/vl6180_api.c **** 
 920              		.loc 1 1781 2 is_stmt 1 view .LVU354
 921 018e A169     		ldr	r1, [r4, #24]
1781:dev/BSP/Components/vl6180/vl6180_api.c **** 
 922              		.loc 1 1781 41 is_stmt 0 view .LVU355
 923 0190 0131     		adds	r1, r1, #1
 924 0192 A161     		str	r1, [r4, #24]
1784:dev/BSP/Components/vl6180/vl6180_api.c **** 		(m_rtnSignalRate < WrapAroundLowReturnRateFilterLimit)) ||
 925              		.loc 1 1784 2 is_stmt 1 view .LVU356
1785:dev/BSP/Components/vl6180/vl6180_api.c **** 		((m_rawRange_mm >= WrapAroundHighRawRangeFilterLimit) &&
 926              		.loc 1 1785 20 is_stmt 0 view .LVU357
 927 0194 AB42     		cmp	r3, r5
 928 0196 8CBF     		ite	hi
 929 0198 0023     		movhi	r3, #0
 930              	.LVL99:
1785:dev/BSP/Components/vl6180/vl6180_api.c **** 		((m_rawRange_mm >= WrapAroundHighRawRangeFilterLimit) &&
 931              		.loc 1 1785 20 view .LVU358
 932 019a 0123     		movls	r3, #1
1784:dev/BSP/Components/vl6180/vl6180_api.c **** 		(m_rtnSignalRate < WrapAroundLowReturnRateFilterLimit)) ||
 933              		.loc 1 1784 61 view .LVU359
 934 019c B2F5AF7F 		cmp	r2, #350
 935 01a0 28BF     		it	cs
 936 01a2 43F00103 		orrcs	r3, r3, #1
1784:dev/BSP/Components/vl6180/vl6180_api.c **** 		(m_rtnSignalRate < WrapAroundLowReturnRateFilterLimit)) ||
 937              		.loc 1 1784 5 view .LVU360
 938 01a6 23B1     		cbz	r3, .L46
1784:dev/BSP/Components/vl6180/vl6180_api.c **** 		(m_rtnSignalRate < WrapAroundLowReturnRateFilterLimit)) ||
 939              		.loc 1 1784 6 discriminator 1 view .LVU361
 940 01a8 B2F5AF7F 		cmp	r2, #350
 941 01ac 28BF     		it	cs
 942 01ae AE45     		cmpcs	lr, r5
 943 01b0 2AD9     		bls	.L96
 944              	.L46:
1791:dev/BSP/Components/vl6180/vl6180_api.c **** #ifndef PRESERVE_DEVICE_ERROR_CODE
 945              		.loc 1 1791 3 is_stmt 1 view .LVU362
1791:dev/BSP/Components/vl6180/vl6180_api.c **** #ifndef PRESERVE_DEVICE_ERROR_CODE
 946              		.loc 1 1791 5 is_stmt 0 view .LVU363
 947 01b2 039B     		ldr	r3, [sp, #12]
 948 01b4 63B3     		cbz	r3, .L97
1795:dev/BSP/Components/vl6180/vl6180_api.c **** 				/* Preserves the error codes except for Raw_Ranging_Algo_Underflow and Ranging_Algo_Underflow *
 949              		.loc 1 1795 4 is_stmt 1 view .LVU364
1795:dev/BSP/Components/vl6180/vl6180_api.c **** 				/* Preserves the error codes except for Raw_Ranging_Algo_Underflow and Ranging_Algo_Underflow *
 950              		.loc 1 1795 6 is_stmt 0 view .LVU365
 951 01b6 BAF10E0F 		cmp	r10, #14
 952 01ba 18BF     		it	ne
 953 01bc BAF10C0F 		cmpne	r10, #12
 954 01c0 00F08E80 		beq	.L98
1801:dev/BSP/Components/vl6180/vl6180_api.c **** 		}
 955              		.loc 1 1801 18 view .LVU366
 956 01c4 4FF0000B 		mov	fp, #0
1800:dev/BSP/Components/vl6180/vl6180_api.c **** 			resetVAVGData = 0;
 957              		.loc 1 1800 17 view .LVU367
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 61


 958 01c8 0126     		movs	r6, #1
 959              	.LVL100:
1800:dev/BSP/Components/vl6180/vl6180_api.c **** 			resetVAVGData = 0;
 960              		.loc 1 1800 17 view .LVU368
 961 01ca 23E0     		b	.L47
 962              	.LVL101:
 963              	.L43:
1771:dev/BSP/Components/vl6180/vl6180_api.c **** 			_FilterData(LastReturnRates)[i] = _FilterData(LastReturnRates)[i - 1];
 964              		.loc 1 1771 4 is_stmt 1 discriminator 3 view .LVU369
1771:dev/BSP/Components/vl6180/vl6180_api.c **** 			_FilterData(LastReturnRates)[i] = _FilterData(LastReturnRates)[i - 1];
 965              		.loc 1 1771 65 is_stmt 0 discriminator 3 view .LVU370
 966 01cc 481E     		subs	r0, r1, #1
1771:dev/BSP/Components/vl6180/vl6180_api.c **** 			_FilterData(LastReturnRates)[i] = _FilterData(LastReturnRates)[i - 1];
 967              		.loc 1 1771 62 discriminator 3 view .LVU371
 968 01ce 01F10B03 		add	r3, r1, #11
 969 01d2 04EB4303 		add	r3, r4, r3, lsl #1
 970 01d6 B3F804B0 		ldrh	fp, [r3, #4]
1771:dev/BSP/Components/vl6180/vl6180_api.c **** 			_FilterData(LastReturnRates)[i] = _FilterData(LastReturnRates)[i - 1];
 971              		.loc 1 1771 34 discriminator 3 view .LVU372
 972 01da 01F10C03 		add	r3, r1, #12
 973 01de 04EB4303 		add	r3, r4, r3, lsl #1
 974 01e2 A3F804B0 		strh	fp, [r3, #4]	@ movhi
1772:dev/BSP/Components/vl6180/vl6180_api.c **** 		}
 975              		.loc 1 1772 4 is_stmt 1 discriminator 3 view .LVU373
1772:dev/BSP/Components/vl6180/vl6180_api.c **** 		}
 976              		.loc 1 1772 66 is_stmt 0 discriminator 3 view .LVU374
 977 01e6 01F10903 		add	r3, r1, #9
 978 01ea 04EB8303 		add	r3, r4, r3, lsl #2
 979 01ee 9B68     		ldr	r3, [r3, #8]
1772:dev/BSP/Components/vl6180/vl6180_api.c **** 		}
 980              		.loc 1 1772 36 discriminator 3 view .LVU375
 981 01f0 0A31     		adds	r1, r1, #10
 982              	.LVL102:
1772:dev/BSP/Components/vl6180/vl6180_api.c **** 		}
 983              		.loc 1 1772 36 discriminator 3 view .LVU376
 984 01f2 04EB8101 		add	r1, r4, r1, lsl #2
 985 01f6 8B60     		str	r3, [r1, #8]
1770:dev/BSP/Components/vl6180/vl6180_api.c **** 			_FilterData(LastTrueRange)[i] = _FilterData(LastTrueRange)[i - 1];
 986              		.loc 1 1770 57 is_stmt 1 discriminator 3 view .LVU377
1770:dev/BSP/Components/vl6180/vl6180_api.c **** 			_FilterData(LastTrueRange)[i] = _FilterData(LastTrueRange)[i - 1];
 987              		.loc 1 1770 58 is_stmt 0 discriminator 3 view .LVU378
 988 01f8 81B2     		uxth	r1, r0
 989              	.LVL103:
 990              	.L39:
1770:dev/BSP/Components/vl6180/vl6180_api.c **** 			_FilterData(LastTrueRange)[i] = _FilterData(LastTrueRange)[i - 1];
 991              		.loc 1 1770 50 is_stmt 1 discriminator 1 view .LVU379
1770:dev/BSP/Components/vl6180/vl6180_api.c **** 			_FilterData(LastTrueRange)[i] = _FilterData(LastTrueRange)[i - 1];
 992              		.loc 1 1770 3 is_stmt 0 discriminator 1 view .LVU380
 993 01fa 0029     		cmp	r1, #0
 994 01fc E6D1     		bne	.L43
 995 01fe 6346     		mov	r3, ip
 996 0200 BEE7     		b	.L42
 997              	.LVL104:
 998              	.L119:
1777:dev/BSP/Components/vl6180/vl6180_api.c **** 	else
 999              		.loc 1 1777 3 is_stmt 1 view .LVU381
1777:dev/BSP/Components/vl6180/vl6180_api.c **** 	else
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 62


 1000              		.loc 1 1777 33 is_stmt 0 view .LVU382
 1001 0202 0299     		ldr	r1, [sp, #8]
 1002 0204 A183     		strh	r1, [r4, #28]	@ movhi
 1003 0206 C1E7     		b	.L45
 1004              	.LVL105:
 1005              	.L96:
1587:dev/BSP/Components/vl6180/vl6180_api.c **** 
 1006              		.loc 1 1587 11 view .LVU383
 1007 0208 4FF0010B 		mov	fp, #1
1788:dev/BSP/Components/vl6180/vl6180_api.c **** 	else {
 1008              		.loc 1 1788 16 view .LVU384
 1009 020c 5E46     		mov	r6, fp
 1010              	.LVL106:
1788:dev/BSP/Components/vl6180/vl6180_api.c **** 	else {
 1011              		.loc 1 1788 16 view .LVU385
 1012 020e 01E0     		b	.L47
 1013              	.LVL107:
 1014              	.L97:
1587:dev/BSP/Components/vl6180/vl6180_api.c **** 
 1015              		.loc 1 1587 11 view .LVU386
 1016 0210 4FF0010B 		mov	fp, #1
 1017              	.LVL108:
 1018              	.L47:
1806:dev/BSP/Components/vl6180/vl6180_api.c **** 	if (status) {
 1019              		.loc 1 1806 2 is_stmt 1 view .LVU387
1806:dev/BSP/Components/vl6180/vl6180_api.c **** 	if (status) {
 1020              		.loc 1 1806 11 is_stmt 0 view .LVU388
 1021 0214 0DF11F02 		add	r2, sp, #31
 1022              	.LVL109:
1806:dev/BSP/Components/vl6180/vl6180_api.c **** 	if (status) {
 1023              		.loc 1 1806 11 view .LVU389
 1024 0218 4FF4D671 		mov	r1, #428
 1025 021c 2046     		mov	r0, r4
 1026 021e FFF7FEFF 		bl	VL6180_RdByte
 1027              	.LVL110:
1807:dev/BSP/Components/vl6180/vl6180_api.c **** 		VL6180_ErrLog("0x01AC rd fail");
 1028              		.loc 1 1807 2 is_stmt 1 view .LVU390
1807:dev/BSP/Components/vl6180/vl6180_api.c **** 		VL6180_ErrLog("0x01AC rd fail");
 1029              		.loc 1 1807 5 is_stmt 0 view .LVU391
 1030 0222 0028     		cmp	r0, #0
 1031 0224 40F07D81 		bne	.L99
1811:dev/BSP/Components/vl6180/vl6180_api.c **** 
 1032              		.loc 1 1811 2 is_stmt 1 view .LVU392
1811:dev/BSP/Components/vl6180/vl6180_api.c **** 
 1033              		.loc 1 1811 16 is_stmt 0 view .LVU393
 1034 0228 9DF81FA0 		ldrb	r10, [sp, #31]	@ zero_extendqisi2
 1035              	.LVL111:
1829:dev/BSP/Components/vl6180/vl6180_api.c **** 	if (status) {
 1036              		.loc 1 1829 2 is_stmt 1 view .LVU394
1829:dev/BSP/Components/vl6180/vl6180_api.c **** 	if (status) {
 1037              		.loc 1 1829 11 is_stmt 0 view .LVU395
 1038 022c 09AA     		add	r2, sp, #36
 1039 022e 4FF48671 		mov	r1, #268
 1040 0232 2046     		mov	r0, r4
 1041              	.LVL112:
1829:dev/BSP/Components/vl6180/vl6180_api.c **** 	if (status) {
 1042              		.loc 1 1829 11 view .LVU396
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 63


 1043 0234 FFF7FEFF 		bl	VL6180_RdDWord
 1044              	.LVL113:
1830:dev/BSP/Components/vl6180/vl6180_api.c **** 		VL6180_ErrLog("0x010C rd fail");
 1045              		.loc 1 1830 2 is_stmt 1 view .LVU397
1830:dev/BSP/Components/vl6180/vl6180_api.c **** 		VL6180_ErrLog("0x010C rd fail");
 1046              		.loc 1 1830 5 is_stmt 0 view .LVU398
 1047 0238 0028     		cmp	r0, #0
 1048 023a 40F07581 		bne	.L100
1834:dev/BSP/Components/vl6180/vl6180_api.c **** 	if (status) {
 1049              		.loc 1 1834 2 is_stmt 1 view .LVU399
1834:dev/BSP/Components/vl6180/vl6180_api.c **** 	if (status) {
 1050              		.loc 1 1834 11 is_stmt 0 view .LVU400
 1051 023e 08AA     		add	r2, sp, #32
 1052 0240 4FF48871 		mov	r1, #272
 1053 0244 2046     		mov	r0, r4
 1054              	.LVL114:
1834:dev/BSP/Components/vl6180/vl6180_api.c **** 	if (status) {
 1055              		.loc 1 1834 11 view .LVU401
 1056 0246 FFF7FEFF 		bl	VL6180_RdDWord
 1057              	.LVL115:
1835:dev/BSP/Components/vl6180/vl6180_api.c **** 		VL6180_ErrLog("0x0110 rd fail");
 1058              		.loc 1 1835 2 is_stmt 1 view .LVU402
1835:dev/BSP/Components/vl6180/vl6180_api.c **** 		VL6180_ErrLog("0x0110 rd fail");
 1059              		.loc 1 1835 5 is_stmt 0 view .LVU403
 1060 024a 0028     		cmp	r0, #0
 1061 024c 40F06F81 		bne	.L101
1842:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (registerValue != 0x3E) {
 1062              		.loc 1 1842 2 is_stmt 1 view .LVU404
1842:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (registerValue != 0x3E) {
 1063              		.loc 1 1842 5 is_stmt 0 view .LVU405
 1064 0250 B8F1000F 		cmp	r8, #0
 1065 0254 02D1     		bne	.L49
1842:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (registerValue != 0x3E) {
 1066              		.loc 1 1842 25 discriminator 1 view .LVU406
 1067 0256 16EA0B0F 		tst	r6, fp
 1068 025a 51D0     		beq	.L50
 1069              	.L49:
1843:dev/BSP/Components/vl6180/vl6180_api.c **** 			status = VL6180_WrByte(dev, 0x1AC, 0x3E);
 1070              		.loc 1 1843 3 is_stmt 1 view .LVU407
1843:dev/BSP/Components/vl6180/vl6180_api.c **** 			status = VL6180_WrByte(dev, 0x1AC, 0x3E);
 1071              		.loc 1 1843 6 is_stmt 0 view .LVU408
 1072 025c BAF13E0F 		cmp	r10, #62
 1073 0260 43D1     		bne	.L120
 1074              	.L51:
1856:dev/BSP/Components/vl6180/vl6180_api.c **** 		_FilterData(Default_VAVGVal) = register32BitsValue2;
 1075              		.loc 1 1856 3 is_stmt 1 view .LVU409
1856:dev/BSP/Components/vl6180/vl6180_api.c **** 		_FilterData(Default_VAVGVal) = register32BitsValue2;
 1076              		.loc 1 1856 32 is_stmt 0 view .LVU410
 1077 0262 099A     		ldr	r2, [sp, #36]
 1078 0264 E265     		str	r2, [r4, #92]
1857:dev/BSP/Components/vl6180/vl6180_api.c **** 		_FilterData(NoDelay_ZeroVal) = register32BitsValue1;
 1079              		.loc 1 1857 3 is_stmt 1 view .LVU411
1857:dev/BSP/Components/vl6180/vl6180_api.c **** 		_FilterData(NoDelay_ZeroVal) = register32BitsValue1;
 1080              		.loc 1 1857 32 is_stmt 0 view .LVU412
 1081 0266 089B     		ldr	r3, [sp, #32]
 1082 0268 2366     		str	r3, [r4, #96]
1858:dev/BSP/Components/vl6180/vl6180_api.c **** 		_FilterData(NoDelay_VAVGVal) = register32BitsValue2;
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 64


 1083              		.loc 1 1858 3 is_stmt 1 view .LVU413
1858:dev/BSP/Components/vl6180/vl6180_api.c **** 		_FilterData(NoDelay_VAVGVal) = register32BitsValue2;
 1084              		.loc 1 1858 32 is_stmt 0 view .LVU414
 1085 026a 6266     		str	r2, [r4, #100]
1859:dev/BSP/Components/vl6180/vl6180_api.c **** 
 1086              		.loc 1 1859 3 is_stmt 1 view .LVU415
1859:dev/BSP/Components/vl6180/vl6180_api.c **** 
 1087              		.loc 1 1859 32 is_stmt 0 view .LVU416
 1088 026c A366     		str	r3, [r4, #104]
1861:dev/BSP/Components/vl6180/vl6180_api.c **** 	} else {
 1089              		.loc 1 1861 3 is_stmt 1 view .LVU417
1861:dev/BSP/Components/vl6180/vl6180_api.c **** 	} else {
 1090              		.loc 1 1861 33 is_stmt 0 view .LVU418
 1091 026e 0023     		movs	r3, #0
 1092 0270 6361     		str	r3, [r4, #20]
 1093              	.L52:
1891:dev/BSP/Components/vl6180/vl6180_api.c **** 		/* Do not go through the filter */
 1094              		.loc 1 1891 2 is_stmt 1 view .LVU419
1891:dev/BSP/Components/vl6180/vl6180_api.c **** 		/* Do not go through the filter */
 1095              		.loc 1 1891 5 is_stmt 0 view .LVU420
 1096 0272 002E     		cmp	r6, #0
 1097 0274 69D1     		bne	.L121
1905:dev/BSP/Components/vl6180/vl6180_api.c **** 		VAVGDiff = _FilterData(Default_VAVGVal) - _FilterData(NoDelay_VAVGVal);
 1098              		.loc 1 1905 2 is_stmt 1 view .LVU421
1905:dev/BSP/Components/vl6180/vl6180_api.c **** 		VAVGDiff = _FilterData(Default_VAVGVal) - _FilterData(NoDelay_VAVGVal);
 1099              		.loc 1 1905 6 is_stmt 0 view .LVU422
 1100 0276 226E     		ldr	r2, [r4, #96]
1905:dev/BSP/Components/vl6180/vl6180_api.c **** 		VAVGDiff = _FilterData(Default_VAVGVal) - _FilterData(NoDelay_VAVGVal);
 1101              		.loc 1 1905 37 view .LVU423
 1102 0278 A36E     		ldr	r3, [r4, #104]
1905:dev/BSP/Components/vl6180/vl6180_api.c **** 		VAVGDiff = _FilterData(Default_VAVGVal) - _FilterData(NoDelay_VAVGVal);
 1103              		.loc 1 1905 5 view .LVU424
 1104 027a 9A42     		cmp	r2, r3
 1105 027c 6ED9     		bls	.L104
1906:dev/BSP/Components/vl6180/vl6180_api.c **** 	else
 1106              		.loc 1 1906 3 is_stmt 1 view .LVU425
1906:dev/BSP/Components/vl6180/vl6180_api.c **** 	else
 1107              		.loc 1 1906 12 is_stmt 0 view .LVU426
 1108 027e D21A     		subs	r2, r2, r3
 1109              	.LVL116:
 1110              	.L59:
1909:dev/BSP/Components/vl6180/vl6180_api.c **** 
 1111              		.loc 1 1909 2 is_stmt 1 view .LVU427
1909:dev/BSP/Components/vl6180/vl6180_api.c **** 
 1112              		.loc 1 1909 33 is_stmt 0 view .LVU428
 1113 0280 E266     		str	r2, [r4, #108]
1911:dev/BSP/Components/vl6180/vl6180_api.c **** 		MAX_VAVGDiff = MAX_VAVGDiff_ROM;
 1114              		.loc 1 1911 2 is_stmt 1 view .LVU429
1911:dev/BSP/Components/vl6180/vl6180_api.c **** 		MAX_VAVGDiff = MAX_VAVGDiff_ROM;
 1115              		.loc 1 1911 4 is_stmt 0 view .LVU430
 1116 0282 049B     		ldr	r3, [sp, #16]
 1117 0284 002B     		cmp	r3, #0
 1118 0286 6BD1     		bne	.L105
1912:dev/BSP/Components/vl6180/vl6180_api.c **** 	else
 1119              		.loc 1 1912 16 view .LVU431
 1120 0288 4FF4E161 		mov	r1, #1800
 1121              	.L60:
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 65


 1122              	.LVL117:
1918:dev/BSP/Components/vl6180/vl6180_api.c **** 		IdealVAVGDiff = _FilterData(Default_ZeroVal) - _FilterData(NoDelay_ZeroVal);
 1123              		.loc 1 1918 2 is_stmt 1 view .LVU432
1918:dev/BSP/Components/vl6180/vl6180_api.c **** 		IdealVAVGDiff = _FilterData(Default_ZeroVal) - _FilterData(NoDelay_ZeroVal);
 1124              		.loc 1 1918 6 is_stmt 0 view .LVU433
 1125 028c E06D     		ldr	r0, [r4, #92]
 1126              	.LVL118:
1918:dev/BSP/Components/vl6180/vl6180_api.c **** 		IdealVAVGDiff = _FilterData(Default_ZeroVal) - _FilterData(NoDelay_ZeroVal);
 1127              		.loc 1 1918 37 view .LVU434
 1128 028e 636E     		ldr	r3, [r4, #100]
1918:dev/BSP/Components/vl6180/vl6180_api.c **** 		IdealVAVGDiff = _FilterData(Default_ZeroVal) - _FilterData(NoDelay_ZeroVal);
 1129              		.loc 1 1918 5 view .LVU435
 1130 0290 9842     		cmp	r0, r3
 1131 0292 68D9     		bls	.L61
1919:dev/BSP/Components/vl6180/vl6180_api.c **** 	else
 1132              		.loc 1 1919 3 is_stmt 1 view .LVU436
1919:dev/BSP/Components/vl6180/vl6180_api.c **** 	else
 1133              		.loc 1 1919 17 is_stmt 0 view .LVU437
 1134 0294 C31A     		subs	r3, r0, r3
 1135              	.LVL119:
 1136              	.L62:
1922:dev/BSP/Components/vl6180/vl6180_api.c **** 		MinVAVGDiff = IdealVAVGDiff - MAX_VAVGDiff;
 1137              		.loc 1 1922 2 is_stmt 1 view .LVU438
1922:dev/BSP/Components/vl6180/vl6180_api.c **** 		MinVAVGDiff = IdealVAVGDiff - MAX_VAVGDiff;
 1138              		.loc 1 1922 5 is_stmt 0 view .LVU439
 1139 0296 8B42     		cmp	r3, r1
 1140 0298 67D9     		bls	.L106
1923:dev/BSP/Components/vl6180/vl6180_api.c **** 	else
 1141              		.loc 1 1923 3 is_stmt 1 view .LVU440
1923:dev/BSP/Components/vl6180/vl6180_api.c **** 	else
 1142              		.loc 1 1923 15 is_stmt 0 view .LVU441
 1143 029a 581A     		subs	r0, r3, r1
 1144              	.LVL120:
 1145              	.L63:
1926:dev/BSP/Components/vl6180/vl6180_api.c **** 	if (VAVGDiff < MinVAVGDiff || VAVGDiff > MaxVAVGDiff) {
 1146              		.loc 1 1926 2 is_stmt 1 view .LVU442
1926:dev/BSP/Components/vl6180/vl6180_api.c **** 	if (VAVGDiff < MinVAVGDiff || VAVGDiff > MaxVAVGDiff) {
 1147              		.loc 1 1926 14 is_stmt 0 view .LVU443
 1148 029c 0B44     		add	r3, r3, r1
 1149              	.LVL121:
1927:dev/BSP/Components/vl6180/vl6180_api.c **** 		WrapAroundFlag = 1;
 1150              		.loc 1 1927 2 is_stmt 1 view .LVU444
1927:dev/BSP/Components/vl6180/vl6180_api.c **** 		WrapAroundFlag = 1;
 1151              		.loc 1 1927 41 is_stmt 0 view .LVU445
 1152 029e 9A42     		cmp	r2, r3
 1153 02a0 94BF     		ite	ls
 1154 02a2 0023     		movls	r3, #0
 1155              	.LVL122:
1927:dev/BSP/Components/vl6180/vl6180_api.c **** 		WrapAroundFlag = 1;
 1156              		.loc 1 1927 41 view .LVU446
 1157 02a4 0123     		movhi	r3, #1
1927:dev/BSP/Components/vl6180/vl6180_api.c **** 		WrapAroundFlag = 1;
 1158              		.loc 1 1927 29 view .LVU447
 1159 02a6 8242     		cmp	r2, r0
 1160 02a8 38BF     		it	cc
 1161 02aa 43F00103 		orrcc	r3, r3, #1
1927:dev/BSP/Components/vl6180/vl6180_api.c **** 		WrapAroundFlag = 1;
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 66


 1162              		.loc 1 1927 5 view .LVU448
 1163 02ae 002B     		cmp	r3, #0
 1164 02b0 40F0D880 		bne	.L107
1933:dev/BSP/Components/vl6180/vl6180_api.c **** 			/* On measurement after a bypass, uses an increase number of samples */
 1165              		.loc 1 1933 3 is_stmt 1 view .LVU449
1933:dev/BSP/Components/vl6180/vl6180_api.c **** 			/* On measurement after a bypass, uses an increase number of samples */
 1166              		.loc 1 1933 6 is_stmt 0 view .LVU450
 1167 02b4 6369     		ldr	r3, [r4, #20]
1933:dev/BSP/Components/vl6180/vl6180_api.c **** 			/* On measurement after a bypass, uses an increase number of samples */
 1168              		.loc 1 1933 5 view .LVU451
 1169 02b6 012B     		cmp	r3, #1
 1170 02b8 59D9     		bls	.L122
1937:dev/BSP/Components/vl6180/vl6180_api.c **** 
 1171              		.loc 1 1937 27 view .LVU452
 1172 02ba 4FF00308 		mov	r8, #3
 1173              	.L65:
 1174              	.LVL123:
1940:dev/BSP/Components/vl6180/vl6180_api.c **** 
 1175              		.loc 1 1940 3 is_stmt 1 view .LVU453
1940:dev/BSP/Components/vl6180/vl6180_api.c **** 
 1176              		.loc 1 1940 17 is_stmt 0 view .LVU454
 1177 02be 0523     		movs	r3, #5
 1178 02c0 0193     		str	r3, [sp, #4]
 1179 02c2 4FF46173 		mov	r3, #900
 1180 02c6 0093     		str	r3, [sp]
 1181 02c8 1E23     		movs	r3, #30
 1182 02ca 9622     		movs	r2, #150
 1183              	.LVL124:
1940:dev/BSP/Components/vl6180/vl6180_api.c **** 
 1184              		.loc 1 1940 17 view .LVU455
 1185 02cc 2946     		mov	r1, r5
 1186              	.LVL125:
1940:dev/BSP/Components/vl6180/vl6180_api.c **** 
 1187              		.loc 1 1940 17 view .LVU456
 1188 02ce 1498     		ldr	r0, [sp, #80]
 1189              	.LVL126:
1940:dev/BSP/Components/vl6180/vl6180_api.c **** 
 1190              		.loc 1 1940 17 view .LVU457
 1191 02d0 FFF7FEFF 		bl	_filter_StdDevDamper
 1192              	.LVL127:
1943:dev/BSP/Components/vl6180/vl6180_api.c **** 		StdDevDistanceSum = 0;
 1193              		.loc 1 1943 3 is_stmt 1 view .LVU458
1944:dev/BSP/Components/vl6180/vl6180_api.c **** 		StdDevDistanceMean = 0;
 1194              		.loc 1 1944 3 view .LVU459
1945:dev/BSP/Components/vl6180/vl6180_api.c **** 		StdDevDistance = 0;
 1195              		.loc 1 1945 3 view .LVU460
1946:dev/BSP/Components/vl6180/vl6180_api.c **** 		StdDevRateSum = 0;
 1196              		.loc 1 1946 3 view .LVU461
1947:dev/BSP/Components/vl6180/vl6180_api.c **** 		StdDevRateMean = 0;
 1197              		.loc 1 1947 3 view .LVU462
1948:dev/BSP/Components/vl6180/vl6180_api.c **** 		StdDevRate = 0;
 1198              		.loc 1 1948 3 view .LVU463
1949:dev/BSP/Components/vl6180/vl6180_api.c **** 		for (i = 0; (i < FILTER_NBOF_SAMPLES) && (StdDevSamples < FILTER_STDDEV_SAMPLES); i++) {
 1199              		.loc 1 1949 3 view .LVU464
1950:dev/BSP/Components/vl6180/vl6180_api.c **** 			if (_FilterData(LastTrueRange)[i] != FILTER_INVALID_DISTANCE) {
 1200              		.loc 1 1950 3 view .LVU465
1943:dev/BSP/Components/vl6180/vl6180_api.c **** 		StdDevDistanceSum = 0;
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 67


 1201              		.loc 1 1943 17 is_stmt 0 view .LVU466
 1202 02d4 3146     		mov	r1, r6
1950:dev/BSP/Components/vl6180/vl6180_api.c **** 			if (_FilterData(LastTrueRange)[i] != FILTER_INVALID_DISTANCE) {
 1203              		.loc 1 1950 10 view .LVU467
 1204 02d6 3346     		mov	r3, r6
1947:dev/BSP/Components/vl6180/vl6180_api.c **** 		StdDevRateMean = 0;
 1205              		.loc 1 1947 17 view .LVU468
 1206 02d8 4FF0000C 		mov	ip, #0
1944:dev/BSP/Components/vl6180/vl6180_api.c **** 		StdDevDistanceMean = 0;
 1207              		.loc 1 1944 21 view .LVU469
 1208 02dc 6546     		mov	r5, ip
 1209              	.LVL128:
1950:dev/BSP/Components/vl6180/vl6180_api.c **** 			if (_FilterData(LastTrueRange)[i] != FILTER_INVALID_DISTANCE) {
 1210              		.loc 1 1950 3 view .LVU470
 1211 02de 54E0     		b	.L66
 1212              	.LVL129:
 1213              	.L98:
1797:dev/BSP/Components/vl6180/vl6180_api.c **** 			}
 1214              		.loc 1 1797 21 view .LVU471
 1215 02e0 039F     		ldr	r7, [sp, #12]
 1216              	.LVL130:
1801:dev/BSP/Components/vl6180/vl6180_api.c **** 		}
 1217              		.loc 1 1801 18 view .LVU472
 1218 02e2 4FF0000B 		mov	fp, #0
1800:dev/BSP/Components/vl6180/vl6180_api.c **** 			resetVAVGData = 0;
 1219              		.loc 1 1800 17 view .LVU473
 1220 02e6 0126     		movs	r6, #1
 1221              	.LVL131:
1800:dev/BSP/Components/vl6180/vl6180_api.c **** 			resetVAVGData = 0;
 1222              		.loc 1 1800 17 view .LVU474
 1223 02e8 94E7     		b	.L47
 1224              	.LVL132:
 1225              	.L120:
1844:dev/BSP/Components/vl6180/vl6180_api.c **** 			if (status) {
 1226              		.loc 1 1844 4 is_stmt 1 view .LVU475
1844:dev/BSP/Components/vl6180/vl6180_api.c **** 			if (status) {
 1227              		.loc 1 1844 13 is_stmt 0 view .LVU476
 1228 02ea 3E22     		movs	r2, #62
 1229 02ec 4FF4D671 		mov	r1, #428
 1230 02f0 2046     		mov	r0, r4
 1231              	.LVL133:
1844:dev/BSP/Components/vl6180/vl6180_api.c **** 			if (status) {
 1232              		.loc 1 1844 13 view .LVU477
 1233 02f2 FFF7FEFF 		bl	VL6180_WrByte
 1234              	.LVL134:
1845:dev/BSP/Components/vl6180/vl6180_api.c **** 				VL6180_ErrLog("0x01AC bypass wr fail");
 1235              		.loc 1 1845 4 is_stmt 1 view .LVU478
1845:dev/BSP/Components/vl6180/vl6180_api.c **** 				VL6180_ErrLog("0x01AC bypass wr fail");
 1236              		.loc 1 1845 7 is_stmt 0 view .LVU479
 1237 02f6 0028     		cmp	r0, #0
 1238 02f8 B3D0     		beq	.L51
2073:dev/BSP/Components/vl6180/vl6180_api.c **** 
 1239              		.loc 1 2073 9 view .LVU480
 1240 02fa 4FF0FF30 		mov	r0, #-1
 1241              	.LVL135:
2073:dev/BSP/Components/vl6180/vl6180_api.c **** 
 1242              		.loc 1 2073 9 view .LVU481
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 68


 1243 02fe 09E1     		b	.L25
 1244              	.LVL136:
 1245              	.L50:
1863:dev/BSP/Components/vl6180/vl6180_api.c **** 			_FilterData(Default_ZeroVal) = register32BitsValue1;
 1246              		.loc 1 1863 3 is_stmt 1 view .LVU482
1863:dev/BSP/Components/vl6180/vl6180_api.c **** 			_FilterData(Default_ZeroVal) = register32BitsValue1;
 1247              		.loc 1 1863 6 is_stmt 0 view .LVU483
 1248 0300 BAF13E0F 		cmp	r10, #62
 1249 0304 18D0     		beq	.L123
1867:dev/BSP/Components/vl6180/vl6180_api.c **** 			_FilterData(NoDelay_VAVGVal) = register32BitsValue2;
 1250              		.loc 1 1867 4 is_stmt 1 view .LVU484
1867:dev/BSP/Components/vl6180/vl6180_api.c **** 			_FilterData(NoDelay_VAVGVal) = register32BitsValue2;
 1251              		.loc 1 1867 33 is_stmt 0 view .LVU485
 1252 0306 099B     		ldr	r3, [sp, #36]
 1253 0308 6366     		str	r3, [r4, #100]
1868:dev/BSP/Components/vl6180/vl6180_api.c **** 		}
 1254              		.loc 1 1868 4 is_stmt 1 view .LVU486
1868:dev/BSP/Components/vl6180/vl6180_api.c **** 		}
 1255              		.loc 1 1868 33 is_stmt 0 view .LVU487
 1256 030a 089B     		ldr	r3, [sp, #32]
 1257 030c A366     		str	r3, [r4, #104]
 1258              	.L54:
1871:dev/BSP/Components/vl6180/vl6180_api.c **** 			u8 = 0x3C;
 1259              		.loc 1 1871 3 is_stmt 1 view .LVU488
1871:dev/BSP/Components/vl6180/vl6180_api.c **** 			u8 = 0x3C;
 1260              		.loc 1 1871 7 is_stmt 0 view .LVU489
 1261 030e 6369     		ldr	r3, [r4, #20]
1871:dev/BSP/Components/vl6180/vl6180_api.c **** 			u8 = 0x3C;
 1262              		.loc 1 1871 6 view .LVU490
 1263 0310 13F0010F 		tst	r3, #1
 1264 0314 15D1     		bne	.L55
1872:dev/BSP/Components/vl6180/vl6180_api.c **** 			//u8_2 = 0x05;
 1265              		.loc 1 1872 4 is_stmt 1 view .LVU491
1872:dev/BSP/Components/vl6180/vl6180_api.c **** 			//u8_2 = 0x05;
 1266              		.loc 1 1872 7 is_stmt 0 view .LVU492
 1267 0316 3C23     		movs	r3, #60
 1268 0318 8DF81F30 		strb	r3, [sp, #31]
 1269              	.L56:
1878:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (status) {
 1270              		.loc 1 1878 3 is_stmt 1 view .LVU493
1878:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (status) {
 1271              		.loc 1 1878 12 is_stmt 0 view .LVU494
 1272 031c 9DF81F20 		ldrb	r2, [sp, #31]	@ zero_extendqisi2
 1273 0320 4FF4D671 		mov	r1, #428
 1274 0324 2046     		mov	r0, r4
 1275              	.LVL137:
1878:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (status) {
 1276              		.loc 1 1878 12 view .LVU495
 1277 0326 FFF7FEFF 		bl	VL6180_WrByte
 1278              	.LVL138:
1879:dev/BSP/Components/vl6180/vl6180_api.c **** 			VL6180_ErrLog("0x01AC wr fail");
 1279              		.loc 1 1879 3 is_stmt 1 view .LVU496
1879:dev/BSP/Components/vl6180/vl6180_api.c **** 			VL6180_ErrLog("0x01AC wr fail");
 1280              		.loc 1 1879 6 is_stmt 0 view .LVU497
 1281 032a 0028     		cmp	r0, #0
 1282 032c 40F00281 		bne	.L103
1888:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 69


 1283              		.loc 1 1888 3 is_stmt 1 view .LVU498
 1284 0330 6369     		ldr	r3, [r4, #20]
1888:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
 1285              		.loc 1 1888 32 is_stmt 0 view .LVU499
 1286 0332 0133     		adds	r3, r3, #1
 1287 0334 6361     		str	r3, [r4, #20]
 1288 0336 9CE7     		b	.L52
 1289              	.L123:
1864:dev/BSP/Components/vl6180/vl6180_api.c **** 			_FilterData(Default_VAVGVal) = register32BitsValue2;
 1290              		.loc 1 1864 4 is_stmt 1 view .LVU500
1864:dev/BSP/Components/vl6180/vl6180_api.c **** 			_FilterData(Default_VAVGVal) = register32BitsValue2;
 1291              		.loc 1 1864 33 is_stmt 0 view .LVU501
 1292 0338 099B     		ldr	r3, [sp, #36]
 1293 033a E365     		str	r3, [r4, #92]
1865:dev/BSP/Components/vl6180/vl6180_api.c **** 		} else {
 1294              		.loc 1 1865 4 is_stmt 1 view .LVU502
1865:dev/BSP/Components/vl6180/vl6180_api.c **** 		} else {
 1295              		.loc 1 1865 33 is_stmt 0 view .LVU503
 1296 033c 089B     		ldr	r3, [sp, #32]
 1297 033e 2366     		str	r3, [r4, #96]
 1298 0340 E5E7     		b	.L54
 1299              	.L55:
1875:dev/BSP/Components/vl6180/vl6180_api.c **** 			//u8_2 = 0x01;
 1300              		.loc 1 1875 4 is_stmt 1 view .LVU504
1875:dev/BSP/Components/vl6180/vl6180_api.c **** 			//u8_2 = 0x01;
 1301              		.loc 1 1875 7 is_stmt 0 view .LVU505
 1302 0342 3E23     		movs	r3, #62
 1303 0344 8DF81F30 		strb	r3, [sp, #31]
 1304 0348 E8E7     		b	.L56
 1305              	.L121:
1895:dev/BSP/Components/vl6180/vl6180_api.c **** 
 1306              		.loc 1 1895 3 is_stmt 1 view .LVU506
1895:dev/BSP/Components/vl6180/vl6180_api.c **** 
 1307              		.loc 1 1895 28 is_stmt 0 view .LVU507
 1308 034a 6767     		str	r7, [r4, #116]
1898:dev/BSP/Components/vl6180/vl6180_api.c **** 			m_newTrueRange_mm = MaxOrInvalidDistance; /* Set to invalid distance */
 1309              		.loc 1 1898 3 is_stmt 1 view .LVU508
1898:dev/BSP/Components/vl6180/vl6180_api.c **** 			m_newTrueRange_mm = MaxOrInvalidDistance; /* Set to invalid distance */
 1310              		.loc 1 1898 5 is_stmt 0 view .LVU509
 1311 034c 102F     		cmp	r7, #16
 1312 034e 01D0     		beq	.L124
 1313              	.LVL139:
 1314              	.L58:
1901:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
 1315              		.loc 1 1901 3 is_stmt 1 view .LVU510
1901:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
 1316              		.loc 1 1901 10 is_stmt 0 view .LVU511
 1317 0350 0298     		ldr	r0, [sp, #8]
 1318              	.LVL140:
1901:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
 1319              		.loc 1 1901 10 view .LVU512
 1320 0352 DFE0     		b	.L25
 1321              	.LVL141:
 1322              	.L124:
1899:dev/BSP/Components/vl6180/vl6180_api.c **** 
 1323              		.loc 1 1899 4 is_stmt 1 view .LVU513
1899:dev/BSP/Components/vl6180/vl6180_api.c **** 
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 70


 1324              		.loc 1 1899 22 is_stmt 0 view .LVU514
 1325 0354 BDF81430 		ldrh	r3, [sp, #20]
 1326 0358 0293     		str	r3, [sp, #8]
 1327              	.LVL142:
1899:dev/BSP/Components/vl6180/vl6180_api.c **** 
 1328              		.loc 1 1899 22 view .LVU515
 1329 035a F9E7     		b	.L58
 1330              	.LVL143:
 1331              	.L104:
1908:dev/BSP/Components/vl6180/vl6180_api.c **** 	_FilterData(Previous_VAVGDiff) = VAVGDiff;
 1332              		.loc 1 1908 12 view .LVU516
 1333 035c 0022     		movs	r2, #0
 1334 035e 8FE7     		b	.L59
 1335              	.LVL144:
 1336              	.L105:
1915:dev/BSP/Components/vl6180/vl6180_api.c **** 
 1337              		.loc 1 1915 16 view .LVU517
 1338 0360 4FF46171 		mov	r1, #900
 1339 0364 92E7     		b	.L60
 1340              	.LVL145:
 1341              	.L61:
1921:dev/BSP/Components/vl6180/vl6180_api.c **** 	if (IdealVAVGDiff > MAX_VAVGDiff)
 1342              		.loc 1 1921 3 is_stmt 1 view .LVU518
1921:dev/BSP/Components/vl6180/vl6180_api.c **** 	if (IdealVAVGDiff > MAX_VAVGDiff)
 1343              		.loc 1 1921 17 is_stmt 0 view .LVU519
 1344 0366 1B1A     		subs	r3, r3, r0
 1345              	.LVL146:
1921:dev/BSP/Components/vl6180/vl6180_api.c **** 	if (IdealVAVGDiff > MAX_VAVGDiff)
 1346              		.loc 1 1921 17 view .LVU520
 1347 0368 95E7     		b	.L62
 1348              	.L106:
1925:dev/BSP/Components/vl6180/vl6180_api.c **** 	MaxVAVGDiff = IdealVAVGDiff + MAX_VAVGDiff;
 1349              		.loc 1 1925 15 view .LVU521
 1350 036a 0020     		movs	r0, #0
 1351 036c 96E7     		b	.L63
 1352              	.LVL147:
 1353              	.L122:
1935:dev/BSP/Components/vl6180/vl6180_api.c **** 		else
 1354              		.loc 1 1935 27 view .LVU522
 1355 036e 4FF00508 		mov	r8, #5
 1356 0372 A4E7     		b	.L65
 1357              	.LVL148:
 1358              	.L126:
1952:dev/BSP/Components/vl6180/vl6180_api.c **** 				StdDevDistanceSum = (uint32_t) (StdDevDistanceSum + _FilterData(LastTrueRange)[i]);
 1359              		.loc 1 1952 5 is_stmt 1 view .LVU523
1952:dev/BSP/Components/vl6180/vl6180_api.c **** 				StdDevDistanceSum = (uint32_t) (StdDevDistanceSum + _FilterData(LastTrueRange)[i]);
 1360              		.loc 1 1952 19 is_stmt 0 view .LVU524
 1361 0374 0131     		adds	r1, r1, #1
 1362              	.LVL149:
1952:dev/BSP/Components/vl6180/vl6180_api.c **** 				StdDevDistanceSum = (uint32_t) (StdDevDistanceSum + _FilterData(LastTrueRange)[i]);
 1363              		.loc 1 1952 19 view .LVU525
 1364 0376 89B2     		uxth	r1, r1
 1365              	.LVL150:
1953:dev/BSP/Components/vl6180/vl6180_api.c **** 				StdDevRateSum = (uint32_t) (StdDevRateSum + _FilterData(LastReturnRates)[i]);
 1366              		.loc 1 1953 5 is_stmt 1 view .LVU526
1953:dev/BSP/Components/vl6180/vl6180_api.c **** 				StdDevRateSum = (uint32_t) (StdDevRateSum + _FilterData(LastReturnRates)[i]);
 1367              		.loc 1 1953 23 is_stmt 0 view .LVU527
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 71


 1368 0378 7544     		add	r5, r5, lr
 1369              	.LVL151:
1954:dev/BSP/Components/vl6180/vl6180_api.c **** 			}
 1370              		.loc 1 1954 5 is_stmt 1 view .LVU528
1954:dev/BSP/Components/vl6180/vl6180_api.c **** 			}
 1371              		.loc 1 1954 77 is_stmt 0 view .LVU529
 1372 037a 03F10A02 		add	r2, r3, #10
 1373 037e 04EB8202 		add	r2, r4, r2, lsl #2
 1374 0382 9268     		ldr	r2, [r2, #8]
1954:dev/BSP/Components/vl6180/vl6180_api.c **** 			}
 1375              		.loc 1 1954 19 view .LVU530
 1376 0384 9444     		add	ip, ip, r2
 1377              	.LVL152:
 1378              	.L67:
1950:dev/BSP/Components/vl6180/vl6180_api.c **** 			if (_FilterData(LastTrueRange)[i] != FILTER_INVALID_DISTANCE) {
 1379              		.loc 1 1950 85 is_stmt 1 discriminator 2 view .LVU531
1950:dev/BSP/Components/vl6180/vl6180_api.c **** 			if (_FilterData(LastTrueRange)[i] != FILTER_INVALID_DISTANCE) {
 1380              		.loc 1 1950 86 is_stmt 0 discriminator 2 view .LVU532
 1381 0386 0133     		adds	r3, r3, #1
 1382              	.LVL153:
1950:dev/BSP/Components/vl6180/vl6180_api.c **** 			if (_FilterData(LastTrueRange)[i] != FILTER_INVALID_DISTANCE) {
 1383              		.loc 1 1950 86 discriminator 2 view .LVU533
 1384 0388 9BB2     		uxth	r3, r3
 1385              	.LVL154:
 1386              	.L66:
1950:dev/BSP/Components/vl6180/vl6180_api.c **** 			if (_FilterData(LastTrueRange)[i] != FILTER_INVALID_DISTANCE) {
 1387              		.loc 1 1950 15 is_stmt 1 discriminator 1 view .LVU534
1950:dev/BSP/Components/vl6180/vl6180_api.c **** 			if (_FilterData(LastTrueRange)[i] != FILTER_INVALID_DISTANCE) {
 1388              		.loc 1 1950 3 is_stmt 0 discriminator 1 view .LVU535
 1389 038a 092B     		cmp	r3, #9
 1390 038c 98BF     		it	ls
 1391 038e 0529     		cmpls	r1, #5
 1392 0390 0AD8     		bhi	.L125
1951:dev/BSP/Components/vl6180/vl6180_api.c **** 				StdDevSamples = (uint16_t) (StdDevSamples + 1);
 1393              		.loc 1 1951 4 is_stmt 1 view .LVU536
1951:dev/BSP/Components/vl6180/vl6180_api.c **** 				StdDevSamples = (uint16_t) (StdDevSamples + 1);
 1394              		.loc 1 1951 34 is_stmt 0 view .LVU537
 1395 0392 03F10C02 		add	r2, r3, #12
 1396 0396 04EB4202 		add	r2, r4, r2, lsl #1
 1397 039a B2F804E0 		ldrh	lr, [r2, #4]
1951:dev/BSP/Components/vl6180/vl6180_api.c **** 				StdDevSamples = (uint16_t) (StdDevSamples + 1);
 1398              		.loc 1 1951 7 view .LVU538
 1399 039e 4FF6FF72 		movw	r2, #65535
 1400 03a2 9645     		cmp	lr, r2
 1401 03a4 E6D1     		bne	.L126
 1402 03a6 EEE7     		b	.L67
 1403              	.L125:
1957:dev/BSP/Components/vl6180/vl6180_api.c **** 			StdDevDistanceMean = (uint32_t) (StdDevDistanceSum / StdDevSamples);
 1404              		.loc 1 1957 3 is_stmt 1 view .LVU539
1957:dev/BSP/Components/vl6180/vl6180_api.c **** 			StdDevDistanceMean = (uint32_t) (StdDevDistanceSum / StdDevSamples);
 1405              		.loc 1 1957 6 is_stmt 0 view .LVU540
 1406 03a8 49B1     		cbz	r1, .L109
1958:dev/BSP/Components/vl6180/vl6180_api.c **** 			StdDevRateMean = (uint32_t) (StdDevRateSum / StdDevSamples);
 1407              		.loc 1 1958 4 is_stmt 1 view .LVU541
1958:dev/BSP/Components/vl6180/vl6180_api.c **** 			StdDevRateMean = (uint32_t) (StdDevRateSum / StdDevSamples);
 1408              		.loc 1 1958 23 is_stmt 0 view .LVU542
 1409 03aa B5FBF1F5 		udiv	r5, r5, r1
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 72


 1410              	.LVL155:
1959:dev/BSP/Components/vl6180/vl6180_api.c **** 		}
 1411              		.loc 1 1959 4 is_stmt 1 view .LVU543
1959:dev/BSP/Components/vl6180/vl6180_api.c **** 		}
 1412              		.loc 1 1959 19 is_stmt 0 view .LVU544
 1413 03ae BCFBF1F1 		udiv	r1, ip, r1
 1414              	.LVL156:
 1415              	.L69:
1962:dev/BSP/Components/vl6180/vl6180_api.c **** 		StdDevDistanceSum = 0;
 1416              		.loc 1 1962 3 is_stmt 1 view .LVU545
1963:dev/BSP/Components/vl6180/vl6180_api.c **** 		StdDevRateSum = 0;
 1417              		.loc 1 1963 3 view .LVU546
1964:dev/BSP/Components/vl6180/vl6180_api.c **** 		for (i = 0; (i < FILTER_NBOF_SAMPLES) && (StdDevSamples < FILTER_STDDEV_SAMPLES); i++) {
 1418              		.loc 1 1964 3 view .LVU547
1965:dev/BSP/Components/vl6180/vl6180_api.c **** 			if (_FilterData(LastTrueRange)[i] != FILTER_INVALID_DISTANCE) {
 1419              		.loc 1 1965 3 view .LVU548
1962:dev/BSP/Components/vl6180/vl6180_api.c **** 		StdDevDistanceSum = 0;
 1420              		.loc 1 1962 17 is_stmt 0 view .LVU549
 1421 03b2 3246     		mov	r2, r6
1965:dev/BSP/Components/vl6180/vl6180_api.c **** 			if (_FilterData(LastTrueRange)[i] != FILTER_INVALID_DISTANCE) {
 1422              		.loc 1 1965 10 view .LVU550
 1423 03b4 3346     		mov	r3, r6
1964:dev/BSP/Components/vl6180/vl6180_api.c **** 		for (i = 0; (i < FILTER_NBOF_SAMPLES) && (StdDevSamples < FILTER_STDDEV_SAMPLES); i++) {
 1424              		.loc 1 1964 17 view .LVU551
 1425 03b6 4FF0000C 		mov	ip, #0
1963:dev/BSP/Components/vl6180/vl6180_api.c **** 		StdDevRateSum = 0;
 1426              		.loc 1 1963 21 view .LVU552
 1427 03ba E346     		mov	fp, ip
 1428              	.LVL157:
1965:dev/BSP/Components/vl6180/vl6180_api.c **** 			if (_FilterData(LastTrueRange)[i] != FILTER_INVALID_DISTANCE) {
 1429              		.loc 1 1965 3 view .LVU553
 1430 03bc 14E0     		b	.L70
 1431              	.LVL158:
 1432              	.L109:
1948:dev/BSP/Components/vl6180/vl6180_api.c **** 		StdDevRate = 0;
 1433              		.loc 1 1948 18 view .LVU554
 1434 03be 0021     		movs	r1, #0
 1435              	.LVL159:
1945:dev/BSP/Components/vl6180/vl6180_api.c **** 		StdDevDistance = 0;
 1436              		.loc 1 1945 22 view .LVU555
 1437 03c0 0D46     		mov	r5, r1
 1438              	.LVL160:
1945:dev/BSP/Components/vl6180/vl6180_api.c **** 		StdDevDistance = 0;
 1439              		.loc 1 1945 22 view .LVU556
 1440 03c2 F6E7     		b	.L69
 1441              	.LVL161:
 1442              	.L128:
1967:dev/BSP/Components/vl6180/vl6180_api.c **** 				StdDevDistanceSum = (uint32_t) (StdDevDistanceSum +
 1443              		.loc 1 1967 5 is_stmt 1 view .LVU557
1967:dev/BSP/Components/vl6180/vl6180_api.c **** 				StdDevDistanceSum = (uint32_t) (StdDevDistanceSum +
 1444              		.loc 1 1967 19 is_stmt 0 view .LVU558
 1445 03c4 0132     		adds	r2, r2, #1
 1446              	.LVL162:
1967:dev/BSP/Components/vl6180/vl6180_api.c **** 				StdDevDistanceSum = (uint32_t) (StdDevDistanceSum +
 1447              		.loc 1 1967 19 view .LVU559
 1448 03c6 92B2     		uxth	r2, r2
 1449              	.LVL163:
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 73


1968:dev/BSP/Components/vl6180/vl6180_api.c **** 									(int)(_FilterData(LastTrueRange)[i] -
 1450              		.loc 1 1968 5 is_stmt 1 view .LVU560
1969:dev/BSP/Components/vl6180/vl6180_api.c **** 											StdDevDistanceMean) *
 1451              		.loc 1 1969 46 is_stmt 0 view .LVU561
 1452 03c8 AAEB050E 		sub	lr, r10, r5
1968:dev/BSP/Components/vl6180/vl6180_api.c **** 									(int)(_FilterData(LastTrueRange)[i] -
 1453              		.loc 1 1968 23 view .LVU562
 1454 03cc 0EFB0EBB 		mla	fp, lr, lr, fp
 1455              	.LVL164:
1973:dev/BSP/Components/vl6180/vl6180_api.c **** 									(int) (_FilterData(LastReturnRates)[i] -
 1456              		.loc 1 1973 5 is_stmt 1 view .LVU563
1974:dev/BSP/Components/vl6180/vl6180_api.c **** 											StdDevRateMean) *
 1457              		.loc 1 1974 45 is_stmt 0 view .LVU564
 1458 03d0 03F10A0E 		add	lr, r3, #10
 1459 03d4 04EB8E0E 		add	lr, r4, lr, lsl #2
 1460 03d8 DEF808E0 		ldr	lr, [lr, #8]
1974:dev/BSP/Components/vl6180/vl6180_api.c **** 											StdDevRateMean) *
 1461              		.loc 1 1974 49 view .LVU565
 1462 03dc AEEB010E 		sub	lr, lr, r1
1973:dev/BSP/Components/vl6180/vl6180_api.c **** 									(int) (_FilterData(LastReturnRates)[i] -
 1463              		.loc 1 1973 19 view .LVU566
 1464 03e0 0EFB0ECC 		mla	ip, lr, lr, ip
 1465              	.LVL165:
 1466              	.L71:
1965:dev/BSP/Components/vl6180/vl6180_api.c **** 			if (_FilterData(LastTrueRange)[i] != FILTER_INVALID_DISTANCE) {
 1467              		.loc 1 1965 85 is_stmt 1 discriminator 2 view .LVU567
1965:dev/BSP/Components/vl6180/vl6180_api.c **** 			if (_FilterData(LastTrueRange)[i] != FILTER_INVALID_DISTANCE) {
 1468              		.loc 1 1965 86 is_stmt 0 discriminator 2 view .LVU568
 1469 03e4 0133     		adds	r3, r3, #1
 1470              	.LVL166:
1965:dev/BSP/Components/vl6180/vl6180_api.c **** 			if (_FilterData(LastTrueRange)[i] != FILTER_INVALID_DISTANCE) {
 1471              		.loc 1 1965 86 discriminator 2 view .LVU569
 1472 03e6 9BB2     		uxth	r3, r3
 1473              	.LVL167:
 1474              	.L70:
1965:dev/BSP/Components/vl6180/vl6180_api.c **** 			if (_FilterData(LastTrueRange)[i] != FILTER_INVALID_DISTANCE) {
 1475              		.loc 1 1965 15 is_stmt 1 discriminator 1 view .LVU570
1965:dev/BSP/Components/vl6180/vl6180_api.c **** 			if (_FilterData(LastTrueRange)[i] != FILTER_INVALID_DISTANCE) {
 1476              		.loc 1 1965 3 is_stmt 0 discriminator 1 view .LVU571
 1477 03e8 092B     		cmp	r3, #9
 1478 03ea 98BF     		it	ls
 1479 03ec 052A     		cmpls	r2, #5
 1480 03ee 0AD8     		bhi	.L127
1966:dev/BSP/Components/vl6180/vl6180_api.c **** 				StdDevSamples = (uint16_t) (StdDevSamples + 1);
 1481              		.loc 1 1966 4 is_stmt 1 view .LVU572
1966:dev/BSP/Components/vl6180/vl6180_api.c **** 				StdDevSamples = (uint16_t) (StdDevSamples + 1);
 1482              		.loc 1 1966 34 is_stmt 0 view .LVU573
 1483 03f0 03F10C0E 		add	lr, r3, #12
 1484 03f4 04EB4E0E 		add	lr, r4, lr, lsl #1
 1485 03f8 BEF804A0 		ldrh	r10, [lr, #4]
1966:dev/BSP/Components/vl6180/vl6180_api.c **** 				StdDevSamples = (uint16_t) (StdDevSamples + 1);
 1486              		.loc 1 1966 7 view .LVU574
 1487 03fc 4FF6FF7E 		movw	lr, #65535
 1488 0400 F245     		cmp	r10, lr
 1489 0402 DFD1     		bne	.L128
 1490 0404 EEE7     		b	.L71
 1491              	.L127:
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 74


1980:dev/BSP/Components/vl6180/vl6180_api.c **** 			StdDevDistance = (uint16_t) (StdDevDistanceSum / StdDevSamples);
 1492              		.loc 1 1980 3 is_stmt 1 view .LVU575
1980:dev/BSP/Components/vl6180/vl6180_api.c **** 			StdDevDistance = (uint16_t) (StdDevDistanceSum / StdDevSamples);
 1493              		.loc 1 1980 6 is_stmt 0 view .LVU576
 1494 0406 9045     		cmp	r8, r2
 1495 0408 18D8     		bhi	.L110
1981:dev/BSP/Components/vl6180/vl6180_api.c **** 			StdDevRate = (uint16_t) (StdDevRateSum / StdDevSamples);
 1496              		.loc 1 1981 4 is_stmt 1 view .LVU577
1981:dev/BSP/Components/vl6180/vl6180_api.c **** 			StdDevRate = (uint16_t) (StdDevRateSum / StdDevSamples);
 1497              		.loc 1 1981 51 is_stmt 0 view .LVU578
 1498 040a BBFBF2FB 		udiv	fp, fp, r2
 1499              	.LVL168:
1981:dev/BSP/Components/vl6180/vl6180_api.c **** 			StdDevRate = (uint16_t) (StdDevRateSum / StdDevSamples);
 1500              		.loc 1 1981 51 view .LVU579
 1501 040e 1FFA8BFB 		uxth	fp, fp
 1502              	.LVL169:
1982:dev/BSP/Components/vl6180/vl6180_api.c **** 		} else {
 1503              		.loc 1 1982 4 is_stmt 1 view .LVU580
1982:dev/BSP/Components/vl6180/vl6180_api.c **** 		} else {
 1504              		.loc 1 1982 43 is_stmt 0 view .LVU581
 1505 0412 BCFBF2FC 		udiv	ip, ip, r2
 1506              	.LVL170:
1982:dev/BSP/Components/vl6180/vl6180_api.c **** 		} else {
 1507              		.loc 1 1982 43 view .LVU582
 1508 0416 1FFA8CFC 		uxth	ip, ip
 1509              	.LVL171:
1989:dev/BSP/Components/vl6180/vl6180_api.c **** 			if (StdDevSamples < StdDevSamplesMinNeeded) {
 1510              		.loc 1 1989 3 is_stmt 1 view .LVU583
 1511              	.L73:
1990:dev/BSP/Components/vl6180/vl6180_api.c **** 				//m_newTrueRange_mm = MaxOrInvalidDistance;
 1512              		.loc 1 1990 4 view .LVU584
1990:dev/BSP/Components/vl6180/vl6180_api.c **** 				//m_newTrueRange_mm = MaxOrInvalidDistance;
 1513              		.loc 1 1990 7 is_stmt 0 view .LVU585
 1514 041a 9045     		cmp	r8, r2
 1515 041c 35D8     		bhi	.L112
1995:dev/BSP/Components/vl6180/vl6180_api.c **** 					StdDevLimitWithTargetMove = StdDevLimit +
 1516              		.loc 1 1995 5 is_stmt 1 view .LVU586
1995:dev/BSP/Components/vl6180/vl6180_api.c **** 					StdDevLimitWithTargetMove = StdDevLimit +
 1517              		.loc 1 1995 8 is_stmt 0 view .LVU587
 1518 041e 40F6AB53 		movw	r3, #3499
 1519              	.LVL172:
1995:dev/BSP/Components/vl6180/vl6180_api.c **** 					StdDevLimitWithTargetMove = StdDevLimit +
 1520              		.loc 1 1995 8 view .LVU588
 1521 0422 9C45     		cmp	ip, r3
 1522 0424 0ED8     		bhi	.L113
1996:dev/BSP/Components/vl6180/vl6180_api.c **** 						(((StdDevMovingTargetStdDevForReturnRateLimit -
 1523              		.loc 1 1996 6 is_stmt 1 view .LVU589
1997:dev/BSP/Components/vl6180/vl6180_api.c **** 							StdDevLimit) * StdDevRate) /
 1524              		.loc 1 1997 53 is_stmt 0 view .LVU590
 1525 0426 40F6A663 		movw	r3, #3750
 1526 042a 1B1A     		subs	r3, r3, r0
1998:dev/BSP/Components/vl6180/vl6180_api.c **** 							StdDevMovingTargetReturnRateLimit);
 1527              		.loc 1 1998 21 view .LVU591
 1528 042c 0CFB03F3 		mul	r3, ip, r3
1998:dev/BSP/Components/vl6180/vl6180_api.c **** 							StdDevMovingTargetReturnRateLimit);
 1529              		.loc 1 1998 35 view .LVU592
 1530 0430 4249     		ldr	r1, .L132
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 75


 1531              	.LVL173:
1998:dev/BSP/Components/vl6180/vl6180_api.c **** 							StdDevMovingTargetReturnRateLimit);
 1532              		.loc 1 1998 35 view .LVU593
 1533 0432 A1FB0313 		umull	r1, r3, r1, r3
1996:dev/BSP/Components/vl6180/vl6180_api.c **** 						(((StdDevMovingTargetStdDevForReturnRateLimit -
 1534              		.loc 1 1996 32 view .LVU594
 1535 0436 00EBD323 		add	r3, r0, r3, lsr #11
 1536              	.LVL174:
1996:dev/BSP/Components/vl6180/vl6180_api.c **** 						(((StdDevMovingTargetStdDevForReturnRateLimit -
 1537              		.loc 1 1996 32 view .LVU595
 1538 043a 05E0     		b	.L74
 1539              	.LVL175:
 1540              	.L110:
1985:dev/BSP/Components/vl6180/vl6180_api.c **** 		}
 1541              		.loc 1 1985 15 view .LVU596
 1542 043c 4FF0000C 		mov	ip, #0
 1543              	.LVL176:
1984:dev/BSP/Components/vl6180/vl6180_api.c **** 			StdDevRate = 0;
 1544              		.loc 1 1984 19 view .LVU597
 1545 0440 E346     		mov	fp, ip
 1546              	.LVL177:
1984:dev/BSP/Components/vl6180/vl6180_api.c **** 			StdDevRate = 0;
 1547              		.loc 1 1984 19 view .LVU598
 1548 0442 EAE7     		b	.L73
 1549              	.LVL178:
 1550              	.L113:
2001:dev/BSP/Components/vl6180/vl6180_api.c **** 
 1551              		.loc 1 2001 32 view .LVU599
 1552 0444 40F6A663 		movw	r3, #3750
 1553              	.LVL179:
 1554              	.L74:
2003:dev/BSP/Components/vl6180/vl6180_api.c **** 					/* No wrapAround detected yet, so relax constraints on the std dev */
 1555              		.loc 1 2003 5 is_stmt 1 view .LVU600
2003:dev/BSP/Components/vl6180/vl6180_api.c **** 					/* No wrapAround detected yet, so relax constraints on the std dev */
 1556              		.loc 1 2003 8 is_stmt 0 view .LVU601
 1557 0448 616F     		ldr	r1, [r4, #116]
2003:dev/BSP/Components/vl6180/vl6180_api.c **** 					/* No wrapAround detected yet, so relax constraints on the std dev */
 1558              		.loc 1 2003 7 view .LVU602
 1559 044a 01B9     		cbnz	r1, .L75
2005:dev/BSP/Components/vl6180/vl6180_api.c **** 				}
 1560              		.loc 1 2005 6 is_stmt 1 view .LVU603
2005:dev/BSP/Components/vl6180/vl6180_api.c **** 				}
 1561              		.loc 1 2005 32 is_stmt 0 view .LVU604
 1562 044c 9B00     		lsls	r3, r3, #2
 1563              	.LVL180:
 1564              	.L75:
2008:dev/BSP/Components/vl6180/vl6180_api.c **** 					NoWrapAroundHighConfidenceFlag = 1;
 1565              		.loc 1 2008 5 is_stmt 1 view .LVU605
2008:dev/BSP/Components/vl6180/vl6180_api.c **** 					NoWrapAroundHighConfidenceFlag = 1;
 1566              		.loc 1 2008 8 is_stmt 0 view .LVU606
 1567 044e B0EBCB0F 		cmp	r0, fp, lsl #3
 1568 0452 01D9     		bls	.L76
2008:dev/BSP/Components/vl6180/vl6180_api.c **** 					NoWrapAroundHighConfidenceFlag = 1;
 1569              		.loc 1 2008 73 discriminator 1 view .LVU607
 1570 0454 052A     		cmp	r2, #5
 1571 0456 1CD8     		bhi	.L114
 1572              	.L76:
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 76


2011:dev/BSP/Components/vl6180/vl6180_api.c **** 							NoWrapAroundFlag = 1;
 1573              		.loc 1 2011 6 is_stmt 1 view .LVU608
2011:dev/BSP/Components/vl6180/vl6180_api.c **** 							NoWrapAroundFlag = 1;
 1574              		.loc 1 2011 9 is_stmt 0 view .LVU609
 1575 0458 9B45     		cmp	fp, r3
 1576 045a 1DD2     		bcs	.L115
1602:dev/BSP/Components/vl6180/vl6180_api.c **** 
 1577              		.loc 1 1602 11 view .LVU610
 1578 045c 3246     		mov	r2, r6
 1579              	.LVL181:
1600:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint16_t NoWrapAroundFlag = 0;
 1580              		.loc 1 1600 11 view .LVU611
 1581 045e 3346     		mov	r3, r6
 1582              	.LVL182:
2012:dev/BSP/Components/vl6180/vl6180_api.c **** 						} else {
 1583              		.loc 1 2012 25 view .LVU612
 1584 0460 0126     		movs	r6, #1
 1585              	.LVL183:
2012:dev/BSP/Components/vl6180/vl6180_api.c **** 						} else {
 1586              		.loc 1 2012 25 view .LVU613
 1587 0462 02E0     		b	.L64
 1588              	.LVL184:
 1589              	.L107:
1602:dev/BSP/Components/vl6180/vl6180_api.c **** 
 1590              		.loc 1 1602 11 view .LVU614
 1591 0464 3246     		mov	r2, r6
 1592              	.LVL185:
1928:dev/BSP/Components/vl6180/vl6180_api.c **** 		filterErrorCode = RangingFiltered;
 1593              		.loc 1 1928 18 view .LVU615
 1594 0466 0123     		movs	r3, #1
1929:dev/BSP/Components/vl6180/vl6180_api.c **** 	} else {
 1595              		.loc 1 1929 19 view .LVU616
 1596 0468 1027     		movs	r7, #16
 1597              	.LVL186:
 1598              	.L64:
2026:dev/BSP/Components/vl6180/vl6180_api.c **** 		/* In case of invalid distance */
 1599              		.loc 1 2026 2 is_stmt 1 view .LVU617
2026:dev/BSP/Components/vl6180/vl6180_api.c **** 		/* In case of invalid distance */
 1600              		.loc 1 2026 5 is_stmt 0 view .LVU618
 1601 046a B9F1000F 		cmp	r9, #0
 1602 046e 17D1     		bne	.L77
2028:dev/BSP/Components/vl6180/vl6180_api.c **** 			_FilterData(StdFilteredReads) = (uint16_t) (_FilterData(StdFilteredReads) - 1);
 1603              		.loc 1 2028 3 is_stmt 1 view .LVU619
2028:dev/BSP/Components/vl6180/vl6180_api.c **** 			_FilterData(StdFilteredReads) = (uint16_t) (_FilterData(StdFilteredReads) - 1);
 1604              		.loc 1 2028 7 is_stmt 0 view .LVU620
 1605 0470 B4F85830 		ldrh	r3, [r4, #88]
 1606              	.LVL187:
2028:dev/BSP/Components/vl6180/vl6180_api.c **** 			_FilterData(StdFilteredReads) = (uint16_t) (_FilterData(StdFilteredReads) - 1);
 1607              		.loc 1 2028 6 view .LVU621
 1608 0474 13B1     		cbz	r3, .L78
2029:dev/BSP/Components/vl6180/vl6180_api.c **** 	} else {
 1609              		.loc 1 2029 4 is_stmt 1 view .LVU622
2029:dev/BSP/Components/vl6180/vl6180_api.c **** 	} else {
 1610              		.loc 1 2029 36 is_stmt 0 view .LVU623
 1611 0476 013B     		subs	r3, r3, #1
2029:dev/BSP/Components/vl6180/vl6180_api.c **** 	} else {
 1612              		.loc 1 2029 34 view .LVU624
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 77


 1613 0478 A4F85830 		strh	r3, [r4, #88]	@ movhi
 1614              	.LVL188:
 1615              	.L78:
2057:dev/BSP/Components/vl6180/vl6180_api.c **** 		for (i = 1; i < FILTER_NBOF_SAMPLES; i++) {
 1616              		.loc 1 2057 2 is_stmt 1 view .LVU625
2057:dev/BSP/Components/vl6180/vl6180_api.c **** 		for (i = 1; i < FILTER_NBOF_SAMPLES; i++) {
 1617              		.loc 1 2057 6 is_stmt 0 view .LVU626
 1618 047c 636F     		ldr	r3, [r4, #116]
2057:dev/BSP/Components/vl6180/vl6180_api.c **** 		for (i = 1; i < FILTER_NBOF_SAMPLES; i++) {
 1619              		.loc 1 2057 4 view .LVU627
 1620 047e 002B     		cmp	r3, #0
 1621 0480 44D1     		bne	.L82
2057:dev/BSP/Components/vl6180/vl6180_api.c **** 		for (i = 1; i < FILTER_NBOF_SAMPLES; i++) {
 1622              		.loc 1 2057 43 discriminator 1 view .LVU628
 1623 0482 002F     		cmp	r7, #0
 1624 0484 42D0     		beq	.L82
2058:dev/BSP/Components/vl6180/vl6180_api.c **** 			_FilterData(LastTrueRange)[i] = FILTER_INVALID_DISTANCE;
 1625              		.loc 1 2058 10 view .LVU629
 1626 0486 0123     		movs	r3, #1
 1627 0488 3EE0     		b	.L83
 1628              	.LVL189:
 1629              	.L112:
1602:dev/BSP/Components/vl6180/vl6180_api.c **** 
 1630              		.loc 1 1602 11 view .LVU630
 1631 048a 3246     		mov	r2, r6
 1632              	.LVL190:
1600:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint16_t NoWrapAroundFlag = 0;
 1633              		.loc 1 1600 11 view .LVU631
 1634 048c 3346     		mov	r3, r6
 1635              	.LVL191:
1992:dev/BSP/Components/vl6180/vl6180_api.c **** 			} else {
 1636              		.loc 1 1992 21 view .LVU632
 1637 048e 1027     		movs	r7, #16
 1638              	.LVL192:
1992:dev/BSP/Components/vl6180/vl6180_api.c **** 			} else {
 1639              		.loc 1 1992 21 view .LVU633
 1640 0490 EBE7     		b	.L64
 1641              	.LVL193:
 1642              	.L114:
1600:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint16_t NoWrapAroundFlag = 0;
 1643              		.loc 1 1600 11 view .LVU634
 1644 0492 3346     		mov	r3, r6
 1645              	.LVL194:
2009:dev/BSP/Components/vl6180/vl6180_api.c **** 				} else {
 1646              		.loc 1 2009 37 view .LVU635
 1647 0494 0122     		movs	r2, #1
 1648              	.LVL195:
2009:dev/BSP/Components/vl6180/vl6180_api.c **** 				} else {
 1649              		.loc 1 2009 37 view .LVU636
 1650 0496 E8E7     		b	.L64
 1651              	.LVL196:
 1652              	.L115:
1602:dev/BSP/Components/vl6180/vl6180_api.c **** 
 1653              		.loc 1 1602 11 view .LVU637
 1654 0498 3246     		mov	r2, r6
 1655              	.LVL197:
2014:dev/BSP/Components/vl6180/vl6180_api.c **** 						filterErrorCode = RangingFiltered;
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 78


 1656              		.loc 1 2014 22 view .LVU638
 1657 049a 0123     		movs	r3, #1
 1658              	.LVL198:
2015:dev/BSP/Components/vl6180/vl6180_api.c **** 					}
 1659              		.loc 1 2015 23 view .LVU639
 1660 049c 1027     		movs	r7, #16
 1661              	.LVL199:
2015:dev/BSP/Components/vl6180/vl6180_api.c **** 					}
 1662              		.loc 1 2015 23 view .LVU640
 1663 049e E4E7     		b	.L64
 1664              	.LVL200:
 1665              	.L77:
2031:dev/BSP/Components/vl6180/vl6180_api.c **** 			_FilterData(StdFilteredReads) = (uint16_t) (_FilterData(StdFilteredReads) +
 1666              		.loc 1 2031 3 is_stmt 1 view .LVU641
2031:dev/BSP/Components/vl6180/vl6180_api.c **** 			_FilterData(StdFilteredReads) = (uint16_t) (_FilterData(StdFilteredReads) +
 1667              		.loc 1 2031 6 is_stmt 0 view .LVU642
 1668 04a0 012B     		cmp	r3, #1
 1669 04a2 06D0     		beq	.L129
2037:dev/BSP/Components/vl6180/vl6180_api.c **** 				if (_FilterData(StdFilteredReads) > 0) {
 1670              		.loc 1 2037 4 is_stmt 1 view .LVU643
2037:dev/BSP/Components/vl6180/vl6180_api.c **** 				if (_FilterData(StdFilteredReads) > 0) {
 1671              		.loc 1 2037 7 is_stmt 0 view .LVU644
 1672 04a4 8EB9     		cbnz	r6, .L130
2047:dev/BSP/Components/vl6180/vl6180_api.c **** 					_FilterData(StdFilteredReads) = 0;
 1673              		.loc 1 2047 5 is_stmt 1 view .LVU645
2047:dev/BSP/Components/vl6180/vl6180_api.c **** 					_FilterData(StdFilteredReads) = 0;
 1674              		.loc 1 2047 8 is_stmt 0 view .LVU646
 1675 04a6 012A     		cmp	r2, #1
 1676 04a8 E8D1     		bne	.L78
2048:dev/BSP/Components/vl6180/vl6180_api.c **** 				}
 1677              		.loc 1 2048 6 is_stmt 1 view .LVU647
2048:dev/BSP/Components/vl6180/vl6180_api.c **** 				}
 1678              		.loc 1 2048 36 is_stmt 0 view .LVU648
 1679 04aa 0023     		movs	r3, #0
 1680              	.LVL201:
2048:dev/BSP/Components/vl6180/vl6180_api.c **** 				}
 1681              		.loc 1 2048 36 view .LVU649
 1682 04ac A4F85830 		strh	r3, [r4, #88]	@ movhi
 1683 04b0 E4E7     		b	.L78
 1684              	.LVL202:
 1685              	.L129:
2032:dev/BSP/Components/vl6180/vl6180_api.c **** 											StdFilteredReadsIncrement);
 1686              		.loc 1 2032 4 is_stmt 1 view .LVU650
2032:dev/BSP/Components/vl6180/vl6180_api.c **** 											StdFilteredReadsIncrement);
 1687              		.loc 1 2032 48 is_stmt 0 view .LVU651
 1688 04b2 B4F85830 		ldrh	r3, [r4, #88]
 1689              	.LVL203:
2032:dev/BSP/Components/vl6180/vl6180_api.c **** 											StdFilteredReadsIncrement);
 1690              		.loc 1 2032 36 view .LVU652
 1691 04b6 0233     		adds	r3, r3, #2
 1692 04b8 9BB2     		uxth	r3, r3
2032:dev/BSP/Components/vl6180/vl6180_api.c **** 											StdFilteredReadsIncrement);
 1693              		.loc 1 2032 34 view .LVU653
 1694 04ba A4F85830 		strh	r3, [r4, #88]	@ movhi
2034:dev/BSP/Components/vl6180/vl6180_api.c **** 				_FilterData(StdFilteredReads) = StdMaxFilteredReads;
 1695              		.loc 1 2034 4 is_stmt 1 view .LVU654
2034:dev/BSP/Components/vl6180/vl6180_api.c **** 				_FilterData(StdFilteredReads) = StdMaxFilteredReads;
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 79


 1696              		.loc 1 2034 7 is_stmt 0 view .LVU655
 1697 04be 042B     		cmp	r3, #4
 1698 04c0 DCD9     		bls	.L78
2035:dev/BSP/Components/vl6180/vl6180_api.c **** 		} else {
 1699              		.loc 1 2035 5 is_stmt 1 view .LVU656
2035:dev/BSP/Components/vl6180/vl6180_api.c **** 		} else {
 1700              		.loc 1 2035 35 is_stmt 0 view .LVU657
 1701 04c2 0423     		movs	r3, #4
 1702 04c4 A4F85830 		strh	r3, [r4, #88]	@ movhi
 1703 04c8 D8E7     		b	.L78
 1704              	.LVL204:
 1705              	.L130:
2038:dev/BSP/Components/vl6180/vl6180_api.c **** 					filterErrorCode = RangingFiltered;
 1706              		.loc 1 2038 5 is_stmt 1 view .LVU658
2038:dev/BSP/Components/vl6180/vl6180_api.c **** 					filterErrorCode = RangingFiltered;
 1707              		.loc 1 2038 9 is_stmt 0 view .LVU659
 1708 04ca B4F85830 		ldrh	r3, [r4, #88]
 1709              	.LVL205:
2038:dev/BSP/Components/vl6180/vl6180_api.c **** 					filterErrorCode = RangingFiltered;
 1710              		.loc 1 2038 8 view .LVU660
 1711 04ce 002B     		cmp	r3, #0
 1712 04d0 D4D0     		beq	.L78
2039:dev/BSP/Components/vl6180/vl6180_api.c **** 					if (_FilterData(StdFilteredReads) > StdFilteredReadsDecrement)
 1713              		.loc 1 2039 6 is_stmt 1 view .LVU661
 1714              	.LVL206:
2040:dev/BSP/Components/vl6180/vl6180_api.c **** 						_FilterData(StdFilteredReads) = (uint16_t) (_FilterData(StdFilteredReads) -
 1715              		.loc 1 2040 6 view .LVU662
2040:dev/BSP/Components/vl6180/vl6180_api.c **** 						_FilterData(StdFilteredReads) = (uint16_t) (_FilterData(StdFilteredReads) -
 1716              		.loc 1 2040 9 is_stmt 0 view .LVU663
 1717 04d2 012B     		cmp	r3, #1
 1718 04d4 04D9     		bls	.L81
2041:dev/BSP/Components/vl6180/vl6180_api.c **** 														StdFilteredReadsDecrement);
 1719              		.loc 1 2041 7 is_stmt 1 view .LVU664
2041:dev/BSP/Components/vl6180/vl6180_api.c **** 														StdFilteredReadsDecrement);
 1720              		.loc 1 2041 39 is_stmt 0 view .LVU665
 1721 04d6 013B     		subs	r3, r3, #1
2041:dev/BSP/Components/vl6180/vl6180_api.c **** 														StdFilteredReadsDecrement);
 1722              		.loc 1 2041 37 view .LVU666
 1723 04d8 A4F85830 		strh	r3, [r4, #88]	@ movhi
2039:dev/BSP/Components/vl6180/vl6180_api.c **** 					if (_FilterData(StdFilteredReads) > StdFilteredReadsDecrement)
 1724              		.loc 1 2039 22 view .LVU667
 1725 04dc 1027     		movs	r7, #16
 1726 04de CDE7     		b	.L78
 1727              	.L81:
2044:dev/BSP/Components/vl6180/vl6180_api.c **** 				}
 1728              		.loc 1 2044 7 is_stmt 1 view .LVU668
2044:dev/BSP/Components/vl6180/vl6180_api.c **** 				}
 1729              		.loc 1 2044 37 is_stmt 0 view .LVU669
 1730 04e0 0023     		movs	r3, #0
 1731 04e2 A4F85830 		strh	r3, [r4, #88]	@ movhi
2039:dev/BSP/Components/vl6180/vl6180_api.c **** 					if (_FilterData(StdFilteredReads) > StdFilteredReadsDecrement)
 1732              		.loc 1 2039 22 view .LVU670
 1733 04e6 1027     		movs	r7, #16
 1734 04e8 C8E7     		b	.L78
 1735              	.LVL207:
 1736              	.L84:
2059:dev/BSP/Components/vl6180/vl6180_api.c **** 			_FilterData(LastReturnRates)[i] = 0;
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 80


 1737              		.loc 1 2059 4 is_stmt 1 discriminator 3 view .LVU671
2059:dev/BSP/Components/vl6180/vl6180_api.c **** 			_FilterData(LastReturnRates)[i] = 0;
 1738              		.loc 1 2059 34 is_stmt 0 discriminator 3 view .LVU672
 1739 04ea 03F10C02 		add	r2, r3, #12
 1740 04ee 04EB4202 		add	r2, r4, r2, lsl #1
 1741 04f2 4FF6FF71 		movw	r1, #65535
 1742 04f6 9180     		strh	r1, [r2, #4]	@ movhi
2060:dev/BSP/Components/vl6180/vl6180_api.c **** 		}
 1743              		.loc 1 2060 4 is_stmt 1 discriminator 3 view .LVU673
2060:dev/BSP/Components/vl6180/vl6180_api.c **** 		}
 1744              		.loc 1 2060 36 is_stmt 0 discriminator 3 view .LVU674
 1745 04f8 03F10A02 		add	r2, r3, #10
 1746 04fc 04EB8202 		add	r2, r4, r2, lsl #2
 1747 0500 0021     		movs	r1, #0
 1748 0502 9160     		str	r1, [r2, #8]
2058:dev/BSP/Components/vl6180/vl6180_api.c **** 			_FilterData(LastTrueRange)[i] = FILTER_INVALID_DISTANCE;
 1749              		.loc 1 2058 40 is_stmt 1 discriminator 3 view .LVU675
2058:dev/BSP/Components/vl6180/vl6180_api.c **** 			_FilterData(LastTrueRange)[i] = FILTER_INVALID_DISTANCE;
 1750              		.loc 1 2058 41 is_stmt 0 discriminator 3 view .LVU676
 1751 0504 0133     		adds	r3, r3, #1
 1752              	.LVL208:
2058:dev/BSP/Components/vl6180/vl6180_api.c **** 			_FilterData(LastTrueRange)[i] = FILTER_INVALID_DISTANCE;
 1753              		.loc 1 2058 41 discriminator 3 view .LVU677
 1754 0506 9BB2     		uxth	r3, r3
 1755              	.LVL209:
 1756              	.L83:
2058:dev/BSP/Components/vl6180/vl6180_api.c **** 			_FilterData(LastTrueRange)[i] = FILTER_INVALID_DISTANCE;
 1757              		.loc 1 2058 15 is_stmt 1 discriminator 1 view .LVU678
2058:dev/BSP/Components/vl6180/vl6180_api.c **** 			_FilterData(LastTrueRange)[i] = FILTER_INVALID_DISTANCE;
 1758              		.loc 1 2058 3 is_stmt 0 discriminator 1 view .LVU679
 1759 0508 092B     		cmp	r3, #9
 1760 050a EED9     		bls	.L84
 1761              	.LVL210:
 1762              	.L82:
2065:dev/BSP/Components/vl6180/vl6180_api.c **** 
 1763              		.loc 1 2065 2 is_stmt 1 view .LVU680
2065:dev/BSP/Components/vl6180/vl6180_api.c **** 
 1764              		.loc 1 2065 27 is_stmt 0 view .LVU681
 1765 050c 6767     		str	r7, [r4, #116]
2068:dev/BSP/Components/vl6180/vl6180_api.c **** 		m_newTrueRange_mm = MaxOrInvalidDistance; /* Set to invalid distance */
 1766              		.loc 1 2068 2 is_stmt 1 view .LVU682
2068:dev/BSP/Components/vl6180/vl6180_api.c **** 		m_newTrueRange_mm = MaxOrInvalidDistance; /* Set to invalid distance */
 1767              		.loc 1 2068 4 is_stmt 0 view .LVU683
 1768 050e 102F     		cmp	r7, #16
 1769 0510 03D0     		beq	.L131
 1770              	.LVL211:
 1771              	.L85:
2071:dev/BSP/Components/vl6180/vl6180_api.c **** done_err:
 1772              		.loc 1 2071 2 is_stmt 1 view .LVU684
2071:dev/BSP/Components/vl6180/vl6180_api.c **** done_err:
 1773              		.loc 1 2071 9 is_stmt 0 view .LVU685
 1774 0512 0298     		ldr	r0, [sp, #8]
 1775              	.LVL212:
 1776              	.L25:
2076:dev/BSP/Components/vl6180/vl6180_api.c **** 
 1777              		.loc 1 2076 1 view .LVU686
 1778 0514 0BB0     		add	sp, sp, #44
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 81


 1779              	.LCFI12:
 1780              		.cfi_remember_state
 1781              		.cfi_def_cfa_offset 36
 1782              		@ sp needed
 1783 0516 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 1784              	.LVL213:
 1785              	.L131:
 1786              	.LCFI13:
 1787              		.cfi_restore_state
2069:dev/BSP/Components/vl6180/vl6180_api.c **** 
 1788              		.loc 1 2069 3 is_stmt 1 view .LVU687
2069:dev/BSP/Components/vl6180/vl6180_api.c **** 
 1789              		.loc 1 2069 21 is_stmt 0 view .LVU688
 1790 051a BDF81430 		ldrh	r3, [sp, #20]
 1791 051e 0293     		str	r3, [sp, #8]
 1792              	.LVL214:
2069:dev/BSP/Components/vl6180/vl6180_api.c **** 
 1793              		.loc 1 2069 21 view .LVU689
 1794 0520 F7E7     		b	.L85
 1795              	.LVL215:
 1796              	.L99:
2073:dev/BSP/Components/vl6180/vl6180_api.c **** 
 1797              		.loc 1 2073 9 view .LVU690
 1798 0522 4FF0FF30 		mov	r0, #-1
 1799              	.LVL216:
2073:dev/BSP/Components/vl6180/vl6180_api.c **** 
 1800              		.loc 1 2073 9 view .LVU691
 1801 0526 F5E7     		b	.L25
 1802              	.LVL217:
 1803              	.L100:
2073:dev/BSP/Components/vl6180/vl6180_api.c **** 
 1804              		.loc 1 2073 9 view .LVU692
 1805 0528 4FF0FF30 		mov	r0, #-1
 1806              	.LVL218:
2073:dev/BSP/Components/vl6180/vl6180_api.c **** 
 1807              		.loc 1 2073 9 view .LVU693
 1808 052c F2E7     		b	.L25
 1809              	.LVL219:
 1810              	.L101:
2073:dev/BSP/Components/vl6180/vl6180_api.c **** 
 1811              		.loc 1 2073 9 view .LVU694
 1812 052e 4FF0FF30 		mov	r0, #-1
 1813              	.LVL220:
2073:dev/BSP/Components/vl6180/vl6180_api.c **** 
 1814              		.loc 1 2073 9 view .LVU695
 1815 0532 EFE7     		b	.L25
 1816              	.LVL221:
 1817              	.L103:
2073:dev/BSP/Components/vl6180/vl6180_api.c **** 
 1818              		.loc 1 2073 9 view .LVU696
 1819 0534 4FF0FF30 		mov	r0, #-1
 1820              	.LVL222:
2073:dev/BSP/Components/vl6180/vl6180_api.c **** 
 1821              		.loc 1 2073 9 view .LVU697
 1822 0538 ECE7     		b	.L25
 1823              	.L133:
 1824 053a 00BF     		.align	2
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 82


 1825              	.L132:
 1826 053c 1BECCB95 		.word	-1781797861
 1827 0540 1BA4411A 		.word	440509467
 1828              		.cfi_endproc
 1829              	.LFE51:
 1831              		.section	.text._filter_GetResult,"ax",%progbits
 1832              		.align	1
 1833              		.syntax unified
 1834              		.thumb
 1835              		.thumb_func
 1836              		.fpu fpv5-d16
 1838              	_filter_GetResult:
 1839              	.LVL223:
 1840              	.LFB52:
2080:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint32_t m_rawRange_mm = 0;
 1841              		.loc 1 2080 1 is_stmt 1 view -0
 1842              		.cfi_startproc
 1843              		@ args = 0, pretend = 0, frame = 8
 1844              		@ frame_needed = 0, uses_anonymous_args = 0
2080:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint32_t m_rawRange_mm = 0;
 1845              		.loc 1 2080 1 is_stmt 0 view .LVU699
 1846 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 1847              	.LCFI14:
 1848              		.cfi_def_cfa_offset 20
 1849              		.cfi_offset 4, -20
 1850              		.cfi_offset 5, -16
 1851              		.cfi_offset 6, -12
 1852              		.cfi_offset 7, -8
 1853              		.cfi_offset 14, -4
 1854 0002 85B0     		sub	sp, sp, #20
 1855              	.LCFI15:
 1856              		.cfi_def_cfa_offset 40
 1857 0004 0746     		mov	r7, r0
 1858 0006 0C46     		mov	r4, r1
2081:dev/BSP/Components/vl6180/vl6180_api.c **** 	int32_t  FilteredRange;
 1859              		.loc 1 2081 2 is_stmt 1 view .LVU700
 1860              	.LVL224:
2082:dev/BSP/Components/vl6180/vl6180_api.c **** 	const uint8_t scaler = _GetUpscale(dev);
 1861              		.loc 1 2082 2 view .LVU701
2083:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint8_t u8;
 1862              		.loc 1 2083 2 view .LVU702
2083:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint8_t u8;
 1863              		.loc 1 2083 16 is_stmt 0 view .LVU703
 1864 0008 857C     		ldrb	r5, [r0, #18]	@ zero_extendqisi2
 1865              	.LVL225:
2084:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
 1866              		.loc 1 2084 2 is_stmt 1 view .LVU704
2085:dev/BSP/Components/vl6180/vl6180_api.c **** 
 1867              		.loc 1 2085 2 view .LVU705
2087:dev/BSP/Components/vl6180/vl6180_api.c **** 		status = VL6180_GetCachedByte(dev, RESULT_RANGE_RAW, &u8);
 1868              		.loc 1 2087 2 view .LVU706
2088:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (status) {
 1869              		.loc 1 2088 3 view .LVU707
2088:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (status) {
 1870              		.loc 1 2088 12 is_stmt 0 view .LVU708
 1871 000a 0DF10F02 		add	r2, sp, #15
 1872 000e 6421     		movs	r1, #100
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 83


 1873              	.LVL226:
2088:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (status) {
 1874              		.loc 1 2088 12 view .LVU709
 1875 0010 FFF7FEFF 		bl	VL6180_RdByte
 1876              	.LVL227:
2089:dev/BSP/Components/vl6180/vl6180_api.c **** 		    VL6180_ErrLog("RESULT_RANGE_RAW rd fail");
 1877              		.loc 1 2089 3 is_stmt 1 view .LVU710
2089:dev/BSP/Components/vl6180/vl6180_api.c **** 		    VL6180_ErrLog("RESULT_RANGE_RAW rd fail");
 1878              		.loc 1 2089 6 is_stmt 0 view .LVU711
 1879 0014 0646     		mov	r6, r0
 1880 0016 10B1     		cbz	r0, .L138
 1881              	.LVL228:
 1882              	.L134:
2105:dev/BSP/Components/vl6180/vl6180_api.c **** 
 1883              		.loc 1 2105 1 view .LVU712
 1884 0018 3046     		mov	r0, r6
 1885 001a 05B0     		add	sp, sp, #20
 1886              	.LCFI16:
 1887              		.cfi_remember_state
 1888              		.cfi_def_cfa_offset 20
 1889              		@ sp needed
 1890 001c F0BD     		pop	{r4, r5, r6, r7, pc}
 1891              	.LVL229:
 1892              	.L138:
 1893              	.LCFI17:
 1894              		.cfi_restore_state
2093:dev/BSP/Components/vl6180/vl6180_api.c **** 
 1895              		.loc 1 2093 3 is_stmt 1 view .LVU713
2093:dev/BSP/Components/vl6180/vl6180_api.c **** 
 1896              		.loc 1 2093 17 is_stmt 0 view .LVU714
 1897 001e 9DF80F30 		ldrb	r3, [sp, #15]	@ zero_extendqisi2
 1898              	.LVL230:
2095:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (FilteredRange < 0) {
 1899              		.loc 1 2095 3 is_stmt 1 view .LVU715
2095:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (FilteredRange < 0) {
 1900              		.loc 1 2095 19 is_stmt 0 view .LVU716
 1901 0022 05FB03F5 		mul	r5, r5, r3
 1902              	.LVL231:
2095:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (FilteredRange < 0) {
 1903              		.loc 1 2095 19 view .LVU717
 1904 0026 2389     		ldrh	r3, [r4, #8]
 1905              	.LVL232:
2095:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (FilteredRange < 0) {
 1906              		.loc 1 2095 19 view .LVU718
 1907 0028 0193     		str	r3, [sp, #4]
 1908 002a E368     		ldr	r3, [r4, #12]
 1909 002c 0093     		str	r3, [sp]
 1910 002e 2369     		ldr	r3, [r4, #16]
 1911 0030 2A46     		mov	r2, r5
 1912 0032 2188     		ldrh	r1, [r4]
 1913 0034 3846     		mov	r0, r7
 1914              	.LVL233:
2095:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (FilteredRange < 0) {
 1915              		.loc 1 2095 19 view .LVU719
 1916 0036 FFF7FEFF 		bl	_filter_Start
 1917              	.LVL234:
2096:dev/BSP/Components/vl6180/vl6180_api.c **** 		    status = -1;
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 84


 1918              		.loc 1 2096 3 is_stmt 1 view .LVU720
2096:dev/BSP/Components/vl6180/vl6180_api.c **** 		    status = -1;
 1919              		.loc 1 2096 6 is_stmt 0 view .LVU721
 1920 003a 0028     		cmp	r0, #0
2096:dev/BSP/Components/vl6180/vl6180_api.c **** 		    status = -1;
 1921              		.loc 1 2096 6 view .LVU722
 1922 003c 04DB     		blt	.L136
2100:dev/BSP/Components/vl6180/vl6180_api.c **** 		pRangeData->FilteredData.rawRange_mm = m_rawRange_mm * scaler;
 1923              		.loc 1 2100 3 is_stmt 1 view .LVU723
2100:dev/BSP/Components/vl6180/vl6180_api.c **** 		pRangeData->FilteredData.rawRange_mm = m_rawRange_mm * scaler;
 1924              		.loc 1 2100 37 is_stmt 0 view .LVU724
 1925 003e 2084     		strh	r0, [r4, #32]	@ movhi
2101:dev/BSP/Components/vl6180/vl6180_api.c **** 		pRangeData->FilteredData.filterError= _FilterData(filterError);
 1926              		.loc 1 2101 3 is_stmt 1 view .LVU725
2101:dev/BSP/Components/vl6180/vl6180_api.c **** 		pRangeData->FilteredData.filterError= _FilterData(filterError);
 1927              		.loc 1 2101 40 is_stmt 0 view .LVU726
 1928 0040 6584     		strh	r5, [r4, #34]	@ movhi
2102:dev/BSP/Components/vl6180/vl6180_api.c **** 	} while (0);
 1929              		.loc 1 2102 3 is_stmt 1 view .LVU727
2102:dev/BSP/Components/vl6180/vl6180_api.c **** 	} while (0);
 1930              		.loc 1 2102 41 is_stmt 0 view .LVU728
 1931 0042 7B6F     		ldr	r3, [r7, #116]
2102:dev/BSP/Components/vl6180/vl6180_api.c **** 	} while (0);
 1932              		.loc 1 2102 39 view .LVU729
 1933 0044 6362     		str	r3, [r4, #36]
 1934 0046 E7E7     		b	.L134
 1935              	.L136:
2097:dev/BSP/Components/vl6180/vl6180_api.c **** 		    break;
 1936              		.loc 1 2097 14 view .LVU730
 1937 0048 4FF0FF36 		mov	r6, #-1
 1938              	.LVL235:
2103:dev/BSP/Components/vl6180/vl6180_api.c **** 	return status;
 1939              		.loc 1 2103 10 is_stmt 1 view .LVU731
2104:dev/BSP/Components/vl6180/vl6180_api.c **** }
 1940              		.loc 1 2104 2 view .LVU732
2104:dev/BSP/Components/vl6180/vl6180_api.c **** }
 1941              		.loc 1 2104 9 is_stmt 0 view .LVU733
 1942 004c E4E7     		b	.L134
 1943              		.cfi_endproc
 1944              	.LFE52:
 1946              		.section	.text.VL6180_RangeSetEarlyConvergenceEestimateThreshold,"ax",%progbits
 1947              		.align	1
 1948              		.syntax unified
 1949              		.thumb
 1950              		.thumb_func
 1951              		.fpu fpv5-d16
 1953              	VL6180_RangeSetEarlyConvergenceEestimateThreshold:
 1954              	.LVL236:
 1955              	.LFB44:
1337:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
 1956              		.loc 1 1337 1 is_stmt 1 view -0
 1957              		.cfi_startproc
 1958              		@ args = 0, pretend = 0, frame = 8
 1959              		@ frame_needed = 0, uses_anonymous_args = 0
1337:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
 1960              		.loc 1 1337 1 is_stmt 0 view .LVU735
 1961 0000 F0B5     		push	{r4, r5, r6, r7, lr}
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 85


 1962              	.LCFI18:
 1963              		.cfi_def_cfa_offset 20
 1964              		.cfi_offset 4, -20
 1965              		.cfi_offset 5, -16
 1966              		.cfi_offset 6, -12
 1967              		.cfi_offset 7, -8
 1968              		.cfi_offset 14, -4
 1969 0002 83B0     		sub	sp, sp, #12
 1970              	.LCFI19:
 1971              		.cfi_def_cfa_offset 32
 1972 0004 0446     		mov	r4, r0
1338:dev/BSP/Components/vl6180/vl6180_api.c **** 
 1973              		.loc 1 1338 2 is_stmt 1 view .LVU736
1340:dev/BSP/Components/vl6180/vl6180_api.c **** 	const uint32_t cEceSampleTime_us     = 500;
 1974              		.loc 1 1340 2 view .LVU737
 1975              	.LVL237:
1341:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint32_t ece_factor_m          = VL6180DevDataGet(dev, EceFactorM);
 1976              		.loc 1 1341 2 view .LVU738
1342:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint32_t ece_factor_d          = VL6180DevDataGet(dev, EceFactorD);
 1977              		.loc 1 1342 2 view .LVU739
1342:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint32_t ece_factor_d          = VL6180DevDataGet(dev, EceFactorD);
 1978              		.loc 1 1342 35 is_stmt 0 view .LVU740
 1979 0006 0689     		ldrh	r6, [r0, #8]
 1980              	.LVL238:
1343:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint32_t convergTime_us;
 1981              		.loc 1 1343 2 is_stmt 1 view .LVU741
1343:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint32_t convergTime_us;
 1982              		.loc 1 1343 35 is_stmt 0 view .LVU742
 1983 0008 4589     		ldrh	r5, [r0, #10]
 1984              	.LVL239:
1344:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint32_t fineThresh;
 1985              		.loc 1 1344 2 is_stmt 1 view .LVU743
1345:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint32_t eceThresh;
 1986              		.loc 1 1345 2 view .LVU744
1346:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint8_t  u8;
 1987              		.loc 1 1346 2 view .LVU745
1347:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint32_t maxConv_ms;
 1988              		.loc 1 1347 2 view .LVU746
1348:dev/BSP/Components/vl6180/vl6180_api.c **** 	int32_t AveTime;
 1989              		.loc 1 1348 2 view .LVU747
1349:dev/BSP/Components/vl6180/vl6180_api.c **** 
 1990              		.loc 1 1349 2 view .LVU748
1351:dev/BSP/Components/vl6180/vl6180_api.c **** 
 1991              		.loc 1 1351 2 view .LVU749
1353:dev/BSP/Components/vl6180/vl6180_api.c **** 		status = VL6180_RdByte(dev, SYSRANGE_MAX_CONVERGENCE_TIME, &u8);
 1992              		.loc 1 1353 2 view .LVU750
1354:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (status) {
 1993              		.loc 1 1354 3 view .LVU751
1354:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (status) {
 1994              		.loc 1 1354 12 is_stmt 0 view .LVU752
 1995 000a 0DF10302 		add	r2, sp, #3
 1996 000e 1C21     		movs	r1, #28
 1997 0010 FFF7FEFF 		bl	VL6180_RdByte
 1998              	.LVL240:
1355:dev/BSP/Components/vl6180/vl6180_api.c **** 			VL6180_ErrLog("SYSRANGE_MAX_CONVERGENCE_TIME rd fail");
 1999              		.loc 1 1355 3 is_stmt 1 view .LVU753
1355:dev/BSP/Components/vl6180/vl6180_api.c **** 			VL6180_ErrLog("SYSRANGE_MAX_CONVERGENCE_TIME rd fail");
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 86


 2000              		.loc 1 1355 6 is_stmt 0 view .LVU754
 2001 0014 08B1     		cbz	r0, .L143
 2002              	.L139:
1380:dev/BSP/Components/vl6180/vl6180_api.c **** 
 2003              		.loc 1 1380 1 view .LVU755
 2004 0016 03B0     		add	sp, sp, #12
 2005              	.LCFI20:
 2006              		.cfi_remember_state
 2007              		.cfi_def_cfa_offset 20
 2008              		@ sp needed
 2009 0018 F0BD     		pop	{r4, r5, r6, r7, pc}
 2010              	.LVL241:
 2011              	.L143:
 2012              	.LCFI21:
 2013              		.cfi_restore_state
1359:dev/BSP/Components/vl6180/vl6180_api.c **** 		AveTime = _GetAveTotalTime(dev);
 2014              		.loc 1 1359 3 is_stmt 1 view .LVU756
1359:dev/BSP/Components/vl6180/vl6180_api.c **** 		AveTime = _GetAveTotalTime(dev);
 2015              		.loc 1 1359 14 is_stmt 0 view .LVU757
 2016 001a 9DF80370 		ldrb	r7, [sp, #3]	@ zero_extendqisi2
 2017              	.LVL242:
1360:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (AveTime < 0) {
 2018              		.loc 1 1360 3 is_stmt 1 view .LVU758
1360:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (AveTime < 0) {
 2019              		.loc 1 1360 13 is_stmt 0 view .LVU759
 2020 001e 2046     		mov	r0, r4
 2021 0020 FFF7FEFF 		bl	_GetAveTotalTime
 2022              	.LVL243:
1361:dev/BSP/Components/vl6180/vl6180_api.c **** 			status = -1;
 2023              		.loc 1 1361 3 is_stmt 1 view .LVU760
1361:dev/BSP/Components/vl6180/vl6180_api.c **** 			status = -1;
 2024              		.loc 1 1361 6 is_stmt 0 view .LVU761
 2025 0024 0028     		cmp	r0, #0
1361:dev/BSP/Components/vl6180/vl6180_api.c **** 			status = -1;
 2026              		.loc 1 1361 6 view .LVU762
 2027 0026 1EDB     		blt	.L141
1366:dev/BSP/Components/vl6180/vl6180_api.c **** 		status = VL6180_RdDWord(dev, 0xB8, &fineThresh);
 2028              		.loc 1 1366 3 is_stmt 1 view .LVU763
1366:dev/BSP/Components/vl6180/vl6180_api.c **** 		status = VL6180_RdDWord(dev, 0xB8, &fineThresh);
 2029              		.loc 1 1366 31 is_stmt 0 view .LVU764
 2030 0028 4FF47A72 		mov	r2, #1000
 2031 002c 02FB07F2 		mul	r2, r2, r7
1366:dev/BSP/Components/vl6180/vl6180_api.c **** 		status = VL6180_RdDWord(dev, 0xB8, &fineThresh);
 2032              		.loc 1 1366 18 view .LVU765
 2033 0030 171A     		subs	r7, r2, r0
 2034              	.LVL244:
1367:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (status) {
 2035              		.loc 1 1367 3 is_stmt 1 view .LVU766
1367:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (status) {
 2036              		.loc 1 1367 12 is_stmt 0 view .LVU767
 2037 0032 01AA     		add	r2, sp, #4
 2038 0034 B821     		movs	r1, #184
 2039 0036 2046     		mov	r0, r4
 2040              	.LVL245:
1367:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (status) {
 2041              		.loc 1 1367 12 view .LVU768
 2042 0038 FFF7FEFF 		bl	VL6180_RdDWord
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 87


 2043              	.LVL246:
1368:dev/BSP/Components/vl6180/vl6180_api.c **** 			VL6180_ErrLog("reg 0xB8 rd fail");
 2044              		.loc 1 1368 3 is_stmt 1 view .LVU769
1368:dev/BSP/Components/vl6180/vl6180_api.c **** 			VL6180_ErrLog("reg 0xB8 rd fail");
 2045              		.loc 1 1368 6 is_stmt 0 view .LVU770
 2046 003c 0028     		cmp	r0, #0
 2047 003e EAD1     		bne	.L139
1372:dev/BSP/Components/vl6180/vl6180_api.c **** 		eceThresh = ece_factor_m * cEceSampleTime_us * fineThresh / (convergTime_us * ece_factor_d);
 2048              		.loc 1 1372 3 is_stmt 1 view .LVU771
1372:dev/BSP/Components/vl6180/vl6180_api.c **** 		eceThresh = ece_factor_m * cEceSampleTime_us * fineThresh / (convergTime_us * ece_factor_d);
 2049              		.loc 1 1372 14 is_stmt 0 view .LVU772
 2050 0040 019A     		ldr	r2, [sp, #4]
 2051 0042 1202     		lsls	r2, r2, #8
 2052 0044 0192     		str	r2, [sp, #4]
1373:dev/BSP/Components/vl6180/vl6180_api.c **** 
 2053              		.loc 1 1373 3 is_stmt 1 view .LVU773
1373:dev/BSP/Components/vl6180/vl6180_api.c **** 
 2054              		.loc 1 1373 48 is_stmt 0 view .LVU774
 2055 0046 06FB02F2 		mul	r2, r6, r2
 2056 004a 4FF4FA70 		mov	r0, #500
 2057              	.LVL247:
1373:dev/BSP/Components/vl6180/vl6180_api.c **** 
 2058              		.loc 1 1373 48 view .LVU775
 2059 004e 00FB02F2 		mul	r2, r0, r2
1373:dev/BSP/Components/vl6180/vl6180_api.c **** 
 2060              		.loc 1 1373 79 view .LVU776
 2061 0052 07FB05F0 		mul	r0, r7, r5
1373:dev/BSP/Components/vl6180/vl6180_api.c **** 
 2062              		.loc 1 1373 13 view .LVU777
 2063 0056 B2FBF0F2 		udiv	r2, r2, r0
 2064              	.LVL248:
1375:dev/BSP/Components/vl6180/vl6180_api.c **** 	} while (0);
 2065              		.loc 1 1375 3 is_stmt 1 view .LVU778
1375:dev/BSP/Components/vl6180/vl6180_api.c **** 	} while (0);
 2066              		.loc 1 1375 12 is_stmt 0 view .LVU779
 2067 005a 92B2     		uxth	r2, r2
 2068              	.LVL249:
1375:dev/BSP/Components/vl6180/vl6180_api.c **** 	} while (0);
 2069              		.loc 1 1375 12 view .LVU780
 2070 005c 2221     		movs	r1, #34
 2071 005e 2046     		mov	r0, r4
 2072              	.LVL250:
1375:dev/BSP/Components/vl6180/vl6180_api.c **** 	} while (0);
 2073              		.loc 1 1375 12 view .LVU781
 2074 0060 FFF7FEFF 		bl	VL6180_WrWord
 2075              	.LVL251:
1375:dev/BSP/Components/vl6180/vl6180_api.c **** 	} while (0);
 2076              		.loc 1 1375 12 view .LVU782
 2077 0064 D7E7     		b	.L139
 2078              	.LVL252:
 2079              	.L141:
1362:dev/BSP/Components/vl6180/vl6180_api.c **** 			break;
 2080              		.loc 1 1362 11 view .LVU783
 2081 0066 4FF0FF30 		mov	r0, #-1
 2082              	.LVL253:
1376:dev/BSP/Components/vl6180/vl6180_api.c **** 
 2083              		.loc 1 1376 10 is_stmt 1 view .LVU784
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 88


1378:dev/BSP/Components/vl6180/vl6180_api.c **** 	return status;
 2084              		.loc 1 1378 2 view .LVU785
1379:dev/BSP/Components/vl6180/vl6180_api.c **** }
 2085              		.loc 1 1379 2 view .LVU786
1379:dev/BSP/Components/vl6180/vl6180_api.c **** }
 2086              		.loc 1 1379 9 is_stmt 0 view .LVU787
 2087 006a D4E7     		b	.L139
 2088              		.cfi_endproc
 2089              	.LFE44:
 2091              		.section	.text._UpscaleInitPatch0,"ax",%progbits
 2092              		.align	1
 2093              		.syntax unified
 2094              		.thumb
 2095              		.thumb_func
 2096              		.fpu fpv5-d16
 2098              	_UpscaleInitPatch0:
 2099              	.LVL254:
 2100              	.LFB24:
 863:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
 2101              		.loc 1 863 1 is_stmt 1 view -0
 2102              		.cfi_startproc
 2103              		@ args = 0, pretend = 0, frame = 0
 2104              		@ frame_needed = 0, uses_anonymous_args = 0
 863:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
 2105              		.loc 1 863 1 is_stmt 0 view .LVU789
 2106 0000 08B5     		push	{r3, lr}
 2107              	.LCFI22:
 2108              		.cfi_def_cfa_offset 8
 2109              		.cfi_offset 3, -8
 2110              		.cfi_offset 14, -4
 864:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint32_t CalValue = 0;
 2111              		.loc 1 864 2 is_stmt 1 view .LVU790
 865:dev/BSP/Components/vl6180/vl6180_api.c **** 	CalValue = VL6180DevDataGet(dev, Part2PartAmbNVM);
 2112              		.loc 1 865 2 view .LVU791
 2113              	.LVL255:
 866:dev/BSP/Components/vl6180/vl6180_api.c **** 	status = VL6180_WrDWord(dev, 0xDA, CalValue);
 2114              		.loc 1 866 2 view .LVU792
 867:dev/BSP/Components/vl6180/vl6180_api.c **** 	return status;
 2115              		.loc 1 867 2 view .LVU793
 867:dev/BSP/Components/vl6180/vl6180_api.c **** 	return status;
 2116              		.loc 1 867 11 is_stmt 0 view .LVU794
 2117 0002 0268     		ldr	r2, [r0]
 2118 0004 DA21     		movs	r1, #218
 2119 0006 FFF7FEFF 		bl	VL6180_WrDWord
 2120              	.LVL256:
 868:dev/BSP/Components/vl6180/vl6180_api.c **** }
 2121              		.loc 1 868 2 is_stmt 1 view .LVU795
 869:dev/BSP/Components/vl6180/vl6180_api.c **** 
 2122              		.loc 1 869 1 is_stmt 0 view .LVU796
 2123 000a 08BD     		pop	{r3, pc}
 2124              		.cfi_endproc
 2125              	.LFE24:
 2127              		.section	.text.VL6180_RangeGetStatusErrString,"ax",%progbits
 2128              		.align	1
 2129              		.global	VL6180_RangeGetStatusErrString
 2130              		.syntax unified
 2131              		.thumb
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 89


 2132              		.thumb_func
 2133              		.fpu fpv5-d16
 2135              	VL6180_RangeGetStatusErrString:
 2136              	.LVL257:
 2137              	.LFB0:
 101:dev/BSP/Components/vl6180/vl6180_api.c **** 	if (RangeErrCode > sizeof(VL6180_RangeStatusErrString) / sizeof(VL6180_RangeStatusErrString[0]))
 2138              		.loc 1 101 1 is_stmt 1 view -0
 2139              		.cfi_startproc
 2140              		@ args = 0, pretend = 0, frame = 0
 2141              		@ frame_needed = 0, uses_anonymous_args = 0
 2142              		@ link register save eliminated.
 102:dev/BSP/Components/vl6180/vl6180_api.c **** 		return NULL;
 2143              		.loc 1 102 2 view .LVU798
 102:dev/BSP/Components/vl6180/vl6180_api.c **** 		return NULL;
 2144              		.loc 1 102 5 is_stmt 0 view .LVU799
 2145 0000 1328     		cmp	r0, #19
 2146 0002 03D8     		bhi	.L148
 104:dev/BSP/Components/vl6180/vl6180_api.c **** }
 2147              		.loc 1 104 2 is_stmt 1 view .LVU800
 104:dev/BSP/Components/vl6180/vl6180_api.c **** }
 2148              		.loc 1 104 37 is_stmt 0 view .LVU801
 2149 0004 024B     		ldr	r3, .L149
 2150 0006 53F82000 		ldr	r0, [r3, r0, lsl #2]
 2151              	.LVL258:
 104:dev/BSP/Components/vl6180/vl6180_api.c **** }
 2152              		.loc 1 104 37 view .LVU802
 2153 000a 7047     		bx	lr
 2154              	.LVL259:
 2155              	.L148:
 103:dev/BSP/Components/vl6180/vl6180_api.c **** 	return  VL6180_RangeStatusErrString[RangeErrCode];
 2156              		.loc 1 103 10 view .LVU803
 2157 000c 0020     		movs	r0, #0
 2158              	.LVL260:
 105:dev/BSP/Components/vl6180/vl6180_api.c **** #endif
 2159              		.loc 1 105 1 view .LVU804
 2160 000e 7047     		bx	lr
 2161              	.L150:
 2162              		.align	2
 2163              	.L149:
 2164 0010 00000000 		.word	.LANCHOR0
 2165              		.cfi_endproc
 2166              	.LFE0:
 2168              		.section	.text.VL6180_WaitDeviceBooted,"ax",%progbits
 2169              		.align	1
 2170              		.global	VL6180_WaitDeviceBooted
 2171              		.syntax unified
 2172              		.thumb
 2173              		.thumb_func
 2174              		.fpu fpv5-d16
 2176              	VL6180_WaitDeviceBooted:
 2177              	.LVL261:
 2178              	.LFB1:
 176:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint8_t FreshOutReset;
 2179              		.loc 1 176 1 is_stmt 1 view -0
 2180              		.cfi_startproc
 2181              		@ args = 0, pretend = 0, frame = 8
 2182              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 90


 176:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint8_t FreshOutReset;
 2183              		.loc 1 176 1 is_stmt 0 view .LVU806
 2184 0000 10B5     		push	{r4, lr}
 2185              	.LCFI23:
 2186              		.cfi_def_cfa_offset 8
 2187              		.cfi_offset 4, -8
 2188              		.cfi_offset 14, -4
 2189 0002 82B0     		sub	sp, sp, #8
 2190              	.LCFI24:
 2191              		.cfi_def_cfa_offset 16
 2192 0004 0446     		mov	r4, r0
 2193              	.LVL262:
 2194              	.L153:
 177:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
 2195              		.loc 1 177 2 is_stmt 1 discriminator 2 view .LVU807
 178:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_START("");
 2196              		.loc 1 178 2 discriminator 2 view .LVU808
 179:dev/BSP/Components/vl6180/vl6180_api.c **** 	do {
 2197              		.loc 1 179 2 discriminator 2 view .LVU809
 180:dev/BSP/Components/vl6180/vl6180_api.c **** 		status = VL6180_RdByte(dev, SYSTEM_FRESH_OUT_OF_RESET, &FreshOutReset);
 2198              		.loc 1 180 2 discriminator 2 view .LVU810
 181:dev/BSP/Components/vl6180/vl6180_api.c **** 	} while (FreshOutReset != 1 && status == 0);
 2199              		.loc 1 181 3 discriminator 2 view .LVU811
 181:dev/BSP/Components/vl6180/vl6180_api.c **** 	} while (FreshOutReset != 1 && status == 0);
 2200              		.loc 1 181 12 is_stmt 0 discriminator 2 view .LVU812
 2201 0006 0DF10702 		add	r2, sp, #7
 2202 000a 1621     		movs	r1, #22
 2203 000c 2046     		mov	r0, r4
 2204 000e FFF7FEFF 		bl	VL6180_RdByte
 2205              	.LVL263:
 182:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_END(status);
 2206              		.loc 1 182 10 is_stmt 1 discriminator 2 view .LVU813
 182:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_END(status);
 2207              		.loc 1 182 25 is_stmt 0 discriminator 2 view .LVU814
 2208 0012 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 182:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_END(status);
 2209              		.loc 1 182 2 discriminator 2 view .LVU815
 2210 0016 012B     		cmp	r3, #1
 2211 0018 01D0     		beq	.L151
 182:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_END(status);
 2212              		.loc 1 182 30 discriminator 1 view .LVU816
 2213 001a 0028     		cmp	r0, #0
 2214 001c F3D0     		beq	.L153
 2215              	.L151:
 185:dev/BSP/Components/vl6180/vl6180_api.c **** 
 2216              		.loc 1 185 1 view .LVU817
 2217 001e 02B0     		add	sp, sp, #8
 2218              	.LCFI25:
 2219              		.cfi_def_cfa_offset 8
 2220              		@ sp needed
 2221 0020 10BD     		pop	{r4, pc}
 185:dev/BSP/Components/vl6180/vl6180_api.c **** 
 2222              		.loc 1 185 1 view .LVU818
 2223              		.cfi_endproc
 2224              	.LFE1:
 2226              		.section	.text.VL6180_GetOffsetCalibrationData,"ax",%progbits
 2227              		.align	1
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 91


 2228              		.global	VL6180_GetOffsetCalibrationData
 2229              		.syntax unified
 2230              		.thumb
 2231              		.thumb_func
 2232              		.fpu fpv5-d16
 2234              	VL6180_GetOffsetCalibrationData:
 2235              	.LVL264:
 2236              	.LFB3:
 263:dev/BSP/Components/vl6180/vl6180_api.c **** 	int8_t offset;
 2237              		.loc 1 263 1 is_stmt 1 view -0
 2238              		.cfi_startproc
 2239              		@ args = 0, pretend = 0, frame = 0
 2240              		@ frame_needed = 0, uses_anonymous_args = 0
 2241              		@ link register save eliminated.
 264:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_START("");
 2242              		.loc 1 264 2 view .LVU820
 265:dev/BSP/Components/vl6180/vl6180_api.c **** 	offset = VL6180DevDataGet(dev, Part2PartOffsetNVM);
 2243              		.loc 1 265 2 view .LVU821
 266:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_END(offset);
 2244              		.loc 1 266 2 view .LVU822
 267:dev/BSP/Components/vl6180/vl6180_api.c **** 	return offset;
 2245              		.loc 1 267 2 view .LVU823
 268:dev/BSP/Components/vl6180/vl6180_api.c **** }
 2246              		.loc 1 268 2 view .LVU824
 269:dev/BSP/Components/vl6180/vl6180_api.c **** 
 2247              		.loc 1 269 1 is_stmt 0 view .LVU825
 2248 0000 90F98900 		ldrsb	r0, [r0, #137]
 2249              	.LVL265:
 269:dev/BSP/Components/vl6180/vl6180_api.c **** 
 2250              		.loc 1 269 1 view .LVU826
 2251 0004 7047     		bx	lr
 2252              		.cfi_endproc
 2253              	.LFE3:
 2255              		.section	.text.VL6180_SetOffsetCalibrationData,"ax",%progbits
 2256              		.align	1
 2257              		.global	VL6180_SetOffsetCalibrationData
 2258              		.syntax unified
 2259              		.thumb
 2260              		.thumb_func
 2261              		.fpu fpv5-d16
 2263              	VL6180_SetOffsetCalibrationData:
 2264              	.LVL266:
 2265              	.LFB4:
 272:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
 2266              		.loc 1 272 1 is_stmt 1 view -0
 2267              		.cfi_startproc
 2268              		@ args = 0, pretend = 0, frame = 0
 2269              		@ frame_needed = 0, uses_anonymous_args = 0
 272:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
 2270              		.loc 1 272 1 is_stmt 0 view .LVU828
 2271 0000 08B5     		push	{r3, lr}
 2272              	.LCFI26:
 2273              		.cfi_def_cfa_offset 8
 2274              		.cfi_offset 3, -8
 2275              		.cfi_offset 14, -4
 273:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_START("%d", offset);
 2276              		.loc 1 273 2 is_stmt 1 view .LVU829
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 92


 274:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180DevDataSet(dev, Part2PartOffsetNVM, offset);
 2277              		.loc 1 274 2 view .LVU830
 275:dev/BSP/Components/vl6180/vl6180_api.c **** 	offset /= _GetUpscale(dev);
 2278              		.loc 1 275 2 view .LVU831
 2279 0002 80F88910 		strb	r1, [r0, #137]
 276:dev/BSP/Components/vl6180/vl6180_api.c **** 	status = VL6180_WrByte(dev, SYSRANGE_PART_TO_PART_RANGE_OFFSET, offset);
 2280              		.loc 1 276 2 view .LVU832
 276:dev/BSP/Components/vl6180/vl6180_api.c **** 	status = VL6180_WrByte(dev, SYSRANGE_PART_TO_PART_RANGE_OFFSET, offset);
 2281              		.loc 1 276 12 is_stmt 0 view .LVU833
 2282 0006 827C     		ldrb	r2, [r0, #18]	@ zero_extendqisi2
 276:dev/BSP/Components/vl6180/vl6180_api.c **** 	status = VL6180_WrByte(dev, SYSRANGE_PART_TO_PART_RANGE_OFFSET, offset);
 2283              		.loc 1 276 9 view .LVU834
 2284 0008 91FBF2F2 		sdiv	r2, r1, r2
 2285              	.LVL267:
 277:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_END(status);
 2286              		.loc 1 277 2 is_stmt 1 view .LVU835
 277:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_END(status);
 2287              		.loc 1 277 11 is_stmt 0 view .LVU836
 2288 000c D2B2     		uxtb	r2, r2
 277:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_END(status);
 2289              		.loc 1 277 11 view .LVU837
 2290 000e 2421     		movs	r1, #36
 2291 0010 FFF7FEFF 		bl	VL6180_WrByte
 2292              	.LVL268:
 278:dev/BSP/Components/vl6180/vl6180_api.c **** 	return status;
 2293              		.loc 1 278 2 is_stmt 1 view .LVU838
 279:dev/BSP/Components/vl6180/vl6180_api.c **** }
 2294              		.loc 1 279 2 view .LVU839
 280:dev/BSP/Components/vl6180/vl6180_api.c **** 
 2295              		.loc 1 280 1 is_stmt 0 view .LVU840
 2296 0014 08BD     		pop	{r3, pc}
 2297              		.cfi_endproc
 2298              	.LFE4:
 2300              		.section	.text.VL6180_SetI2CAddress,"ax",%progbits
 2301              		.align	1
 2302              		.global	VL6180_SetI2CAddress
 2303              		.syntax unified
 2304              		.thumb
 2305              		.thumb_func
 2306              		.fpu fpv5-d16
 2308              	VL6180_SetI2CAddress:
 2309              	.LVL269:
 2310              	.LFB6:
 299:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
 2311              		.loc 1 299 1 is_stmt 1 view -0
 2312              		.cfi_startproc
 2313              		@ args = 0, pretend = 0, frame = 0
 2314              		@ frame_needed = 0, uses_anonymous_args = 0
 299:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
 2315              		.loc 1 299 1 is_stmt 0 view .LVU842
 2316 0000 08B5     		push	{r3, lr}
 2317              	.LCFI27:
 2318              		.cfi_def_cfa_offset 8
 2319              		.cfi_offset 3, -8
 2320              		.cfi_offset 14, -4
 300:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_START("");
 2321              		.loc 1 300 2 is_stmt 1 view .LVU843
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 93


 301:dev/BSP/Components/vl6180/vl6180_api.c **** 
 2322              		.loc 1 301 2 view .LVU844
 303:dev/BSP/Components/vl6180/vl6180_api.c **** 	if (status) {
 2323              		.loc 1 303 2 view .LVU845
 303:dev/BSP/Components/vl6180/vl6180_api.c **** 	if (status) {
 2324              		.loc 1 303 11 is_stmt 0 view .LVU846
 2325 0002 4A08     		lsrs	r2, r1, #1
 2326 0004 40F21221 		movw	r1, #530
 2327              	.LVL270:
 303:dev/BSP/Components/vl6180/vl6180_api.c **** 	if (status) {
 2328              		.loc 1 303 11 view .LVU847
 2329 0008 FFF7FEFF 		bl	VL6180_WrByte
 2330              	.LVL271:
 304:dev/BSP/Components/vl6180/vl6180_api.c **** 		VL6180_ErrLog("new i2c addr Wr fail");
 2331              		.loc 1 304 2 is_stmt 1 view .LVU848
 305:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
 2332              		.loc 1 305 3 view .LVU849
 307:dev/BSP/Components/vl6180/vl6180_api.c **** 	return status;
 2333              		.loc 1 307 2 view .LVU850
 308:dev/BSP/Components/vl6180/vl6180_api.c **** }
 2334              		.loc 1 308 2 view .LVU851
 309:dev/BSP/Components/vl6180/vl6180_api.c **** 
 2335              		.loc 1 309 1 is_stmt 0 view .LVU852
 2336 000c 08BD     		pop	{r3, pc}
 2337              		.cfi_endproc
 2338              	.LFE6:
 2340              		.section	.text.VL6180_GetUpperLimit,"ax",%progbits
 2341              		.align	1
 2342              		.global	VL6180_GetUpperLimit
 2343              		.syntax unified
 2344              		.thumb
 2345              		.thumb_func
 2346              		.fpu fpv5-d16
 2348              	VL6180_GetUpperLimit:
 2349              	.LVL272:
 2350              	.LFB7:
 312:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint16_t limit;
 2351              		.loc 1 312 1 is_stmt 1 view -0
 2352              		.cfi_startproc
 2353              		@ args = 0, pretend = 0, frame = 0
 2354              		@ frame_needed = 0, uses_anonymous_args = 0
 2355              		@ link register save eliminated.
 313:dev/BSP/Components/vl6180/vl6180_api.c **** 	int scaling;
 2356              		.loc 1 313 2 view .LVU854
 314:dev/BSP/Components/vl6180/vl6180_api.c **** 
 2357              		.loc 1 314 2 view .LVU855
 316:dev/BSP/Components/vl6180/vl6180_api.c **** 
 2358              		.loc 1 316 2 view .LVU856
 318:dev/BSP/Components/vl6180/vl6180_api.c **** 	/* FIXME we do assume here _GetUpscale is valid if  user call us prior to init we may overflow the
 2359              		.loc 1 318 2 view .LVU857
 318:dev/BSP/Components/vl6180/vl6180_api.c **** 	/* FIXME we do assume here _GetUpscale is valid if  user call us prior to init we may overflow the
 2360              		.loc 1 318 12 is_stmt 0 view .LVU858
 2361 0000 837C     		ldrb	r3, [r0, #18]	@ zero_extendqisi2
 2362              	.LVL273:
 320:dev/BSP/Components/vl6180/vl6180_api.c **** 
 2363              		.loc 1 320 2 is_stmt 1 view .LVU859
 320:dev/BSP/Components/vl6180/vl6180_api.c **** 
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 94


 2364              		.loc 1 320 35 is_stmt 0 view .LVU860
 2365 0002 013B     		subs	r3, r3, #1
 2366              	.LVL274:
 322:dev/BSP/Components/vl6180/vl6180_api.c **** 	return limit;
 2367              		.loc 1 322 2 is_stmt 1 view .LVU861
 323:dev/BSP/Components/vl6180/vl6180_api.c **** }
 2368              		.loc 1 323 2 view .LVU862
 324:dev/BSP/Components/vl6180/vl6180_api.c **** 
 2369              		.loc 1 324 1 is_stmt 0 view .LVU863
 2370 0004 014A     		ldr	r2, .L161
 2371 0006 32F81300 		ldrh	r0, [r2, r3, lsl #1]
 2372              	.LVL275:
 324:dev/BSP/Components/vl6180/vl6180_api.c **** 
 2373              		.loc 1 324 1 view .LVU864
 2374 000a 7047     		bx	lr
 2375              	.L162:
 2376              		.align	2
 2377              	.L161:
 2378 000c 00000000 		.word	.LANCHOR1
 2379              		.cfi_endproc
 2380              	.LFE7:
 2382              		.section	.text.VL6180_SetGroupParamHold,"ax",%progbits
 2383              		.align	1
 2384              		.global	VL6180_SetGroupParamHold
 2385              		.syntax unified
 2386              		.thumb
 2387              		.thumb_func
 2388              		.fpu fpv5-d16
 2390              	VL6180_SetGroupParamHold:
 2391              	.LVL276:
 2392              	.LFB9:
 360:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
 2393              		.loc 1 360 1 is_stmt 1 view -0
 2394              		.cfi_startproc
 2395              		@ args = 0, pretend = 0, frame = 0
 2396              		@ frame_needed = 0, uses_anonymous_args = 0
 360:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
 2397              		.loc 1 360 1 is_stmt 0 view .LVU866
 2398 0000 08B5     		push	{r3, lr}
 2399              	.LCFI28:
 2400              		.cfi_def_cfa_offset 8
 2401              		.cfi_offset 3, -8
 2402              		.cfi_offset 14, -4
 361:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint8_t value;
 2403              		.loc 1 361 2 is_stmt 1 view .LVU867
 362:dev/BSP/Components/vl6180/vl6180_api.c **** 
 2404              		.loc 1 362 2 view .LVU868
 364:dev/BSP/Components/vl6180/vl6180_api.c **** 	if (Hold)
 2405              		.loc 1 364 2 view .LVU869
 365:dev/BSP/Components/vl6180/vl6180_api.c **** 		value = 1;
 2406              		.loc 1 365 2 view .LVU870
 365:dev/BSP/Components/vl6180/vl6180_api.c **** 		value = 1;
 2407              		.loc 1 365 5 is_stmt 0 view .LVU871
 2408 0002 21B1     		cbz	r1, .L165
 366:dev/BSP/Components/vl6180/vl6180_api.c **** 	else
 2409              		.loc 1 366 9 view .LVU872
 2410 0004 0122     		movs	r2, #1
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 95


 2411              	.L164:
 2412              	.LVL277:
 369:dev/BSP/Components/vl6180/vl6180_api.c **** 
 2413              		.loc 1 369 2 is_stmt 1 view .LVU873
 369:dev/BSP/Components/vl6180/vl6180_api.c **** 
 2414              		.loc 1 369 11 is_stmt 0 view .LVU874
 2415 0006 1721     		movs	r1, #23
 2416              	.LVL278:
 369:dev/BSP/Components/vl6180/vl6180_api.c **** 
 2417              		.loc 1 369 11 view .LVU875
 2418 0008 FFF7FEFF 		bl	VL6180_WrByte
 2419              	.LVL279:
 371:dev/BSP/Components/vl6180/vl6180_api.c **** 	return status;
 2420              		.loc 1 371 2 is_stmt 1 view .LVU876
 372:dev/BSP/Components/vl6180/vl6180_api.c **** 
 2421              		.loc 1 372 2 view .LVU877
 374:dev/BSP/Components/vl6180/vl6180_api.c **** 
 2422              		.loc 1 374 1 is_stmt 0 view .LVU878
 2423 000c 08BD     		pop	{r3, pc}
 2424              	.LVL280:
 2425              	.L165:
 368:dev/BSP/Components/vl6180/vl6180_api.c **** 	status = VL6180_WrByte(dev, SYSTEM_GROUPED_PARAMETER_HOLD, value);
 2426              		.loc 1 368 9 view .LVU879
 2427 000e 0022     		movs	r2, #0
 2428 0010 F9E7     		b	.L164
 2429              		.cfi_endproc
 2430              	.LFE9:
 2432              		.section	.text.VL6180_FilterSetState,"ax",%progbits
 2433              		.align	1
 2434              		.global	VL6180_FilterSetState
 2435              		.syntax unified
 2436              		.thumb
 2437              		.thumb_func
 2438              		.fpu fpv5-d16
 2440              	VL6180_FilterSetState:
 2441              	.LVL281:
 2442              	.LFB14:
 644:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
 2443              		.loc 1 644 1 is_stmt 1 view -0
 2444              		.cfi_startproc
 2445              		@ args = 0, pretend = 0, frame = 0
 2446              		@ frame_needed = 0, uses_anonymous_args = 0
 2447              		@ link register save eliminated.
 645:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_START("%d", state);
 2448              		.loc 1 645 2 view .LVU881
 646:dev/BSP/Components/vl6180/vl6180_api.c **** 	#if VL6180_WRAP_AROUND_FILTER_SUPPORT
 2449              		.loc 1 646 2 view .LVU882
 648:dev/BSP/Components/vl6180/vl6180_api.c **** 	status = 0;
 2450              		.loc 1 648 2 view .LVU883
 2451 0000 C174     		strb	r1, [r0, #19]
 649:dev/BSP/Components/vl6180/vl6180_api.c **** 	#else
 2452              		.loc 1 649 2 view .LVU884
 2453              	.LVL282:
 653:dev/BSP/Components/vl6180/vl6180_api.c **** 	return status;
 2454              		.loc 1 653 2 view .LVU885
 654:dev/BSP/Components/vl6180/vl6180_api.c **** }
 2455              		.loc 1 654 2 view .LVU886
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 96


 655:dev/BSP/Components/vl6180/vl6180_api.c **** 
 2456              		.loc 1 655 1 is_stmt 0 view .LVU887
 2457 0002 0020     		movs	r0, #0
 2458              	.LVL283:
 655:dev/BSP/Components/vl6180/vl6180_api.c **** 
 2459              		.loc 1 655 1 view .LVU888
 2460 0004 7047     		bx	lr
 2461              		.cfi_endproc
 2462              	.LFE14:
 2464              		.section	.text.VL6180_FilterGetState,"ax",%progbits
 2465              		.align	1
 2466              		.global	VL6180_FilterGetState
 2467              		.syntax unified
 2468              		.thumb
 2469              		.thumb_func
 2470              		.fpu fpv5-d16
 2472              	VL6180_FilterGetState:
 2473              	.LVL284:
 2474              	.LFB15:
 658:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
 2475              		.loc 1 658 1 is_stmt 1 view -0
 2476              		.cfi_startproc
 2477              		@ args = 0, pretend = 0, frame = 0
 2478              		@ frame_needed = 0, uses_anonymous_args = 0
 2479              		@ link register save eliminated.
 659:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_START("");
 2480              		.loc 1 659 2 view .LVU890
 660:dev/BSP/Components/vl6180/vl6180_api.c **** 	#if VL6180_WRAP_AROUND_FILTER_SUPPORT
 2481              		.loc 1 660 2 view .LVU891
 662:dev/BSP/Components/vl6180/vl6180_api.c **** 	#else
 2482              		.loc 1 662 2 view .LVU892
 666:dev/BSP/Components/vl6180/vl6180_api.c **** 	return status;
 2483              		.loc 1 666 2 view .LVU893
 667:dev/BSP/Components/vl6180/vl6180_api.c **** }
 2484              		.loc 1 667 2 view .LVU894
 668:dev/BSP/Components/vl6180/vl6180_api.c **** 
 2485              		.loc 1 668 1 is_stmt 0 view .LVU895
 2486 0000 C07C     		ldrb	r0, [r0, #19]	@ zero_extendqisi2
 2487              	.LVL285:
 668:dev/BSP/Components/vl6180/vl6180_api.c **** 
 2488              		.loc 1 668 1 view .LVU896
 2489 0002 7047     		bx	lr
 2490              		.cfi_endproc
 2491              	.LFE15:
 2493              		.section	.text.VL6180_RangeGetResult,"ax",%progbits
 2494              		.align	1
 2495              		.global	VL6180_RangeGetResult
 2496              		.syntax unified
 2497              		.thumb
 2498              		.thumb_func
 2499              		.fpu fpv5-d16
 2501              	VL6180_RangeGetResult:
 2502              	.LVL286:
 2503              	.LFB16:
 671:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
 2504              		.loc 1 671 1 is_stmt 1 view -0
 2505              		.cfi_startproc
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 97


 2506              		@ args = 0, pretend = 0, frame = 8
 2507              		@ frame_needed = 0, uses_anonymous_args = 0
 671:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
 2508              		.loc 1 671 1 is_stmt 0 view .LVU898
 2509 0000 30B5     		push	{r4, r5, lr}
 2510              	.LCFI29:
 2511              		.cfi_def_cfa_offset 12
 2512              		.cfi_offset 4, -12
 2513              		.cfi_offset 5, -8
 2514              		.cfi_offset 14, -4
 2515 0002 83B0     		sub	sp, sp, #12
 2516              	.LCFI30:
 2517              		.cfi_def_cfa_offset 24
 2518 0004 0546     		mov	r5, r0
 2519 0006 0C46     		mov	r4, r1
 672:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint8_t RawRange;
 2520              		.loc 1 672 2 is_stmt 1 view .LVU899
 673:dev/BSP/Components/vl6180/vl6180_api.c **** 	int32_t Upscale;
 2521              		.loc 1 673 2 view .LVU900
 674:dev/BSP/Components/vl6180/vl6180_api.c **** 
 2522              		.loc 1 674 2 view .LVU901
 676:dev/BSP/Components/vl6180/vl6180_api.c **** 
 2523              		.loc 1 676 2 view .LVU902
 678:dev/BSP/Components/vl6180/vl6180_api.c **** 	if (!status) {
 2524              		.loc 1 678 2 view .LVU903
 678:dev/BSP/Components/vl6180/vl6180_api.c **** 	if (!status) {
 2525              		.loc 1 678 11 is_stmt 0 view .LVU904
 2526 0008 0DF10702 		add	r2, sp, #7
 2527 000c 6221     		movs	r1, #98
 2528              	.LVL287:
 678:dev/BSP/Components/vl6180/vl6180_api.c **** 	if (!status) {
 2529              		.loc 1 678 11 view .LVU905
 2530 000e FFF7FEFF 		bl	VL6180_RdByte
 2531              	.LVL288:
 679:dev/BSP/Components/vl6180/vl6180_api.c **** 		Upscale = _GetUpscale(dev);
 2532              		.loc 1 679 2 is_stmt 1 view .LVU906
 679:dev/BSP/Components/vl6180/vl6180_api.c **** 		Upscale = _GetUpscale(dev);
 2533              		.loc 1 679 5 is_stmt 0 view .LVU907
 2534 0012 28B9     		cbnz	r0, .L169
 680:dev/BSP/Components/vl6180/vl6180_api.c **** 		*pRange_mm = Upscale * (int32_t)RawRange;
 2535              		.loc 1 680 3 is_stmt 1 view .LVU908
 680:dev/BSP/Components/vl6180/vl6180_api.c **** 		*pRange_mm = Upscale * (int32_t)RawRange;
 2536              		.loc 1 680 13 is_stmt 0 view .LVU909
 2537 0014 AB7C     		ldrb	r3, [r5, #18]	@ zero_extendqisi2
 2538              	.LVL289:
 681:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
 2539              		.loc 1 681 3 is_stmt 1 view .LVU910
 681:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
 2540              		.loc 1 681 26 is_stmt 0 view .LVU911
 2541 0016 9DF80720 		ldrb	r2, [sp, #7]	@ zero_extendqisi2
 681:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
 2542              		.loc 1 681 24 view .LVU912
 2543 001a 03FB02F3 		mul	r3, r3, r2
 2544              	.LVL290:
 681:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
 2545              		.loc 1 681 14 view .LVU913
 2546 001e 2360     		str	r3, [r4]
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 98


 2547              	.LVL291:
 683:dev/BSP/Components/vl6180/vl6180_api.c **** 	return status;
 2548              		.loc 1 683 2 is_stmt 1 view .LVU914
 684:dev/BSP/Components/vl6180/vl6180_api.c **** }
 2549              		.loc 1 684 2 view .LVU915
 2550              	.L169:
 685:dev/BSP/Components/vl6180/vl6180_api.c **** 
 2551              		.loc 1 685 1 is_stmt 0 view .LVU916
 2552 0020 03B0     		add	sp, sp, #12
 2553              	.LCFI31:
 2554              		.cfi_def_cfa_offset 12
 2555              		@ sp needed
 2556 0022 30BD     		pop	{r4, r5, pc}
 685:dev/BSP/Components/vl6180/vl6180_api.c **** 
 2557              		.loc 1 685 1 view .LVU917
 2558              		.cfi_endproc
 2559              	.LFE16:
 2561              		.section	.text.VL6180_RangeSetRawThresholds,"ax",%progbits
 2562              		.align	1
 2563              		.global	VL6180_RangeSetRawThresholds
 2564              		.syntax unified
 2565              		.thumb
 2566              		.thumb_func
 2567              		.fpu fpv5-d16
 2569              	VL6180_RangeSetRawThresholds:
 2570              	.LVL292:
 2571              	.LFB17:
 688:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
 2572              		.loc 1 688 1 is_stmt 1 view -0
 2573              		.cfi_startproc
 2574              		@ args = 0, pretend = 0, frame = 0
 2575              		@ frame_needed = 0, uses_anonymous_args = 0
 688:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
 2576              		.loc 1 688 1 is_stmt 0 view .LVU919
 2577 0000 38B5     		push	{r3, r4, r5, lr}
 2578              	.LCFI32:
 2579              		.cfi_def_cfa_offset 16
 2580              		.cfi_offset 3, -16
 2581              		.cfi_offset 4, -12
 2582              		.cfi_offset 5, -8
 2583              		.cfi_offset 14, -4
 2584 0002 0446     		mov	r4, r0
 2585 0004 0D46     		mov	r5, r1
 689:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_START("%d %d", (int) low, (int)high);
 2586              		.loc 1 689 2 is_stmt 1 view .LVU920
 690:dev/BSP/Components/vl6180/vl6180_api.c **** 	/* TODO we can optimize here grouping high/low in a word but that's cpu endianness dependent */
 2587              		.loc 1 690 2 view .LVU921
 692:dev/BSP/Components/vl6180/vl6180_api.c **** 	if (!status) {
 2588              		.loc 1 692 2 view .LVU922
 692:dev/BSP/Components/vl6180/vl6180_api.c **** 	if (!status) {
 2589              		.loc 1 692 11 is_stmt 0 view .LVU923
 2590 0006 1921     		movs	r1, #25
 2591              	.LVL293:
 692:dev/BSP/Components/vl6180/vl6180_api.c **** 	if (!status) {
 2592              		.loc 1 692 11 view .LVU924
 2593 0008 FFF7FEFF 		bl	VL6180_WrByte
 2594              	.LVL294:
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 99


 693:dev/BSP/Components/vl6180/vl6180_api.c **** 		status = VL6180_WrByte(dev, SYSRANGE_THRESH_LOW, low);
 2595              		.loc 1 693 2 is_stmt 1 view .LVU925
 693:dev/BSP/Components/vl6180/vl6180_api.c **** 		status = VL6180_WrByte(dev, SYSRANGE_THRESH_LOW, low);
 2596              		.loc 1 693 5 is_stmt 0 view .LVU926
 2597 000c 00B1     		cbz	r0, .L175
 2598              	.L172:
 699:dev/BSP/Components/vl6180/vl6180_api.c **** 
 2599              		.loc 1 699 1 view .LVU927
 2600 000e 38BD     		pop	{r3, r4, r5, pc}
 2601              	.LVL295:
 2602              	.L175:
 694:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
 2603              		.loc 1 694 3 is_stmt 1 view .LVU928
 694:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
 2604              		.loc 1 694 12 is_stmt 0 view .LVU929
 2605 0010 2A46     		mov	r2, r5
 2606 0012 1A21     		movs	r1, #26
 2607 0014 2046     		mov	r0, r4
 2608 0016 FFF7FEFF 		bl	VL6180_WrByte
 2609              	.LVL296:
 697:dev/BSP/Components/vl6180/vl6180_api.c **** 	return status;
 2610              		.loc 1 697 2 is_stmt 1 view .LVU930
 698:dev/BSP/Components/vl6180/vl6180_api.c **** }
 2611              		.loc 1 698 2 view .LVU931
 698:dev/BSP/Components/vl6180/vl6180_api.c **** }
 2612              		.loc 1 698 9 is_stmt 0 view .LVU932
 2613 001a F8E7     		b	.L172
 2614              		.cfi_endproc
 2615              	.LFE17:
 2617              		.section	.text.VL6180_RangeSetThresholds,"ax",%progbits
 2618              		.align	1
 2619              		.global	VL6180_RangeSetThresholds
 2620              		.syntax unified
 2621              		.thumb
 2622              		.thumb_func
 2623              		.fpu fpv5-d16
 2625              	VL6180_RangeSetThresholds:
 2626              	.LVL297:
 2627              	.LFB18:
 702:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
 2628              		.loc 1 702 1 is_stmt 1 view -0
 2629              		.cfi_startproc
 2630              		@ args = 0, pretend = 0, frame = 0
 2631              		@ frame_needed = 0, uses_anonymous_args = 0
 702:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
 2632              		.loc 1 702 1 is_stmt 0 view .LVU934
 2633 0000 2DE9F843 		push	{r3, r4, r5, r6, r7, r8, r9, lr}
 2634              	.LCFI33:
 2635              		.cfi_def_cfa_offset 32
 2636              		.cfi_offset 3, -32
 2637              		.cfi_offset 4, -28
 2638              		.cfi_offset 5, -24
 2639              		.cfi_offset 6, -20
 2640              		.cfi_offset 7, -16
 2641              		.cfi_offset 8, -12
 2642              		.cfi_offset 9, -8
 2643              		.cfi_offset 14, -4
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 100


 2644 0004 9846     		mov	r8, r3
 703:dev/BSP/Components/vl6180/vl6180_api.c **** 	int scale;
 2645              		.loc 1 703 2 is_stmt 1 view .LVU935
 704:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_START("%d %d", (int) low, (int)high);
 2646              		.loc 1 704 2 view .LVU936
 705:dev/BSP/Components/vl6180/vl6180_api.c **** 	scale = _GetUpscale(dev, UpscaleFactor);
 2647              		.loc 1 705 2 view .LVU937
 706:dev/BSP/Components/vl6180/vl6180_api.c **** 	if (low > scale * 255 || high > scale * 255) {
 2648              		.loc 1 706 2 view .LVU938
 706:dev/BSP/Components/vl6180/vl6180_api.c **** 	if (low > scale * 255 || high > scale * 255) {
 2649              		.loc 1 706 10 is_stmt 0 view .LVU939
 2650 0006 857C     		ldrb	r5, [r0, #18]	@ zero_extendqisi2
 2651              	.LVL298:
 707:dev/BSP/Components/vl6180/vl6180_api.c **** 		status = INVALID_PARAMS;
 2652              		.loc 1 707 2 is_stmt 1 view .LVU940
 707:dev/BSP/Components/vl6180/vl6180_api.c **** 		status = INVALID_PARAMS;
 2653              		.loc 1 707 18 is_stmt 0 view .LVU941
 2654 0008 C5EB0523 		rsb	r3, r5, r5, lsl #8
 2655              	.LVL299:
 707:dev/BSP/Components/vl6180/vl6180_api.c **** 		status = INVALID_PARAMS;
 2656              		.loc 1 707 5 view .LVU942
 2657 000c 9942     		cmp	r1, r3
 2658 000e 25DC     		bgt	.L179
 2659 0010 0746     		mov	r7, r0
 2660 0012 0C46     		mov	r4, r1
 2661 0014 1646     		mov	r6, r2
 707:dev/BSP/Components/vl6180/vl6180_api.c **** 		status = INVALID_PARAMS;
 2662              		.loc 1 707 24 discriminator 1 view .LVU943
 2663 0016 9342     		cmp	r3, r2
 2664 0018 23DB     		blt	.L180
 710:dev/BSP/Components/vl6180/vl6180_api.c **** 			if (UseSafeParamHold) {
 2665              		.loc 1 710 3 is_stmt 1 view .LVU944
 711:dev/BSP/Components/vl6180/vl6180_api.c **** 				status = VL6180_SetGroupParamHold(dev, 1);
 2666              		.loc 1 711 4 view .LVU945
 711:dev/BSP/Components/vl6180/vl6180_api.c **** 				status = VL6180_SetGroupParamHold(dev, 1);
 2667              		.loc 1 711 7 is_stmt 0 view .LVU946
 2668 001a B8F1000F 		cmp	r8, #0
 2669 001e 04D0     		beq	.L178
 712:dev/BSP/Components/vl6180/vl6180_api.c **** 				if (status)
 2670              		.loc 1 712 5 is_stmt 1 view .LVU947
 712:dev/BSP/Components/vl6180/vl6180_api.c **** 				if (status)
 2671              		.loc 1 712 14 is_stmt 0 view .LVU948
 2672 0020 0121     		movs	r1, #1
 2673              	.LVL300:
 712:dev/BSP/Components/vl6180/vl6180_api.c **** 				if (status)
 2674              		.loc 1 712 14 view .LVU949
 2675 0022 FFF7FEFF 		bl	VL6180_SetGroupParamHold
 2676              	.LVL301:
 713:dev/BSP/Components/vl6180/vl6180_api.c **** 					break;
 2677              		.loc 1 713 5 is_stmt 1 view .LVU950
 713:dev/BSP/Components/vl6180/vl6180_api.c **** 					break;
 2678              		.loc 1 713 8 is_stmt 0 view .LVU951
 2679 0026 8146     		mov	r9, r0
 2680 0028 60B9     		cbnz	r0, .L176
 2681              	.LVL302:
 2682              	.L178:
 716:dev/BSP/Components/vl6180/vl6180_api.c **** 		    if (status) {
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 101


 2683              		.loc 1 716 7 is_stmt 1 view .LVU952
 716:dev/BSP/Components/vl6180/vl6180_api.c **** 		    if (status) {
 2684              		.loc 1 716 64 is_stmt 0 view .LVU953
 2685 002a 94FBF5F1 		sdiv	r1, r4, r5
 716:dev/BSP/Components/vl6180/vl6180_api.c **** 		    if (status) {
 2686              		.loc 1 716 89 view .LVU954
 2687 002e 96FBF5F2 		sdiv	r2, r6, r5
 716:dev/BSP/Components/vl6180/vl6180_api.c **** 		    if (status) {
 2688              		.loc 1 716 16 view .LVU955
 2689 0032 D2B2     		uxtb	r2, r2
 2690 0034 C9B2     		uxtb	r1, r1
 2691 0036 3846     		mov	r0, r7
 2692 0038 FFF7FEFF 		bl	VL6180_RangeSetRawThresholds
 2693              	.LVL303:
 2694 003c 8146     		mov	r9, r0
 2695              	.LVL304:
 717:dev/BSP/Components/vl6180/vl6180_api.c **** 				VL6180_ErrLog("VL6180_RangeSetRawThresholds fail");
 2696              		.loc 1 717 7 is_stmt 1 view .LVU956
 718:dev/BSP/Components/vl6180/vl6180_api.c **** 		    }
 2697              		.loc 1 718 5 view .LVU957
 720:dev/BSP/Components/vl6180/vl6180_api.c **** 				int HoldStatus;
 2698              		.loc 1 720 7 view .LVU958
 720:dev/BSP/Components/vl6180/vl6180_api.c **** 				int HoldStatus;
 2699              		.loc 1 720 10 is_stmt 0 view .LVU959
 2700 003e B8F1000F 		cmp	r8, #0
 2701 0042 02D1     		bne	.L183
 2702              	.LVL305:
 2703              	.L176:
 732:dev/BSP/Components/vl6180/vl6180_api.c **** 
 2704              		.loc 1 732 1 view .LVU960
 2705 0044 4846     		mov	r0, r9
 2706 0046 BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 2707              	.LVL306:
 2708              	.L183:
 2709              	.LBB2:
 721:dev/BSP/Components/vl6180/vl6180_api.c **** 				/* tryt to unset param hold vene if previous fail */
 2710              		.loc 1 721 5 is_stmt 1 view .LVU961
 723:dev/BSP/Components/vl6180/vl6180_api.c **** 				if (!status)
 2711              		.loc 1 723 5 view .LVU962
 723:dev/BSP/Components/vl6180/vl6180_api.c **** 				if (!status)
 2712              		.loc 1 723 18 is_stmt 0 view .LVU963
 2713 004a 0021     		movs	r1, #0
 2714 004c 3846     		mov	r0, r7
 2715              	.LVL307:
 723:dev/BSP/Components/vl6180/vl6180_api.c **** 				if (!status)
 2716              		.loc 1 723 18 view .LVU964
 2717 004e FFF7FEFF 		bl	VL6180_SetGroupParamHold
 2718              	.LVL308:
 724:dev/BSP/Components/vl6180/vl6180_api.c **** 					status = HoldStatus;
 2719              		.loc 1 724 5 is_stmt 1 view .LVU965
 724:dev/BSP/Components/vl6180/vl6180_api.c **** 					status = HoldStatus;
 2720              		.loc 1 724 8 is_stmt 0 view .LVU966
 2721 0052 B9F1000F 		cmp	r9, #0
 2722 0056 F5D1     		bne	.L176
 725:dev/BSP/Components/vl6180/vl6180_api.c **** 		    }
 2723              		.loc 1 725 13 view .LVU967
 2724 0058 8146     		mov	r9, r0
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 102


 2725              	.LVL309:
 725:dev/BSP/Components/vl6180/vl6180_api.c **** 		    }
 2726              		.loc 1 725 13 view .LVU968
 2727              	.LBE2:
 727:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
 2728              		.loc 1 727 11 is_stmt 1 view .LVU969
 730:dev/BSP/Components/vl6180/vl6180_api.c **** 	return status;
 2729              		.loc 1 730 2 view .LVU970
 731:dev/BSP/Components/vl6180/vl6180_api.c **** }
 2730              		.loc 1 731 2 view .LVU971
 731:dev/BSP/Components/vl6180/vl6180_api.c **** }
 2731              		.loc 1 731 9 is_stmt 0 view .LVU972
 2732 005a F3E7     		b	.L176
 2733              	.LVL310:
 2734              	.L179:
 708:dev/BSP/Components/vl6180/vl6180_api.c **** 	} else {
 2735              		.loc 1 708 10 view .LVU973
 2736 005c 6FF00109 		mvn	r9, #1
 2737 0060 F0E7     		b	.L176
 2738              	.L180:
 708:dev/BSP/Components/vl6180/vl6180_api.c **** 	} else {
 2739              		.loc 1 708 10 view .LVU974
 2740 0062 6FF00109 		mvn	r9, #1
 2741 0066 EDE7     		b	.L176
 2742              		.cfi_endproc
 2743              	.LFE18:
 2745              		.section	.text.VL6180_RangeGetThresholds,"ax",%progbits
 2746              		.align	1
 2747              		.global	VL6180_RangeGetThresholds
 2748              		.syntax unified
 2749              		.thumb
 2750              		.thumb_func
 2751              		.fpu fpv5-d16
 2753              	VL6180_RangeGetThresholds:
 2754              	.LVL311:
 2755              	.LFB19:
 736:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status = 0;
 2756              		.loc 1 736 1 is_stmt 1 view -0
 2757              		.cfi_startproc
 2758              		@ args = 0, pretend = 0, frame = 8
 2759              		@ frame_needed = 0, uses_anonymous_args = 0
 736:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status = 0;
 2760              		.loc 1 736 1 is_stmt 0 view .LVU976
 2761 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 2762              	.LCFI34:
 2763              		.cfi_def_cfa_offset 20
 2764              		.cfi_offset 4, -20
 2765              		.cfi_offset 5, -16
 2766              		.cfi_offset 6, -12
 2767              		.cfi_offset 7, -8
 2768              		.cfi_offset 14, -4
 2769 0002 83B0     		sub	sp, sp, #12
 2770              	.LCFI35:
 2771              		.cfi_def_cfa_offset 32
 2772 0004 0446     		mov	r4, r0
 2773 0006 0D46     		mov	r5, r1
 737:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint8_t RawLow, RawHigh;
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 103


 2774              		.loc 1 737 2 is_stmt 1 view .LVU977
 2775              	.LVL312:
 738:dev/BSP/Components/vl6180/vl6180_api.c **** 	int scale;
 2776              		.loc 1 738 2 view .LVU978
 739:dev/BSP/Components/vl6180/vl6180_api.c **** 
 2777              		.loc 1 739 2 view .LVU979
 741:dev/BSP/Components/vl6180/vl6180_api.c **** 
 2778              		.loc 1 741 2 view .LVU980
 743:dev/BSP/Components/vl6180/vl6180_api.c **** 	do {
 2779              		.loc 1 743 2 view .LVU981
 743:dev/BSP/Components/vl6180/vl6180_api.c **** 	do {
 2780              		.loc 1 743 10 is_stmt 0 view .LVU982
 2781 0008 867C     		ldrb	r6, [r0, #18]	@ zero_extendqisi2
 2782              	.LVL313:
 744:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (high != NULL) {
 2783              		.loc 1 744 2 is_stmt 1 view .LVU983
 745:dev/BSP/Components/vl6180/vl6180_api.c **** 			status = VL6180_RdByte(dev, SYSRANGE_THRESH_HIGH, &RawHigh);
 2784              		.loc 1 745 3 view .LVU984
 745:dev/BSP/Components/vl6180/vl6180_api.c **** 			status = VL6180_RdByte(dev, SYSRANGE_THRESH_HIGH, &RawHigh);
 2785              		.loc 1 745 6 is_stmt 0 view .LVU985
 2786 000a 62B1     		cbz	r2, .L187
 2787 000c 1746     		mov	r7, r2
 746:dev/BSP/Components/vl6180/vl6180_api.c **** 			if (status) {
 2788              		.loc 1 746 4 is_stmt 1 view .LVU986
 746:dev/BSP/Components/vl6180/vl6180_api.c **** 			if (status) {
 2789              		.loc 1 746 13 is_stmt 0 view .LVU987
 2790 000e 0DF10602 		add	r2, sp, #6
 2791              	.LVL314:
 746:dev/BSP/Components/vl6180/vl6180_api.c **** 			if (status) {
 2792              		.loc 1 746 13 view .LVU988
 2793 0012 1921     		movs	r1, #25
 2794              	.LVL315:
 746:dev/BSP/Components/vl6180/vl6180_api.c **** 			if (status) {
 2795              		.loc 1 746 13 view .LVU989
 2796 0014 FFF7FEFF 		bl	VL6180_RdByte
 2797              	.LVL316:
 747:dev/BSP/Components/vl6180/vl6180_api.c **** 				VL6180_ErrLog("rd SYSRANGE_THRESH_HIGH fail");
 2798              		.loc 1 747 4 is_stmt 1 view .LVU990
 747:dev/BSP/Components/vl6180/vl6180_api.c **** 				VL6180_ErrLog("rd SYSRANGE_THRESH_HIGH fail");
 2799              		.loc 1 747 7 is_stmt 0 view .LVU991
 2800 0018 98B9     		cbnz	r0, .L184
 751:dev/BSP/Components/vl6180/vl6180_api.c **** 		}
 2801              		.loc 1 751 4 is_stmt 1 view .LVU992
 751:dev/BSP/Components/vl6180/vl6180_api.c **** 		}
 2802              		.loc 1 751 10 is_stmt 0 view .LVU993
 2803 001a 9DF80630 		ldrb	r3, [sp, #6]	@ zero_extendqisi2
 2804 001e 13FB06F3 		smulbb	r3, r3, r6
 2805 0022 3B80     		strh	r3, [r7]	@ movhi
 2806 0024 00E0     		b	.L185
 2807              	.LVL317:
 2808              	.L187:
 737:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint8_t RawLow, RawHigh;
 2809              		.loc 1 737 6 view .LVU994
 2810 0026 0020     		movs	r0, #0
 2811              	.LVL318:
 2812              	.L185:
 753:dev/BSP/Components/vl6180/vl6180_api.c **** 		    status = VL6180_RdByte(dev, SYSRANGE_THRESH_LOW, &RawLow);
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 104


 2813              		.loc 1 753 3 is_stmt 1 view .LVU995
 753:dev/BSP/Components/vl6180/vl6180_api.c **** 		    status = VL6180_RdByte(dev, SYSRANGE_THRESH_LOW, &RawLow);
 2814              		.loc 1 753 6 is_stmt 0 view .LVU996
 2815 0028 5DB1     		cbz	r5, .L184
 754:dev/BSP/Components/vl6180/vl6180_api.c **** 			if (status) {
 2816              		.loc 1 754 7 is_stmt 1 view .LVU997
 754:dev/BSP/Components/vl6180/vl6180_api.c **** 			if (status) {
 2817              		.loc 1 754 16 is_stmt 0 view .LVU998
 2818 002a 0DF10702 		add	r2, sp, #7
 2819 002e 1A21     		movs	r1, #26
 2820 0030 2046     		mov	r0, r4
 2821              	.LVL319:
 754:dev/BSP/Components/vl6180/vl6180_api.c **** 			if (status) {
 2822              		.loc 1 754 16 view .LVU999
 2823 0032 FFF7FEFF 		bl	VL6180_RdByte
 2824              	.LVL320:
 755:dev/BSP/Components/vl6180/vl6180_api.c **** 				VL6180_ErrLog("rd SYSRANGE_THRESH_LOW fail");
 2825              		.loc 1 755 4 is_stmt 1 view .LVU1000
 755:dev/BSP/Components/vl6180/vl6180_api.c **** 				VL6180_ErrLog("rd SYSRANGE_THRESH_LOW fail");
 2826              		.loc 1 755 7 is_stmt 0 view .LVU1001
 2827 0036 20B9     		cbnz	r0, .L184
 759:dev/BSP/Components/vl6180/vl6180_api.c **** 		}
 2828              		.loc 1 759 7 is_stmt 1 view .LVU1002
 759:dev/BSP/Components/vl6180/vl6180_api.c **** 		}
 2829              		.loc 1 759 12 is_stmt 0 view .LVU1003
 2830 0038 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 2831 003c 13FB06F6 		smulbb	r6, r3, r6
 2832              	.LVL321:
 759:dev/BSP/Components/vl6180/vl6180_api.c **** 		}
 2833              		.loc 1 759 12 view .LVU1004
 2834 0040 2E80     		strh	r6, [r5]	@ movhi
 761:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_END_FMT(status, "%d %d", (int)*low , (int)*high);
 2835              		.loc 1 761 10 is_stmt 1 view .LVU1005
 762:dev/BSP/Components/vl6180/vl6180_api.c **** 	return status;
 2836              		.loc 1 762 2 view .LVU1006
 763:dev/BSP/Components/vl6180/vl6180_api.c **** }
 2837              		.loc 1 763 2 view .LVU1007
 2838              	.L184:
 764:dev/BSP/Components/vl6180/vl6180_api.c **** 
 2839              		.loc 1 764 1 is_stmt 0 view .LVU1008
 2840 0042 03B0     		add	sp, sp, #12
 2841              	.LCFI36:
 2842              		.cfi_def_cfa_offset 20
 2843              		@ sp needed
 2844 0044 F0BD     		pop	{r4, r5, r6, r7, pc}
 764:dev/BSP/Components/vl6180/vl6180_api.c **** 
 2845              		.loc 1 764 1 view .LVU1009
 2846              		.cfi_endproc
 2847              	.LFE19:
 2849              		.section	.text.VL6180_RangeGetInterruptStatus,"ax",%progbits
 2850              		.align	1
 2851              		.global	VL6180_RangeGetInterruptStatus
 2852              		.syntax unified
 2853              		.thumb
 2854              		.thumb_func
 2855              		.fpu fpv5-d16
 2857              	VL6180_RangeGetInterruptStatus:
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 105


 2858              	.LVL322:
 2859              	.LFB20:
 768:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
 2860              		.loc 1 768 1 is_stmt 1 view -0
 2861              		.cfi_startproc
 2862              		@ args = 0, pretend = 0, frame = 8
 2863              		@ frame_needed = 0, uses_anonymous_args = 0
 768:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
 2864              		.loc 1 768 1 is_stmt 0 view .LVU1011
 2865 0000 10B5     		push	{r4, lr}
 2866              	.LCFI37:
 2867              		.cfi_def_cfa_offset 8
 2868              		.cfi_offset 4, -8
 2869              		.cfi_offset 14, -4
 2870 0002 82B0     		sub	sp, sp, #8
 2871              	.LCFI38:
 2872              		.cfi_def_cfa_offset 16
 2873 0004 0C46     		mov	r4, r1
 769:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint8_t IntStatus;
 2874              		.loc 1 769 2 is_stmt 1 view .LVU1012
 770:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_START("%p", pIntStatus);
 2875              		.loc 1 770 2 view .LVU1013
 771:dev/BSP/Components/vl6180/vl6180_api.c **** 	/* FIXME we are grouping "error" with over status the user must check implicitly for it
 2876              		.loc 1 771 2 view .LVU1014
 774:dev/BSP/Components/vl6180/vl6180_api.c **** 	*pIntStatus = IntStatus & 0xC7;
 2877              		.loc 1 774 2 view .LVU1015
 774:dev/BSP/Components/vl6180/vl6180_api.c **** 	*pIntStatus = IntStatus & 0xC7;
 2878              		.loc 1 774 11 is_stmt 0 view .LVU1016
 2879 0006 0DF10702 		add	r2, sp, #7
 2880 000a 4F21     		movs	r1, #79
 2881              	.LVL323:
 774:dev/BSP/Components/vl6180/vl6180_api.c **** 	*pIntStatus = IntStatus & 0xC7;
 2882              		.loc 1 774 11 view .LVU1017
 2883 000c FFF7FEFF 		bl	VL6180_RdByte
 2884              	.LVL324:
 775:dev/BSP/Components/vl6180/vl6180_api.c **** 
 2885              		.loc 1 775 2 is_stmt 1 view .LVU1018
 775:dev/BSP/Components/vl6180/vl6180_api.c **** 
 2886              		.loc 1 775 26 is_stmt 0 view .LVU1019
 2887 0010 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 2888 0014 03F0C703 		and	r3, r3, #199
 775:dev/BSP/Components/vl6180/vl6180_api.c **** 
 2889              		.loc 1 775 14 view .LVU1020
 2890 0018 2370     		strb	r3, [r4]
 777:dev/BSP/Components/vl6180/vl6180_api.c **** 	return status;
 2891              		.loc 1 777 2 is_stmt 1 view .LVU1021
 778:dev/BSP/Components/vl6180/vl6180_api.c **** }
 2892              		.loc 1 778 2 view .LVU1022
 779:dev/BSP/Components/vl6180/vl6180_api.c **** 
 2893              		.loc 1 779 1 is_stmt 0 view .LVU1023
 2894 001a 02B0     		add	sp, sp, #8
 2895              	.LCFI39:
 2896              		.cfi_def_cfa_offset 8
 2897              		@ sp needed
 2898 001c 10BD     		pop	{r4, pc}
 779:dev/BSP/Components/vl6180/vl6180_api.c **** 
 2899              		.loc 1 779 1 view .LVU1024
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 106


 2900              		.cfi_endproc
 2901              	.LFE20:
 2903              		.section	.text.VL6180_GetInterruptStatus,"ax",%progbits
 2904              		.align	1
 2905              		.global	VL6180_GetInterruptStatus
 2906              		.syntax unified
 2907              		.thumb
 2908              		.thumb_func
 2909              		.fpu fpv5-d16
 2911              	VL6180_GetInterruptStatus:
 2912              	.LVL325:
 2913              	.LFB21:
 783:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
 2914              		.loc 1 783 1 is_stmt 1 view -0
 2915              		.cfi_startproc
 2916              		@ args = 0, pretend = 0, frame = 0
 2917              		@ frame_needed = 0, uses_anonymous_args = 0
 783:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
 2918              		.loc 1 783 1 is_stmt 0 view .LVU1026
 2919 0000 08B5     		push	{r3, lr}
 2920              	.LCFI40:
 2921              		.cfi_def_cfa_offset 8
 2922              		.cfi_offset 3, -8
 2923              		.cfi_offset 14, -4
 2924 0002 0A46     		mov	r2, r1
 784:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_START("%p" , IntStatus);
 2925              		.loc 1 784 2 is_stmt 1 view .LVU1027
 785:dev/BSP/Components/vl6180/vl6180_api.c **** 	status = VL6180_RdByte(dev, RESULT_INTERRUPT_STATUS_GPIO, IntStatus);
 2926              		.loc 1 785 2 view .LVU1028
 786:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_END_FMT(status, "%d", (int)*IntStatus);
 2927              		.loc 1 786 2 view .LVU1029
 786:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_END_FMT(status, "%d", (int)*IntStatus);
 2928              		.loc 1 786 11 is_stmt 0 view .LVU1030
 2929 0004 4F21     		movs	r1, #79
 2930              	.LVL326:
 786:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_END_FMT(status, "%d", (int)*IntStatus);
 2931              		.loc 1 786 11 view .LVU1031
 2932 0006 FFF7FEFF 		bl	VL6180_RdByte
 2933              	.LVL327:
 787:dev/BSP/Components/vl6180/vl6180_api.c **** 	return status;
 2934              		.loc 1 787 2 is_stmt 1 view .LVU1032
 788:dev/BSP/Components/vl6180/vl6180_api.c **** }
 2935              		.loc 1 788 2 view .LVU1033
 789:dev/BSP/Components/vl6180/vl6180_api.c **** 
 2936              		.loc 1 789 1 is_stmt 0 view .LVU1034
 2937 000a 08BD     		pop	{r3, pc}
 2938              		.cfi_endproc
 2939              	.LFE21:
 2941              		.section	.text.VL6180_ClearInterrupt,"ax",%progbits
 2942              		.align	1
 2943              		.global	VL6180_ClearInterrupt
 2944              		.syntax unified
 2945              		.thumb
 2946              		.thumb_func
 2947              		.fpu fpv5-d16
 2949              	VL6180_ClearInterrupt:
 2950              	.LVL328:
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 107


 2951              	.LFB22:
 792:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
 2952              		.loc 1 792 1 is_stmt 1 view -0
 2953              		.cfi_startproc
 2954              		@ args = 0, pretend = 0, frame = 0
 2955              		@ frame_needed = 0, uses_anonymous_args = 0
 793:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_START("%d", (int)IntClear);
 2956              		.loc 1 793 2 view .LVU1036
 794:dev/BSP/Components/vl6180/vl6180_api.c **** 	if (IntClear <= 7) {
 2957              		.loc 1 794 2 view .LVU1037
 795:dev/BSP/Components/vl6180/vl6180_api.c **** 		status = VL6180_WrByte(dev, SYSTEM_INTERRUPT_CLEAR, IntClear);
 2958              		.loc 1 795 2 view .LVU1038
 795:dev/BSP/Components/vl6180/vl6180_api.c **** 		status = VL6180_WrByte(dev, SYSTEM_INTERRUPT_CLEAR, IntClear);
 2959              		.loc 1 795 5 is_stmt 0 view .LVU1039
 2960 0000 0729     		cmp	r1, #7
 2961 0002 05D8     		bhi	.L195
 792:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
 2962              		.loc 1 792 1 view .LVU1040
 2963 0004 08B5     		push	{r3, lr}
 2964              	.LCFI41:
 2965              		.cfi_def_cfa_offset 8
 2966              		.cfi_offset 3, -8
 2967              		.cfi_offset 14, -4
 2968 0006 0A46     		mov	r2, r1
 796:dev/BSP/Components/vl6180/vl6180_api.c **** 	} else {
 2969              		.loc 1 796 3 is_stmt 1 view .LVU1041
 796:dev/BSP/Components/vl6180/vl6180_api.c **** 	} else {
 2970              		.loc 1 796 12 is_stmt 0 view .LVU1042
 2971 0008 1521     		movs	r1, #21
 2972              	.LVL329:
 796:dev/BSP/Components/vl6180/vl6180_api.c **** 	} else {
 2973              		.loc 1 796 12 view .LVU1043
 2974 000a FFF7FEFF 		bl	VL6180_WrByte
 2975              	.LVL330:
 802:dev/BSP/Components/vl6180/vl6180_api.c **** 
 2976              		.loc 1 802 1 view .LVU1044
 2977 000e 08BD     		pop	{r3, pc}
 2978              	.LVL331:
 2979              	.L195:
 2980              	.LCFI42:
 2981              		.cfi_def_cfa_offset 0
 2982              		.cfi_restore 3
 2983              		.cfi_restore 14
 798:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
 2984              		.loc 1 798 10 view .LVU1045
 2985 0010 6FF00100 		mvn	r0, #1
 2986              	.LVL332:
 800:dev/BSP/Components/vl6180/vl6180_api.c **** 	return status;
 2987              		.loc 1 800 2 is_stmt 1 view .LVU1046
 801:dev/BSP/Components/vl6180/vl6180_api.c **** }
 2988              		.loc 1 801 2 view .LVU1047
 802:dev/BSP/Components/vl6180/vl6180_api.c **** 
 2989              		.loc 1 802 1 is_stmt 0 view .LVU1048
 2990 0014 7047     		bx	lr
 2991              		.cfi_endproc
 2992              	.LFE22:
 2994              		.section	.text.VL6180_UpscaleGetScaling,"ax",%progbits
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 108


 2995              		.align	1
 2996              		.global	VL6180_UpscaleGetScaling
 2997              		.syntax unified
 2998              		.thumb
 2999              		.thumb_func
 3000              		.fpu fpv5-d16
 3002              	VL6180_UpscaleGetScaling:
 3003              	.LVL333:
 3004              	.LFB27:
 991:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
 3005              		.loc 1 991 1 is_stmt 1 view -0
 3006              		.cfi_startproc
 3007              		@ args = 0, pretend = 0, frame = 0
 3008              		@ frame_needed = 0, uses_anonymous_args = 0
 3009              		@ link register save eliminated.
 992:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_START("");
 3010              		.loc 1 992 2 view .LVU1050
 993:dev/BSP/Components/vl6180/vl6180_api.c **** 	status = _GetUpscale(dev);
 3011              		.loc 1 993 2 view .LVU1051
 994:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_END(status);
 3012              		.loc 1 994 2 view .LVU1052
 995:dev/BSP/Components/vl6180/vl6180_api.c **** 
 3013              		.loc 1 995 2 view .LVU1053
 997:dev/BSP/Components/vl6180/vl6180_api.c **** }
 3014              		.loc 1 997 2 view .LVU1054
 998:dev/BSP/Components/vl6180/vl6180_api.c **** 
 3015              		.loc 1 998 1 is_stmt 0 view .LVU1055
 3016 0000 807C     		ldrb	r0, [r0, #18]	@ zero_extendqisi2
 3017              	.LVL334:
 998:dev/BSP/Components/vl6180/vl6180_api.c **** 
 3018              		.loc 1 998 1 view .LVU1056
 3019 0002 7047     		bx	lr
 3020              		.cfi_endproc
 3021              	.LFE27:
 3023              		.section	.text.VL6180_SetGPIOxPolarity,"ax",%progbits
 3024              		.align	1
 3025              		.global	VL6180_SetGPIOxPolarity
 3026              		.syntax unified
 3027              		.thumb
 3028              		.thumb_func
 3029              		.fpu fpv5-d16
 3031              	VL6180_SetGPIOxPolarity:
 3032              	.LVL335:
 3033              	.LFB29:
1032:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
 3034              		.loc 1 1032 1 is_stmt 1 view -0
 3035              		.cfi_startproc
 3036              		@ args = 0, pretend = 0, frame = 0
 3037              		@ frame_needed = 0, uses_anonymous_args = 0
1033:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_START("%d %d", (int) pin, (int)active_high);
 3038              		.loc 1 1033 2 view .LVU1058
1034:dev/BSP/Components/vl6180/vl6180_api.c **** 
 3039              		.loc 1 1034 2 view .LVU1059
1036:dev/BSP/Components/vl6180/vl6180_api.c **** 		uint16_t RegIndex;
 3040              		.loc 1 1036 2 view .LVU1060
1036:dev/BSP/Components/vl6180/vl6180_api.c **** 		uint16_t RegIndex;
 3041              		.loc 1 1036 5 is_stmt 0 view .LVU1061
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 109


 3042 0000 0129     		cmp	r1, #1
 3043 0002 0CD8     		bhi	.L205
1032:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
 3044              		.loc 1 1032 1 view .LVU1062
 3045 0004 08B5     		push	{r3, lr}
 3046              	.LCFI43:
 3047              		.cfi_def_cfa_offset 8
 3048              		.cfi_offset 3, -8
 3049              		.cfi_offset 14, -4
 3050              	.LBB3:
1037:dev/BSP/Components/vl6180/vl6180_api.c **** 		uint8_t  DataSet;
 3051              		.loc 1 1037 3 is_stmt 1 view .LVU1063
1038:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (pin == 0)
 3052              		.loc 1 1038 3 view .LVU1064
1039:dev/BSP/Components/vl6180/vl6180_api.c **** 			RegIndex = SYSTEM_MODE_GPIO0;
 3053              		.loc 1 1039 3 view .LVU1065
1039:dev/BSP/Components/vl6180/vl6180_api.c **** 			RegIndex = SYSTEM_MODE_GPIO0;
 3054              		.loc 1 1039 6 is_stmt 0 view .LVU1066
 3055 0006 31B9     		cbnz	r1, .L206
1040:dev/BSP/Components/vl6180/vl6180_api.c **** 		else
 3056              		.loc 1 1040 13 view .LVU1067
 3057 0008 1021     		movs	r1, #16
 3058              	.LVL336:
 3059              	.L203:
1044:dev/BSP/Components/vl6180/vl6180_api.c **** 		   DataSet = GPIOx_POLARITY_SELECT_MASK;
 3060              		.loc 1 1044 3 is_stmt 1 view .LVU1068
1044:dev/BSP/Components/vl6180/vl6180_api.c **** 		   DataSet = GPIOx_POLARITY_SELECT_MASK;
 3061              		.loc 1 1044 6 is_stmt 0 view .LVU1069
 3062 000a 32B1     		cbz	r2, .L207
1045:dev/BSP/Components/vl6180/vl6180_api.c **** 		else
 3063              		.loc 1 1045 14 view .LVU1070
 3064 000c 2023     		movs	r3, #32
 3065              	.L204:
 3066              	.LVL337:
1049:dev/BSP/Components/vl6180/vl6180_api.c **** 	} else {
 3067              		.loc 1 1049 3 is_stmt 1 view .LVU1071
1049:dev/BSP/Components/vl6180/vl6180_api.c **** 	} else {
 3068              		.loc 1 1049 12 is_stmt 0 view .LVU1072
 3069 000e DF22     		movs	r2, #223
 3070              	.LVL338:
1049:dev/BSP/Components/vl6180/vl6180_api.c **** 	} else {
 3071              		.loc 1 1049 12 view .LVU1073
 3072 0010 FFF7FEFF 		bl	VL6180_UpdateByte
 3073              	.LVL339:
1049:dev/BSP/Components/vl6180/vl6180_api.c **** 	} else {
 3074              		.loc 1 1049 12 view .LVU1074
 3075              	.LBE3:
1058:dev/BSP/Components/vl6180/vl6180_api.c **** 
 3076              		.loc 1 1058 1 view .LVU1075
 3077 0014 08BD     		pop	{r3, pc}
 3078              	.LVL340:
 3079              	.L206:
 3080              	.LBB4:
1042:dev/BSP/Components/vl6180/vl6180_api.c **** 
 3081              		.loc 1 1042 13 view .LVU1076
 3082 0016 1121     		movs	r1, #17
 3083              	.LVL341:
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 110


1042:dev/BSP/Components/vl6180/vl6180_api.c **** 
 3084              		.loc 1 1042 13 view .LVU1077
 3085 0018 F7E7     		b	.L203
 3086              	.LVL342:
 3087              	.L207:
1047:dev/BSP/Components/vl6180/vl6180_api.c **** 
 3088              		.loc 1 1047 14 view .LVU1078
 3089 001a 0023     		movs	r3, #0
 3090 001c F7E7     		b	.L204
 3091              	.LVL343:
 3092              	.L205:
 3093              	.LCFI44:
 3094              		.cfi_def_cfa_offset 0
 3095              		.cfi_restore 3
 3096              		.cfi_restore 14
1047:dev/BSP/Components/vl6180/vl6180_api.c **** 
 3097              		.loc 1 1047 14 view .LVU1079
 3098              	.LBE4:
1052:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
 3099              		.loc 1 1052 10 view .LVU1080
 3100 001e 6FF00100 		mvn	r0, #1
 3101              	.LVL344:
1055:dev/BSP/Components/vl6180/vl6180_api.c **** 
 3102              		.loc 1 1055 2 is_stmt 1 view .LVU1081
1057:dev/BSP/Components/vl6180/vl6180_api.c **** }
 3103              		.loc 1 1057 2 view .LVU1082
1058:dev/BSP/Components/vl6180/vl6180_api.c **** 
 3104              		.loc 1 1058 1 is_stmt 0 view .LVU1083
 3105 0022 7047     		bx	lr
 3106              		.cfi_endproc
 3107              	.LFE29:
 3109              		.section	.text.VL6180_SetGPIOxFunctionality,"ax",%progbits
 3110              		.align	1
 3111              		.global	VL6180_SetGPIOxFunctionality
 3112              		.syntax unified
 3113              		.thumb
 3114              		.thumb_func
 3115              		.fpu fpv5-d16
 3117              	VL6180_SetGPIOxFunctionality:
 3118              	.LVL345:
 3119              	.LFB30:
1061:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
 3120              		.loc 1 1061 1 is_stmt 1 view -0
 3121              		.cfi_startproc
 3122              		@ args = 0, pretend = 0, frame = 0
 3123              		@ frame_needed = 0, uses_anonymous_args = 0
1062:dev/BSP/Components/vl6180/vl6180_api.c **** 
 3124              		.loc 1 1062 2 view .LVU1085
1064:dev/BSP/Components/vl6180/vl6180_api.c **** 
 3125              		.loc 1 1064 2 view .LVU1086
1066:dev/BSP/Components/vl6180/vl6180_api.c **** 		uint16_t RegIndex;
 3126              		.loc 1 1066 2 view .LVU1087
1066:dev/BSP/Components/vl6180/vl6180_api.c **** 		uint16_t RegIndex;
 3127              		.loc 1 1066 5 is_stmt 0 view .LVU1088
 3128 0000 0129     		cmp	r1, #1
 3129 0002 0FD8     		bhi	.L215
1066:dev/BSP/Components/vl6180/vl6180_api.c **** 		uint16_t RegIndex;
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 111


 3130              		.loc 1 1066 35 discriminator 1 view .LVU1089
 3131 0004 002A     		cmp	r2, #0
 3132 0006 18BF     		it	ne
 3133 0008 082A     		cmpne	r2, #8
 3134 000a 0ED1     		bne	.L216
1061:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
 3135              		.loc 1 1061 1 view .LVU1090
 3136 000c 08B5     		push	{r3, lr}
 3137              	.LCFI45:
 3138              		.cfi_def_cfa_offset 8
 3139              		.cfi_offset 3, -8
 3140              		.cfi_offset 14, -4
 3141              	.LBB5:
1067:dev/BSP/Components/vl6180/vl6180_api.c **** 
 3142              		.loc 1 1067 3 is_stmt 1 view .LVU1091
1069:dev/BSP/Components/vl6180/vl6180_api.c **** 			RegIndex = SYSTEM_MODE_GPIO0;
 3143              		.loc 1 1069 3 view .LVU1092
1069:dev/BSP/Components/vl6180/vl6180_api.c **** 			RegIndex = SYSTEM_MODE_GPIO0;
 3144              		.loc 1 1069 6 is_stmt 0 view .LVU1093
 3145 000e 39B9     		cbnz	r1, .L217
1070:dev/BSP/Components/vl6180/vl6180_api.c **** 		else
 3146              		.loc 1 1070 13 view .LVU1094
 3147 0010 1021     		movs	r1, #16
 3148              	.LVL346:
 3149              	.L214:
1074:dev/BSP/Components/vl6180/vl6180_api.c **** 									functionality << GPIOx_FUNCTIONALITY_SELECT_SHIFT);
 3150              		.loc 1 1074 3 is_stmt 1 view .LVU1095
1074:dev/BSP/Components/vl6180/vl6180_api.c **** 									functionality << GPIOx_FUNCTIONALITY_SELECT_SHIFT);
 3151              		.loc 1 1074 12 is_stmt 0 view .LVU1096
 3152 0012 5200     		lsls	r2, r2, #1
 3153              	.LVL347:
1074:dev/BSP/Components/vl6180/vl6180_api.c **** 									functionality << GPIOx_FUNCTIONALITY_SELECT_SHIFT);
 3154              		.loc 1 1074 12 view .LVU1097
 3155 0014 02F0FE03 		and	r3, r2, #254
 3156 0018 E122     		movs	r2, #225
 3157 001a FFF7FEFF 		bl	VL6180_UpdateByte
 3158              	.LVL348:
1076:dev/BSP/Components/vl6180/vl6180_api.c **** 			VL6180_ErrLog("Update SYSTEM_MODE_GPIO%d fail", (int)pin);
 3159              		.loc 1 1076 3 is_stmt 1 view .LVU1098
1077:dev/BSP/Components/vl6180/vl6180_api.c **** 		}
 3160              		.loc 1 1077 4 view .LVU1099
 3161              	.LBE5:
1086:dev/BSP/Components/vl6180/vl6180_api.c **** 
 3162              		.loc 1 1086 1 is_stmt 0 view .LVU1100
 3163 001e 08BD     		pop	{r3, pc}
 3164              	.LVL349:
 3165              	.L217:
 3166              	.LBB6:
1072:dev/BSP/Components/vl6180/vl6180_api.c **** 
 3167              		.loc 1 1072 13 view .LVU1101
 3168 0020 1121     		movs	r1, #17
 3169              	.LVL350:
1072:dev/BSP/Components/vl6180/vl6180_api.c **** 
 3170              		.loc 1 1072 13 view .LVU1102
 3171 0022 F6E7     		b	.L214
 3172              	.LVL351:
 3173              	.L215:
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 112


 3174              	.LCFI46:
 3175              		.cfi_def_cfa_offset 0
 3176              		.cfi_restore 3
 3177              		.cfi_restore 14
1072:dev/BSP/Components/vl6180/vl6180_api.c **** 
 3178              		.loc 1 1072 13 view .LVU1103
 3179              	.LBE6:
1081:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
 3180              		.loc 1 1081 10 view .LVU1104
 3181 0024 6FF00100 		mvn	r0, #1
 3182              	.LVL352:
1081:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
 3183              		.loc 1 1081 10 view .LVU1105
 3184 0028 7047     		bx	lr
 3185              	.LVL353:
 3186              	.L216:
1081:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
 3187              		.loc 1 1081 10 view .LVU1106
 3188 002a 6FF00100 		mvn	r0, #1
 3189              	.LVL354:
1084:dev/BSP/Components/vl6180/vl6180_api.c **** 	return status;
 3190              		.loc 1 1084 2 is_stmt 1 view .LVU1107
1085:dev/BSP/Components/vl6180/vl6180_api.c **** }
 3191              		.loc 1 1085 2 view .LVU1108
1086:dev/BSP/Components/vl6180/vl6180_api.c **** 
 3192              		.loc 1 1086 1 is_stmt 0 view .LVU1109
 3193 002e 7047     		bx	lr
 3194              		.cfi_endproc
 3195              	.LFE30:
 3197              		.section	.text.VL6180_SetupGPIOx,"ax",%progbits
 3198              		.align	1
 3199              		.global	VL6180_SetupGPIOx
 3200              		.syntax unified
 3201              		.thumb
 3202              		.thumb_func
 3203              		.fpu fpv5-d16
 3205              	VL6180_SetupGPIOx:
 3206              	.LVL355:
 3207              	.LFB31:
1090:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
 3208              		.loc 1 1090 1 is_stmt 1 view -0
 3209              		.cfi_startproc
 3210              		@ args = 0, pretend = 0, frame = 0
 3211              		@ frame_needed = 0, uses_anonymous_args = 0
1091:dev/BSP/Components/vl6180/vl6180_api.c **** 
 3212              		.loc 1 1091 2 view .LVU1111
1093:dev/BSP/Components/vl6180/vl6180_api.c **** 
 3213              		.loc 1 1093 2 view .LVU1112
1095:dev/BSP/Components/vl6180/vl6180_api.c **** 		uint16_t RegIndex;
 3214              		.loc 1 1095 2 view .LVU1113
1095:dev/BSP/Components/vl6180/vl6180_api.c **** 		uint16_t RegIndex;
 3215              		.loc 1 1095 5 is_stmt 0 view .LVU1114
 3216 0000 0129     		cmp	r1, #1
 3217 0002 11D8     		bhi	.L226
1095:dev/BSP/Components/vl6180/vl6180_api.c **** 		uint16_t RegIndex;
 3218              		.loc 1 1095 34 discriminator 1 view .LVU1115
 3219 0004 002A     		cmp	r2, #0
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 113


 3220 0006 18BF     		it	ne
 3221 0008 082A     		cmpne	r2, #8
 3222 000a 10D1     		bne	.L227
1090:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
 3223              		.loc 1 1090 1 view .LVU1116
 3224 000c 08B5     		push	{r3, lr}
 3225              	.LCFI47:
 3226              		.cfi_def_cfa_offset 8
 3227              		.cfi_offset 3, -8
 3228              		.cfi_offset 14, -4
 3229              	.LBB7:
1096:dev/BSP/Components/vl6180/vl6180_api.c **** 		uint8_t value = 0;
 3230              		.loc 1 1096 3 is_stmt 1 view .LVU1117
1097:dev/BSP/Components/vl6180/vl6180_api.c **** 
 3231              		.loc 1 1097 3 view .LVU1118
 3232              	.LVL356:
1099:dev/BSP/Components/vl6180/vl6180_api.c **** 		   RegIndex = SYSTEM_MODE_GPIO0;
 3233              		.loc 1 1099 3 view .LVU1119
1099:dev/BSP/Components/vl6180/vl6180_api.c **** 		   RegIndex = SYSTEM_MODE_GPIO0;
 3234              		.loc 1 1099 6 is_stmt 0 view .LVU1120
 3235 000e 49B9     		cbnz	r1, .L228
1100:dev/BSP/Components/vl6180/vl6180_api.c **** 		else
 3236              		.loc 1 1100 15 view .LVU1121
 3237 0010 1021     		movs	r1, #16
 3238              	.LVL357:
 3239              	.L224:
1104:dev/BSP/Components/vl6180/vl6180_api.c **** 		   value |= GPIOx_POLARITY_SELECT_MASK;
 3240              		.loc 1 1104 3 is_stmt 1 view .LVU1122
1104:dev/BSP/Components/vl6180/vl6180_api.c **** 		   value |= GPIOx_POLARITY_SELECT_MASK;
 3241              		.loc 1 1104 6 is_stmt 0 view .LVU1123
 3242 0012 03B1     		cbz	r3, .L225
1105:dev/BSP/Components/vl6180/vl6180_api.c **** 
 3243              		.loc 1 1105 12 view .LVU1124
 3244 0014 2023     		movs	r3, #32
 3245              	.LVL358:
 3246              	.L225:
1107:dev/BSP/Components/vl6180/vl6180_api.c **** 		status = VL6180_WrByte(dev, RegIndex, value);
 3247              		.loc 1 1107 3 is_stmt 1 view .LVU1125
1107:dev/BSP/Components/vl6180/vl6180_api.c **** 		status = VL6180_WrByte(dev, RegIndex, value);
 3248              		.loc 1 1107 9 is_stmt 0 view .LVU1126
 3249 0016 43EA4202 		orr	r2, r3, r2, lsl #1
 3250              	.LVL359:
1108:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (status) {
 3251              		.loc 1 1108 3 is_stmt 1 view .LVU1127
1108:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (status) {
 3252              		.loc 1 1108 12 is_stmt 0 view .LVU1128
 3253 001a 02F0FE02 		and	r2, r2, #254
 3254              	.LVL360:
1108:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (status) {
 3255              		.loc 1 1108 12 view .LVU1129
 3256 001e FFF7FEFF 		bl	VL6180_WrByte
 3257              	.LVL361:
1109:dev/BSP/Components/vl6180/vl6180_api.c **** 		   VL6180_ErrLog("SYSTEM_MODE_GPIO%d wr fail", (int)pin-SYSTEM_MODE_GPIO0);
 3258              		.loc 1 1109 3 is_stmt 1 view .LVU1130
1110:dev/BSP/Components/vl6180/vl6180_api.c **** 		}
 3259              		.loc 1 1110 6 view .LVU1131
 3260              	.LBE7:
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 114


1119:dev/BSP/Components/vl6180/vl6180_api.c **** 
 3261              		.loc 1 1119 1 is_stmt 0 view .LVU1132
 3262 0022 08BD     		pop	{r3, pc}
 3263              	.LVL362:
 3264              	.L228:
 3265              	.LBB8:
1102:dev/BSP/Components/vl6180/vl6180_api.c **** 
 3266              		.loc 1 1102 15 view .LVU1133
 3267 0024 1121     		movs	r1, #17
 3268              	.LVL363:
1102:dev/BSP/Components/vl6180/vl6180_api.c **** 
 3269              		.loc 1 1102 15 view .LVU1134
 3270 0026 F4E7     		b	.L224
 3271              	.LVL364:
 3272              	.L226:
 3273              	.LCFI48:
 3274              		.cfi_def_cfa_offset 0
 3275              		.cfi_restore 3
 3276              		.cfi_restore 14
1102:dev/BSP/Components/vl6180/vl6180_api.c **** 
 3277              		.loc 1 1102 15 view .LVU1135
 3278              	.LBE8:
1114:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
 3279              		.loc 1 1114 10 view .LVU1136
 3280 0028 6FF00100 		mvn	r0, #1
 3281              	.LVL365:
1114:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
 3282              		.loc 1 1114 10 view .LVU1137
 3283 002c 7047     		bx	lr
 3284              	.LVL366:
 3285              	.L227:
1114:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
 3286              		.loc 1 1114 10 view .LVU1138
 3287 002e 6FF00100 		mvn	r0, #1
 3288              	.LVL367:
1117:dev/BSP/Components/vl6180/vl6180_api.c **** 	return status;
 3289              		.loc 1 1117 2 is_stmt 1 view .LVU1139
1118:dev/BSP/Components/vl6180/vl6180_api.c **** }
 3290              		.loc 1 1118 2 view .LVU1140
1119:dev/BSP/Components/vl6180/vl6180_api.c **** 
 3291              		.loc 1 1119 1 is_stmt 0 view .LVU1141
 3292 0032 7047     		bx	lr
 3293              		.cfi_endproc
 3294              	.LFE31:
 3296              		.section	.text.VL6180_DisableGPIOxOut,"ax",%progbits
 3297              		.align	1
 3298              		.global	VL6180_DisableGPIOxOut
 3299              		.syntax unified
 3300              		.thumb
 3301              		.thumb_func
 3302              		.fpu fpv5-d16
 3304              	VL6180_DisableGPIOxOut:
 3305              	.LVL368:
 3306              	.LFB32:
1123:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
 3307              		.loc 1 1123 1 is_stmt 1 view -0
 3308              		.cfi_startproc
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 115


 3309              		@ args = 0, pretend = 0, frame = 0
 3310              		@ frame_needed = 0, uses_anonymous_args = 0
1123:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
 3311              		.loc 1 1123 1 is_stmt 0 view .LVU1143
 3312 0000 08B5     		push	{r3, lr}
 3313              	.LCFI49:
 3314              		.cfi_def_cfa_offset 8
 3315              		.cfi_offset 3, -8
 3316              		.cfi_offset 14, -4
1124:dev/BSP/Components/vl6180/vl6180_api.c **** 
 3317              		.loc 1 1124 2 is_stmt 1 view .LVU1144
1126:dev/BSP/Components/vl6180/vl6180_api.c **** 
 3318              		.loc 1 1126 2 view .LVU1145
1128:dev/BSP/Components/vl6180/vl6180_api.c **** 
 3319              		.loc 1 1128 2 view .LVU1146
1128:dev/BSP/Components/vl6180/vl6180_api.c **** 
 3320              		.loc 1 1128 11 is_stmt 0 view .LVU1147
 3321 0002 0022     		movs	r2, #0
 3322 0004 FFF7FEFF 		bl	VL6180_SetGPIOxFunctionality
 3323              	.LVL369:
1130:dev/BSP/Components/vl6180/vl6180_api.c **** 	return status;
 3324              		.loc 1 1130 2 is_stmt 1 view .LVU1148
1131:dev/BSP/Components/vl6180/vl6180_api.c **** }
 3325              		.loc 1 1131 2 view .LVU1149
1132:dev/BSP/Components/vl6180/vl6180_api.c **** 
 3326              		.loc 1 1132 1 is_stmt 0 view .LVU1150
 3327 0008 08BD     		pop	{r3, pc}
 3328              		.cfi_endproc
 3329              	.LFE32:
 3331              		.section	.text.VL6180_SetupGPIO1,"ax",%progbits
 3332              		.align	1
 3333              		.global	VL6180_SetupGPIO1
 3334              		.syntax unified
 3335              		.thumb
 3336              		.thumb_func
 3337              		.fpu fpv5-d16
 3339              	VL6180_SetupGPIO1:
 3340              	.LVL370:
 3341              	.LFB33:
1136:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
 3342              		.loc 1 1136 1 is_stmt 1 view -0
 3343              		.cfi_startproc
 3344              		@ args = 0, pretend = 0, frame = 0
 3345              		@ frame_needed = 0, uses_anonymous_args = 0
1136:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
 3346              		.loc 1 1136 1 is_stmt 0 view .LVU1152
 3347 0000 08B5     		push	{r3, lr}
 3348              	.LCFI50:
 3349              		.cfi_def_cfa_offset 8
 3350              		.cfi_offset 3, -8
 3351              		.cfi_offset 14, -4
 3352 0002 1346     		mov	r3, r2
1137:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_START("%d %d", (int)IntFunction, (int)ActiveHigh);
 3353              		.loc 1 1137 2 is_stmt 1 view .LVU1153
1138:dev/BSP/Components/vl6180/vl6180_api.c **** 	status = VL6180_SetupGPIOx(dev, 1, IntFunction, ActiveHigh);
 3354              		.loc 1 1138 2 view .LVU1154
1139:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_END(status);
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 116


 3355              		.loc 1 1139 2 view .LVU1155
1139:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_END(status);
 3356              		.loc 1 1139 11 is_stmt 0 view .LVU1156
 3357 0004 0A46     		mov	r2, r1
 3358              	.LVL371:
1139:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_END(status);
 3359              		.loc 1 1139 11 view .LVU1157
 3360 0006 0121     		movs	r1, #1
 3361              	.LVL372:
1139:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_END(status);
 3362              		.loc 1 1139 11 view .LVU1158
 3363 0008 FFF7FEFF 		bl	VL6180_SetupGPIOx
 3364              	.LVL373:
1140:dev/BSP/Components/vl6180/vl6180_api.c **** 	return status;
 3365              		.loc 1 1140 2 is_stmt 1 view .LVU1159
1141:dev/BSP/Components/vl6180/vl6180_api.c **** }
 3366              		.loc 1 1141 2 view .LVU1160
1142:dev/BSP/Components/vl6180/vl6180_api.c **** 
 3367              		.loc 1 1142 1 is_stmt 0 view .LVU1161
 3368 000c 08BD     		pop	{r3, pc}
 3369              		.cfi_endproc
 3370              	.LFE33:
 3372              		.section	.text.VL6180_RangeConfigInterrupt,"ax",%progbits
 3373              		.align	1
 3374              		.global	VL6180_RangeConfigInterrupt
 3375              		.syntax unified
 3376              		.thumb
 3377              		.thumb_func
 3378              		.fpu fpv5-d16
 3380              	VL6180_RangeConfigInterrupt:
 3381              	.LVL374:
 3382              	.LFB34:
1145:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
 3383              		.loc 1 1145 1 is_stmt 1 view -0
 3384              		.cfi_startproc
 3385              		@ args = 0, pretend = 0, frame = 0
 3386              		@ frame_needed = 0, uses_anonymous_args = 0
1146:dev/BSP/Components/vl6180/vl6180_api.c **** 
 3387              		.loc 1 1146 2 view .LVU1163
1148:dev/BSP/Components/vl6180/vl6180_api.c **** 		status = VL6180_UpdateByte(dev, SYSTEM_INTERRUPT_CONFIG_GPIO,
 3388              		.loc 1 1148 2 view .LVU1164
1148:dev/BSP/Components/vl6180/vl6180_api.c **** 		status = VL6180_UpdateByte(dev, SYSTEM_INTERRUPT_CONFIG_GPIO,
 3389              		.loc 1 1148 5 is_stmt 0 view .LVU1165
 3390 0000 0429     		cmp	r1, #4
 3391 0002 06D8     		bhi	.L240
1145:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
 3392              		.loc 1 1145 1 view .LVU1166
 3393 0004 08B5     		push	{r3, lr}
 3394              	.LCFI51:
 3395              		.cfi_def_cfa_offset 8
 3396              		.cfi_offset 3, -8
 3397              		.cfi_offset 14, -4
 3398 0006 0B46     		mov	r3, r1
1149:dev/BSP/Components/vl6180/vl6180_api.c **** 									(uint8_t)(~CONFIG_GPIO_RANGE_MASK),
 3399              		.loc 1 1149 3 is_stmt 1 view .LVU1167
1149:dev/BSP/Components/vl6180/vl6180_api.c **** 									(uint8_t)(~CONFIG_GPIO_RANGE_MASK),
 3400              		.loc 1 1149 12 is_stmt 0 view .LVU1168
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 117


 3401 0008 F822     		movs	r2, #248
 3402 000a 1421     		movs	r1, #20
 3403              	.LVL375:
1149:dev/BSP/Components/vl6180/vl6180_api.c **** 									(uint8_t)(~CONFIG_GPIO_RANGE_MASK),
 3404              		.loc 1 1149 12 view .LVU1169
 3405 000c FFF7FEFF 		bl	VL6180_UpdateByte
 3406              	.LVL376:
1158:dev/BSP/Components/vl6180/vl6180_api.c **** 
 3407              		.loc 1 1158 1 view .LVU1170
 3408 0010 08BD     		pop	{r3, pc}
 3409              	.LVL377:
 3410              	.L240:
 3411              	.LCFI52:
 3412              		.cfi_def_cfa_offset 0
 3413              		.cfi_restore 3
 3414              		.cfi_restore 14
1154:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
 3415              		.loc 1 1154 10 view .LVU1171
 3416 0012 6FF00100 		mvn	r0, #1
 3417              	.LVL378:
1156:dev/BSP/Components/vl6180/vl6180_api.c **** 	return status;
 3418              		.loc 1 1156 2 is_stmt 1 view .LVU1172
1157:dev/BSP/Components/vl6180/vl6180_api.c **** }
 3419              		.loc 1 1157 2 view .LVU1173
1158:dev/BSP/Components/vl6180/vl6180_api.c **** 
 3420              		.loc 1 1158 1 is_stmt 0 view .LVU1174
 3421 0016 7047     		bx	lr
 3422              		.cfi_endproc
 3423              	.LFE34:
 3425              		.section	.text.VL6180_RangeSetEceState,"ax",%progbits
 3426              		.align	1
 3427              		.global	VL6180_RangeSetEceState
 3428              		.syntax unified
 3429              		.thumb
 3430              		.thumb_func
 3431              		.fpu fpv5-d16
 3433              	VL6180_RangeSetEceState:
 3434              	.LVL379:
 3435              	.LFB36:
1193:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
 3436              		.loc 1 1193 1 is_stmt 1 view -0
 3437              		.cfi_startproc
 3438              		@ args = 0, pretend = 0, frame = 0
 3439              		@ frame_needed = 0, uses_anonymous_args = 0
1193:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
 3440              		.loc 1 1193 1 is_stmt 0 view .LVU1176
 3441 0000 08B5     		push	{r3, lr}
 3442              	.LCFI53:
 3443              		.cfi_def_cfa_offset 8
 3444              		.cfi_offset 3, -8
 3445              		.cfi_offset 14, -4
1194:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint8_t or_mask;
 3446              		.loc 1 1194 2 is_stmt 1 view .LVU1177
1195:dev/BSP/Components/vl6180/vl6180_api.c **** 
 3447              		.loc 1 1195 2 view .LVU1178
1197:dev/BSP/Components/vl6180/vl6180_api.c **** 	if (enable)
 3448              		.loc 1 1197 2 view .LVU1179
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 118


1198:dev/BSP/Components/vl6180/vl6180_api.c **** 		or_mask = RANGE_CHECK_ECE_ENABLE_MASK;
 3449              		.loc 1 1198 2 view .LVU1180
1198:dev/BSP/Components/vl6180/vl6180_api.c **** 		or_mask = RANGE_CHECK_ECE_ENABLE_MASK;
 3450              		.loc 1 1198 5 is_stmt 0 view .LVU1181
 3451 0002 29B1     		cbz	r1, .L247
1199:dev/BSP/Components/vl6180/vl6180_api.c **** 	else
 3452              		.loc 1 1199 11 view .LVU1182
 3453 0004 0123     		movs	r3, #1
 3454              	.L246:
 3455              	.LVL380:
1203:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_END(status);
 3456              		.loc 1 1203 2 is_stmt 1 view .LVU1183
1203:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_END(status);
 3457              		.loc 1 1203 11 is_stmt 0 view .LVU1184
 3458 0006 FE22     		movs	r2, #254
 3459 0008 2D21     		movs	r1, #45
 3460              	.LVL381:
1203:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_END(status);
 3461              		.loc 1 1203 11 view .LVU1185
 3462 000a FFF7FEFF 		bl	VL6180_UpdateByte
 3463              	.LVL382:
1204:dev/BSP/Components/vl6180/vl6180_api.c **** 	return status;
 3464              		.loc 1 1204 2 is_stmt 1 view .LVU1186
1205:dev/BSP/Components/vl6180/vl6180_api.c **** }
 3465              		.loc 1 1205 2 view .LVU1187
1206:dev/BSP/Components/vl6180/vl6180_api.c **** 
 3466              		.loc 1 1206 1 is_stmt 0 view .LVU1188
 3467 000e 08BD     		pop	{r3, pc}
 3468              	.LVL383:
 3469              	.L247:
1201:dev/BSP/Components/vl6180/vl6180_api.c **** 
 3470              		.loc 1 1201 11 view .LVU1189
 3471 0010 0023     		movs	r3, #0
 3472 0012 F8E7     		b	.L246
 3473              		.cfi_endproc
 3474              	.LFE36:
 3476              		.section	.text.VL6180_UpscaleSetScaling,"ax",%progbits
 3477              		.align	1
 3478              		.global	VL6180_UpscaleSetScaling
 3479              		.syntax unified
 3480              		.thumb
 3481              		.thumb_func
 3482              		.fpu fpv5-d16
 3484              	VL6180_UpscaleSetScaling:
 3485              	.LVL384:
 3486              	.LFB26:
 927:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
 3487              		.loc 1 927 1 is_stmt 1 view -0
 3488              		.cfi_startproc
 3489              		@ args = 0, pretend = 0, frame = 0
 3490              		@ frame_needed = 0, uses_anonymous_args = 0
 927:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
 3491              		.loc 1 927 1 is_stmt 0 view .LVU1191
 3492 0000 38B5     		push	{r3, r4, r5, lr}
 3493              	.LCFI54:
 3494              		.cfi_def_cfa_offset 16
 3495              		.cfi_offset 3, -16
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 119


 3496              		.cfi_offset 4, -12
 3497              		.cfi_offset 5, -8
 3498              		.cfi_offset 14, -4
 928:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint16_t Scaler;
 3499              		.loc 1 928 2 is_stmt 1 view .LVU1192
 929:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint16_t ValidHeight;
 3500              		.loc 1 929 2 view .LVU1193
 930:dev/BSP/Components/vl6180/vl6180_api.c **** 	int8_t  Offset;
 3501              		.loc 1 930 2 view .LVU1194
 931:dev/BSP/Components/vl6180/vl6180_api.c **** 
 3502              		.loc 1 931 2 view .LVU1195
 933:dev/BSP/Components/vl6180/vl6180_api.c **** 
 3503              		.loc 1 933 2 view .LVU1196
 944:dev/BSP/Components/vl6180/vl6180_api.c **** 
 3504              		.loc 1 944 2 view .LVU1197
 944:dev/BSP/Components/vl6180/vl6180_api.c **** 
 3505              		.loc 1 944 30 is_stmt 0 view .LVU1198
 3506 0002 4B1E     		subs	r3, r1, #1
 3507 0004 DBB2     		uxtb	r3, r3
 944:dev/BSP/Components/vl6180/vl6180_api.c **** 
 3508              		.loc 1 944 5 view .LVU1199
 3509 0006 022B     		cmp	r3, #2
 3510 0008 3BD8     		bhi	.L255
 3511 000a 0546     		mov	r5, r0
 3512 000c 0C46     		mov	r4, r1
 946:dev/BSP/Components/vl6180/vl6180_api.c **** 		status = VL6180_WrWord(dev, RANGE_SCALER, Scaler);
 3513              		.loc 1 946 3 is_stmt 1 view .LVU1200
 946:dev/BSP/Components/vl6180/vl6180_api.c **** 		status = VL6180_WrWord(dev, RANGE_SCALER, Scaler);
 3514              		.loc 1 946 33 is_stmt 0 view .LVU1201
 3515 000e 4B1E     		subs	r3, r1, #1
 3516              	.LVL385:
 947:dev/BSP/Components/vl6180/vl6180_api.c **** 		_SetUpscale(dev, scaling);
 3517              		.loc 1 947 3 is_stmt 1 view .LVU1202
 947:dev/BSP/Components/vl6180/vl6180_api.c **** 		_SetUpscale(dev, scaling);
 3518              		.loc 1 947 12 is_stmt 0 view .LVU1203
 3519 0010 1E4A     		ldr	r2, .L262
 3520 0012 32F81320 		ldrh	r2, [r2, r3, lsl #1]
 3521 0016 9621     		movs	r1, #150
 3522              	.LVL386:
 947:dev/BSP/Components/vl6180/vl6180_api.c **** 		_SetUpscale(dev, scaling);
 3523              		.loc 1 947 12 view .LVU1204
 3524 0018 FFF7FEFF 		bl	VL6180_WrWord
 3525              	.LVL387:
 948:dev/BSP/Components/vl6180/vl6180_api.c **** 
 3526              		.loc 1 948 3 is_stmt 1 view .LVU1205
 3527 001c AC74     		strb	r4, [r5, #18]
 951:dev/BSP/Components/vl6180/vl6180_api.c **** 		status = VL6180_WrByte(dev, SYSRANGE_PART_TO_PART_RANGE_OFFSET, Offset);
 3528              		.loc 1 951 3 view .LVU1206
 951:dev/BSP/Components/vl6180/vl6180_api.c **** 		status = VL6180_WrByte(dev, SYSRANGE_PART_TO_PART_RANGE_OFFSET, Offset);
 3529              		.loc 1 951 12 is_stmt 0 view .LVU1207
 3530 001e 95F98920 		ldrsb	r2, [r5, #137]
 951:dev/BSP/Components/vl6180/vl6180_api.c **** 		status = VL6180_WrByte(dev, SYSRANGE_PART_TO_PART_RANGE_OFFSET, Offset);
 3531              		.loc 1 951 54 view .LVU1208
 3532 0022 92FBF4F2 		sdiv	r2, r2, r4
 3533              	.LVL388:
 952:dev/BSP/Components/vl6180/vl6180_api.c **** 
 3534              		.loc 1 952 3 is_stmt 1 view .LVU1209
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 120


 952:dev/BSP/Components/vl6180/vl6180_api.c **** 
 3535              		.loc 1 952 12 is_stmt 0 view .LVU1210
 3536 0026 D2B2     		uxtb	r2, r2
 952:dev/BSP/Components/vl6180/vl6180_api.c **** 
 3537              		.loc 1 952 12 view .LVU1211
 3538 0028 2421     		movs	r1, #36
 3539 002a 2846     		mov	r0, r5
 3540 002c FFF7FEFF 		bl	VL6180_WrByte
 3541              	.LVL389:
 955:dev/BSP/Components/vl6180/vl6180_api.c **** 			status = VL6180_WrByte(dev, SYSRANGE_CROSSTALK_VALID_HEIGHT,
 3542              		.loc 1 955 3 is_stmt 1 view .LVU1212
 955:dev/BSP/Components/vl6180/vl6180_api.c **** 			status = VL6180_WrByte(dev, SYSRANGE_CROSSTALK_VALID_HEIGHT,
 3543              		.loc 1 955 6 is_stmt 0 view .LVU1213
 3544 0030 B8B1     		cbz	r0, .L259
 3545              	.L251:
 960:dev/BSP/Components/vl6180/vl6180_api.c **** 			if (  VL6180DevDataGet(dev, RangeIgnore.Enabled) !=0 ) {
 3546              		.loc 1 960 3 is_stmt 1 view .LVU1214
 960:dev/BSP/Components/vl6180/vl6180_api.c **** 			if (  VL6180DevDataGet(dev, RangeIgnore.Enabled) !=0 ) {
 3547              		.loc 1 960 6 is_stmt 0 view .LVU1215
 3548 0032 68B9     		cbnz	r0, .L252
 961:dev/BSP/Components/vl6180/vl6180_api.c **** 				ValidHeight = VL6180DevDataGet(dev, RangeIgnore.ValidHeight);
 3549              		.loc 1 961 4 is_stmt 1 view .LVU1216
 961:dev/BSP/Components/vl6180/vl6180_api.c **** 				ValidHeight = VL6180DevDataGet(dev, RangeIgnore.ValidHeight);
 3550              		.loc 1 961 10 is_stmt 0 view .LVU1217
 3551 0034 2B7C     		ldrb	r3, [r5, #16]	@ zero_extendqisi2
 961:dev/BSP/Components/vl6180/vl6180_api.c **** 				ValidHeight = VL6180DevDataGet(dev, RangeIgnore.ValidHeight);
 3552              		.loc 1 961 7 view .LVU1218
 3553 0036 5BB1     		cbz	r3, .L252
 962:dev/BSP/Components/vl6180/vl6180_api.c **** 				ValidHeight  /= _GetUpscale(dev);
 3554              		.loc 1 962 5 is_stmt 1 view .LVU1219
 962:dev/BSP/Components/vl6180/vl6180_api.c **** 				ValidHeight  /= _GetUpscale(dev);
 3555              		.loc 1 962 17 is_stmt 0 view .LVU1220
 3556 0038 AA89     		ldrh	r2, [r5, #12]
 3557              	.LVL390:
 963:dev/BSP/Components/vl6180/vl6180_api.c **** 				if( ValidHeight > 255 )
 3558              		.loc 1 963 5 is_stmt 1 view .LVU1221
 963:dev/BSP/Components/vl6180/vl6180_api.c **** 				if( ValidHeight > 255 )
 3559              		.loc 1 963 21 is_stmt 0 view .LVU1222
 3560 003a AB7C     		ldrb	r3, [r5, #18]	@ zero_extendqisi2
 963:dev/BSP/Components/vl6180/vl6180_api.c **** 				if( ValidHeight > 255 )
 3561              		.loc 1 963 18 view .LVU1223
 3562 003c 92FBF3F2 		sdiv	r2, r2, r3
 3563              	.LVL391:
 964:dev/BSP/Components/vl6180/vl6180_api.c **** 					ValidHeight = 255;
 3564              		.loc 1 964 5 is_stmt 1 view .LVU1224
 964:dev/BSP/Components/vl6180/vl6180_api.c **** 					ValidHeight = 255;
 3565              		.loc 1 964 7 is_stmt 0 view .LVU1225
 3566 0040 FF2A     		cmp	r2, #255
 3567 0042 00D9     		bls	.L253
 965:dev/BSP/Components/vl6180/vl6180_api.c **** 
 3568              		.loc 1 965 18 view .LVU1226
 3569 0044 FF22     		movs	r2, #255
 3570              	.LVL392:
 3571              	.L253:
 967:dev/BSP/Components/vl6180/vl6180_api.c **** 							(uint8_t)(ValidHeight & 0xFF) );
 3572              		.loc 1 967 5 is_stmt 1 view .LVU1227
 967:dev/BSP/Components/vl6180/vl6180_api.c **** 							(uint8_t)(ValidHeight & 0xFF) );
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 121


 3573              		.loc 1 967 14 is_stmt 0 view .LVU1228
 3574 0046 D2B2     		uxtb	r2, r2
 3575              	.LVL393:
 967:dev/BSP/Components/vl6180/vl6180_api.c **** 							(uint8_t)(ValidHeight & 0xFF) );
 3576              		.loc 1 967 14 view .LVU1229
 3577 0048 2521     		movs	r1, #37
 3578 004a 2846     		mov	r0, r5
 3579              	.LVL394:
 967:dev/BSP/Components/vl6180/vl6180_api.c **** 							(uint8_t)(ValidHeight & 0xFF) );
 3580              		.loc 1 967 14 view .LVU1230
 3581 004c FFF7FEFF 		bl	VL6180_WrByte
 3582              	.LVL395:
 3583              	.L252:
 973:dev/BSP/Components/vl6180/vl6180_api.c **** 			status = VL6180_RangeSetEceState(dev, scaling == 1); /* enable ece only at 1x scaling */
 3584              		.loc 1 973 3 is_stmt 1 view .LVU1231
 973:dev/BSP/Components/vl6180/vl6180_api.c **** 			status = VL6180_RangeSetEceState(dev, scaling == 1); /* enable ece only at 1x scaling */
 3585              		.loc 1 973 6 is_stmt 0 view .LVU1232
 3586 0050 78B1     		cbz	r0, .L260
 3587              	.L254:
 976:dev/BSP/Components/vl6180/vl6180_api.c **** 			status = NOT_GUARANTEED ;
 3588              		.loc 1 976 3 is_stmt 1 view .LVU1233
 976:dev/BSP/Components/vl6180/vl6180_api.c **** 			status = NOT_GUARANTEED ;
 3589              		.loc 1 976 56 is_stmt 0 view .LVU1234
 3590 0052 013C     		subs	r4, r4, #1
 3591 0054 18BF     		it	ne
 3592 0056 0124     		movne	r4, #1
 976:dev/BSP/Components/vl6180/vl6180_api.c **** 			status = NOT_GUARANTEED ;
 3593              		.loc 1 976 45 view .LVU1235
 3594 0058 0028     		cmp	r0, #0
 3595 005a 18BF     		it	ne
 3596 005c 0024     		movne	r4, #0
 976:dev/BSP/Components/vl6180/vl6180_api.c **** 			status = NOT_GUARANTEED ;
 3597              		.loc 1 976 6 view .LVU1236
 3598 005e 9CB9     		cbnz	r4, .L261
 3599              	.LVL396:
 3600              	.L249:
 987:dev/BSP/Components/vl6180/vl6180_api.c **** 
 3601              		.loc 1 987 1 view .LVU1237
 3602 0060 38BD     		pop	{r3, r4, r5, pc}
 3603              	.LVL397:
 3604              	.L259:
 956:dev/BSP/Components/vl6180/vl6180_api.c **** 									DEF_CROSS_TALK_VALID_HEIGHT_VALUE /  scaling);
 3605              		.loc 1 956 4 is_stmt 1 view .LVU1238
 956:dev/BSP/Components/vl6180/vl6180_api.c **** 									DEF_CROSS_TALK_VALID_HEIGHT_VALUE /  scaling);
 3606              		.loc 1 956 13 is_stmt 0 view .LVU1239
 3607 0062 1422     		movs	r2, #20
 3608 0064 92FBF4F2 		sdiv	r2, r2, r4
 3609 0068 2121     		movs	r1, #33
 3610 006a 2846     		mov	r0, r5
 3611              	.LVL398:
 956:dev/BSP/Components/vl6180/vl6180_api.c **** 									DEF_CROSS_TALK_VALID_HEIGHT_VALUE /  scaling);
 3612              		.loc 1 956 13 view .LVU1240
 3613 006c FFF7FEFF 		bl	VL6180_WrByte
 3614              	.LVL399:
 956:dev/BSP/Components/vl6180/vl6180_api.c **** 									DEF_CROSS_TALK_VALID_HEIGHT_VALUE /  scaling);
 3615              		.loc 1 956 13 view .LVU1241
 3616 0070 DFE7     		b	.L251
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 122


 3617              	.L260:
 974:dev/BSP/Components/vl6180/vl6180_api.c **** 		}
 3618              		.loc 1 974 4 is_stmt 1 view .LVU1242
 974:dev/BSP/Components/vl6180/vl6180_api.c **** 		}
 3619              		.loc 1 974 13 is_stmt 0 view .LVU1243
 3620 0072 012C     		cmp	r4, #1
 3621 0074 14BF     		ite	ne
 3622 0076 0021     		movne	r1, #0
 3623 0078 0121     		moveq	r1, #1
 3624 007a 2846     		mov	r0, r5
 3625              	.LVL400:
 974:dev/BSP/Components/vl6180/vl6180_api.c **** 		}
 3626              		.loc 1 974 13 view .LVU1244
 3627 007c FFF7FEFF 		bl	VL6180_RangeSetEceState
 3628              	.LVL401:
 974:dev/BSP/Components/vl6180/vl6180_api.c **** 		}
 3629              		.loc 1 974 13 view .LVU1245
 3630 0080 E7E7     		b	.L254
 3631              	.LVL402:
 3632              	.L255:
 981:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
 3633              		.loc 1 981 10 view .LVU1246
 3634 0082 6FF00100 		mvn	r0, #1
 3635              	.LVL403:
 981:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
 3636              		.loc 1 981 10 view .LVU1247
 3637 0086 EBE7     		b	.L249
 3638              	.LVL404:
 3639              	.L261:
 977:dev/BSP/Components/vl6180/vl6180_api.c **** 		}
 3640              		.loc 1 977 11 view .LVU1248
 3641 0088 0320     		movs	r0, #3
 3642              	.LVL405:
 985:dev/BSP/Components/vl6180/vl6180_api.c **** 	return status;
 3643              		.loc 1 985 2 is_stmt 1 view .LVU1249
 986:dev/BSP/Components/vl6180/vl6180_api.c **** }
 3644              		.loc 1 986 2 view .LVU1250
 986:dev/BSP/Components/vl6180/vl6180_api.c **** }
 3645              		.loc 1 986 9 is_stmt 0 view .LVU1251
 3646 008a E9E7     		b	.L249
 3647              	.L263:
 3648              		.align	2
 3649              	.L262:
 3650 008c 00000000 		.word	.LANCHOR2
 3651              		.cfi_endproc
 3652              	.LFE26:
 3654              		.section	.text.VL6180_RangeSetInterMeasPeriod,"ax",%progbits
 3655              		.align	1
 3656              		.global	VL6180_RangeSetInterMeasPeriod
 3657              		.syntax unified
 3658              		.thumb
 3659              		.thumb_func
 3660              		.fpu fpv5-d16
 3662              	VL6180_RangeSetInterMeasPeriod:
 3663              	.LVL406:
 3664              	.LFB38:
1229:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint8_t SetTime;
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 123


 3665              		.loc 1 1229 1 is_stmt 1 view -0
 3666              		.cfi_startproc
 3667              		@ args = 0, pretend = 0, frame = 0
 3668              		@ frame_needed = 0, uses_anonymous_args = 0
1230:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
 3669              		.loc 1 1230 2 view .LVU1253
1231:dev/BSP/Components/vl6180/vl6180_api.c **** 
 3670              		.loc 1 1231 2 view .LVU1254
1233:dev/BSP/Components/vl6180/vl6180_api.c **** 	do {
 3671              		.loc 1 1233 2 view .LVU1255
1234:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (InterMeasTime_msec > 2550) {
 3672              		.loc 1 1234 2 view .LVU1256
1235:dev/BSP/Components/vl6180/vl6180_api.c **** 			status = INVALID_PARAMS;
 3673              		.loc 1 1235 3 view .LVU1257
1235:dev/BSP/Components/vl6180/vl6180_api.c **** 			status = INVALID_PARAMS;
 3674              		.loc 1 1235 6 is_stmt 0 view .LVU1258
 3675 0000 40F6F613 		movw	r3, #2550
 3676 0004 9942     		cmp	r1, r3
 3677 0006 12D8     		bhi	.L267
1229:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint8_t SetTime;
 3678              		.loc 1 1229 1 view .LVU1259
 3679 0008 10B5     		push	{r4, lr}
 3680              	.LCFI55:
 3681              		.cfi_def_cfa_offset 8
 3682              		.cfi_offset 4, -8
 3683              		.cfi_offset 14, -4
1241:dev/BSP/Components/vl6180/vl6180_api.c **** 			InterMeasTime_msec = 10;
 3684              		.loc 1 1241 3 is_stmt 1 view .LVU1260
1241:dev/BSP/Components/vl6180/vl6180_api.c **** 			InterMeasTime_msec = 10;
 3685              		.loc 1 1241 6 is_stmt 0 view .LVU1261
 3686 000a 0929     		cmp	r1, #9
 3687 000c 00D8     		bhi	.L266
1242:dev/BSP/Components/vl6180/vl6180_api.c **** 		}
 3688              		.loc 1 1242 23 view .LVU1262
 3689 000e 0A21     		movs	r1, #10
 3690              	.LVL407:
 3691              	.L266:
1244:dev/BSP/Components/vl6180/vl6180_api.c **** 		status = VL6180_WrByte(dev, SYSRANGE_INTERMEASUREMENT_PERIOD, SetTime);
 3692              		.loc 1 1244 3 is_stmt 1 view .LVU1263
1244:dev/BSP/Components/vl6180/vl6180_api.c **** 		status = VL6180_WrByte(dev, SYSRANGE_INTERMEASUREMENT_PERIOD, SetTime);
 3693              		.loc 1 1244 42 is_stmt 0 view .LVU1264
 3694 0010 084A     		ldr	r2, .L274
 3695 0012 A2FB0132 		umull	r3, r2, r2, r1
 3696 0016 D408     		lsrs	r4, r2, #3
 3697              	.LVL408:
1245:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (status) {
 3698              		.loc 1 1245 3 is_stmt 1 view .LVU1265
1245:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (status) {
 3699              		.loc 1 1245 12 is_stmt 0 view .LVU1266
 3700 0018 C2F3C702 		ubfx	r2, r2, #3, #8
 3701              	.LVL409:
1245:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (status) {
 3702              		.loc 1 1245 12 view .LVU1267
 3703 001c 1B21     		movs	r1, #27
 3704              	.LVL410:
1245:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (status) {
 3705              		.loc 1 1245 12 view .LVU1268
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 124


 3706 001e FFF7FEFF 		bl	VL6180_WrByte
 3707              	.LVL411:
1246:dev/BSP/Components/vl6180/vl6180_api.c **** 			VL6180_ErrLog("SYSRANGE_INTERMEASUREMENT_PERIOD wr fail");
 3708              		.loc 1 1246 3 is_stmt 1 view .LVU1269
1246:dev/BSP/Components/vl6180/vl6180_api.c **** 			VL6180_ErrLog("SYSRANGE_INTERMEASUREMENT_PERIOD wr fail");
 3709              		.loc 1 1246 6 is_stmt 0 view .LVU1270
 3710 0022 18B9     		cbnz	r0, .L264
1248:dev/BSP/Components/vl6180/vl6180_api.c **** 			status = MIN_CLIPED;  /* on success change status to clip if it did */
 3711              		.loc 1 1248 10 is_stmt 1 view .LVU1271
1248:dev/BSP/Components/vl6180/vl6180_api.c **** 			status = MIN_CLIPED;  /* on success change status to clip if it did */
 3712              		.loc 1 1248 13 is_stmt 0 view .LVU1272
 3713 0024 E3B2     		uxtb	r3, r4
 3714 0026 9C42     		cmp	r4, r3
 3715 0028 00D0     		beq	.L264
1249:dev/BSP/Components/vl6180/vl6180_api.c **** 		}
 3716              		.loc 1 1249 11 view .LVU1273
 3717 002a 0220     		movs	r0, #2
 3718              	.LVL412:
1251:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_END(status);
 3719              		.loc 1 1251 10 is_stmt 1 view .LVU1274
1252:dev/BSP/Components/vl6180/vl6180_api.c **** 	return status;
 3720              		.loc 1 1252 2 view .LVU1275
1253:dev/BSP/Components/vl6180/vl6180_api.c **** }
 3721              		.loc 1 1253 2 view .LVU1276
 3722              	.L264:
1254:dev/BSP/Components/vl6180/vl6180_api.c **** 
 3723              		.loc 1 1254 1 is_stmt 0 view .LVU1277
 3724 002c 10BD     		pop	{r4, pc}
 3725              	.LVL413:
 3726              	.L267:
 3727              	.LCFI56:
 3728              		.cfi_def_cfa_offset 0
 3729              		.cfi_restore 4
 3730              		.cfi_restore 14
1236:dev/BSP/Components/vl6180/vl6180_api.c **** 			break;
 3731              		.loc 1 1236 11 view .LVU1278
 3732 002e 6FF00100 		mvn	r0, #1
 3733              	.LVL414:
1254:dev/BSP/Components/vl6180/vl6180_api.c **** 
 3734              		.loc 1 1254 1 view .LVU1279
 3735 0032 7047     		bx	lr
 3736              	.L275:
 3737              		.align	2
 3738              	.L274:
 3739 0034 CDCCCCCC 		.word	-858993459
 3740              		.cfi_endproc
 3741              	.LFE38:
 3743              		.section	.text.VL6180_RangeGetDeviceReady,"ax",%progbits
 3744              		.align	1
 3745              		.global	VL6180_RangeGetDeviceReady
 3746              		.syntax unified
 3747              		.thumb
 3748              		.thumb_func
 3749              		.fpu fpv5-d16
 3751              	VL6180_RangeGetDeviceReady:
 3752              	.LVL415:
 3753              	.LFB39:
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 125


1258:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
 3754              		.loc 1 1258 1 is_stmt 1 view -0
 3755              		.cfi_startproc
 3756              		@ args = 0, pretend = 0, frame = 8
 3757              		@ frame_needed = 0, uses_anonymous_args = 0
1258:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
 3758              		.loc 1 1258 1 is_stmt 0 view .LVU1281
 3759 0000 10B5     		push	{r4, lr}
 3760              	.LCFI57:
 3761              		.cfi_def_cfa_offset 8
 3762              		.cfi_offset 4, -8
 3763              		.cfi_offset 14, -4
 3764 0002 82B0     		sub	sp, sp, #8
 3765              	.LCFI58:
 3766              		.cfi_def_cfa_offset 16
 3767 0004 0C46     		mov	r4, r1
1259:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint8_t u8;
 3768              		.loc 1 1259 2 is_stmt 1 view .LVU1282
1260:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_START("%p", (int)Ready);
 3769              		.loc 1 1260 2 view .LVU1283
1261:dev/BSP/Components/vl6180/vl6180_api.c **** 	status = VL6180_RdByte(dev, RESULT_RANGE_STATUS, &u8);
 3770              		.loc 1 1261 2 view .LVU1284
1262:dev/BSP/Components/vl6180/vl6180_api.c **** 	if (!status)
 3771              		.loc 1 1262 2 view .LVU1285
1262:dev/BSP/Components/vl6180/vl6180_api.c **** 	if (!status)
 3772              		.loc 1 1262 11 is_stmt 0 view .LVU1286
 3773 0006 0DF10702 		add	r2, sp, #7
 3774 000a 4D21     		movs	r1, #77
 3775              	.LVL416:
1262:dev/BSP/Components/vl6180/vl6180_api.c **** 	if (!status)
 3776              		.loc 1 1262 11 view .LVU1287
 3777 000c FFF7FEFF 		bl	VL6180_RdByte
 3778              	.LVL417:
1263:dev/BSP/Components/vl6180/vl6180_api.c **** 		*Ready = u8&RANGE_DEVICE_READY_MASK;
 3779              		.loc 1 1263 2 is_stmt 1 view .LVU1288
1263:dev/BSP/Components/vl6180/vl6180_api.c **** 		*Ready = u8&RANGE_DEVICE_READY_MASK;
 3780              		.loc 1 1263 5 is_stmt 0 view .LVU1289
 3781 0010 20B9     		cbnz	r0, .L276
1264:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_END_FMT(status, "%d", *Ready);
 3782              		.loc 1 1264 3 is_stmt 1 view .LVU1290
1264:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_END_FMT(status, "%d", *Ready);
 3783              		.loc 1 1264 14 is_stmt 0 view .LVU1291
 3784 0012 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 3785 0016 03F00103 		and	r3, r3, #1
1264:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_END_FMT(status, "%d", *Ready);
 3786              		.loc 1 1264 10 view .LVU1292
 3787 001a 2360     		str	r3, [r4]
1265:dev/BSP/Components/vl6180/vl6180_api.c **** 	return status;
 3788              		.loc 1 1265 2 is_stmt 1 view .LVU1293
1266:dev/BSP/Components/vl6180/vl6180_api.c **** }
 3789              		.loc 1 1266 2 view .LVU1294
 3790              	.L276:
1267:dev/BSP/Components/vl6180/vl6180_api.c **** 
 3791              		.loc 1 1267 1 is_stmt 0 view .LVU1295
 3792 001c 02B0     		add	sp, sp, #8
 3793              	.LCFI59:
 3794              		.cfi_def_cfa_offset 8
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 126


 3795              		@ sp needed
 3796 001e 10BD     		pop	{r4, pc}
1267:dev/BSP/Components/vl6180/vl6180_api.c **** 
 3797              		.loc 1 1267 1 view .LVU1296
 3798              		.cfi_endproc
 3799              	.LFE39:
 3801              		.section	.text.VL6180_RangeWaitDeviceReady,"ax",%progbits
 3802              		.align	1
 3803              		.global	VL6180_RangeWaitDeviceReady
 3804              		.syntax unified
 3805              		.thumb
 3806              		.thumb_func
 3807              		.fpu fpv5-d16
 3809              	VL6180_RangeWaitDeviceReady:
 3810              	.LVL418:
 3811              	.LFB40:
1271:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status = 0; /* if user specify an invalid <=0 loop count we'll return error */
 3812              		.loc 1 1271 1 is_stmt 1 view -0
 3813              		.cfi_startproc
 3814              		@ args = 0, pretend = 0, frame = 8
 3815              		@ frame_needed = 0, uses_anonymous_args = 0
1271:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status = 0; /* if user specify an invalid <=0 loop count we'll return error */
 3816              		.loc 1 1271 1 is_stmt 0 view .LVU1298
 3817 0000 70B5     		push	{r4, r5, r6, lr}
 3818              	.LCFI60:
 3819              		.cfi_def_cfa_offset 16
 3820              		.cfi_offset 4, -16
 3821              		.cfi_offset 5, -12
 3822              		.cfi_offset 6, -8
 3823              		.cfi_offset 14, -4
 3824 0002 82B0     		sub	sp, sp, #8
 3825              	.LCFI61:
 3826              		.cfi_def_cfa_offset 24
1272:dev/BSP/Components/vl6180/vl6180_api.c **** 	int  n;
 3827              		.loc 1 1272 2 is_stmt 1 view .LVU1299
 3828              	.LVL419:
1273:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint8_t u8;
 3829              		.loc 1 1273 2 view .LVU1300
1274:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_START("%d", (int)MaxLoop);
 3830              		.loc 1 1274 2 view .LVU1301
1275:dev/BSP/Components/vl6180/vl6180_api.c **** 	if (MaxLoop < 1) {
 3831              		.loc 1 1275 2 view .LVU1302
1276:dev/BSP/Components/vl6180/vl6180_api.c **** 		status = INVALID_PARAMS;
 3832              		.loc 1 1276 2 view .LVU1303
1276:dev/BSP/Components/vl6180/vl6180_api.c **** 		status = INVALID_PARAMS;
 3833              		.loc 1 1276 5 is_stmt 0 view .LVU1304
 3834 0004 0D1E     		subs	r5, r1, #0
 3835 0006 1DDD     		ble	.L284
 3836 0008 0646     		mov	r6, r0
1279:dev/BSP/Components/vl6180/vl6180_api.c **** 			status = VL6180_RdByte(dev, RESULT_RANGE_STATUS, &u8);
 3837              		.loc 1 1279 10 view .LVU1305
 3838 000a 0024     		movs	r4, #0
1272:dev/BSP/Components/vl6180/vl6180_api.c **** 	int  n;
 3839              		.loc 1 1272 6 view .LVU1306
 3840 000c 2246     		mov	r2, r4
 3841 000e 00E0     		b	.L281
 3842              	.LVL420:
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 127


 3843              	.L287:
1279:dev/BSP/Components/vl6180/vl6180_api.c **** 			status = VL6180_RdByte(dev, RESULT_RANGE_STATUS, &u8);
 3844              		.loc 1 1279 29 is_stmt 1 discriminator 2 view .LVU1307
1279:dev/BSP/Components/vl6180/vl6180_api.c **** 			status = VL6180_RdByte(dev, RESULT_RANGE_STATUS, &u8);
 3845              		.loc 1 1279 30 is_stmt 0 discriminator 2 view .LVU1308
 3846 0010 0134     		adds	r4, r4, #1
 3847              	.LVL421:
 3848              	.L281:
1279:dev/BSP/Components/vl6180/vl6180_api.c **** 			status = VL6180_RdByte(dev, RESULT_RANGE_STATUS, &u8);
 3849              		.loc 1 1279 15 is_stmt 1 discriminator 1 view .LVU1309
1279:dev/BSP/Components/vl6180/vl6180_api.c **** 			status = VL6180_RdByte(dev, RESULT_RANGE_STATUS, &u8);
 3850              		.loc 1 1279 3 is_stmt 0 discriminator 1 view .LVU1310
 3851 0012 AC42     		cmp	r4, r5
 3852 0014 0FDA     		bge	.L282
1280:dev/BSP/Components/vl6180/vl6180_api.c **** 			if (status)
 3853              		.loc 1 1280 4 is_stmt 1 view .LVU1311
1280:dev/BSP/Components/vl6180/vl6180_api.c **** 			if (status)
 3854              		.loc 1 1280 13 is_stmt 0 view .LVU1312
 3855 0016 0DF10702 		add	r2, sp, #7
 3856              	.LVL422:
1280:dev/BSP/Components/vl6180/vl6180_api.c **** 			if (status)
 3857              		.loc 1 1280 13 view .LVU1313
 3858 001a 4D21     		movs	r1, #77
 3859 001c 3046     		mov	r0, r6
 3860 001e FFF7FEFF 		bl	VL6180_RdByte
 3861              	.LVL423:
1281:dev/BSP/Components/vl6180/vl6180_api.c **** 				break;
 3862              		.loc 1 1281 4 is_stmt 1 view .LVU1314
1281:dev/BSP/Components/vl6180/vl6180_api.c **** 				break;
 3863              		.loc 1 1281 7 is_stmt 0 view .LVU1315
 3864 0022 0246     		mov	r2, r0
 3865 0024 38B9     		cbnz	r0, .L282
1283:dev/BSP/Components/vl6180/vl6180_api.c **** 			if (u8)
 3866              		.loc 1 1283 4 is_stmt 1 view .LVU1316
1283:dev/BSP/Components/vl6180/vl6180_api.c **** 			if (u8)
 3867              		.loc 1 1283 12 is_stmt 0 view .LVU1317
 3868 0026 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 3869 002a 03F00103 		and	r3, r3, #1
1283:dev/BSP/Components/vl6180/vl6180_api.c **** 			if (u8)
 3870              		.loc 1 1283 7 view .LVU1318
 3871 002e 8DF80730 		strb	r3, [sp, #7]
1284:dev/BSP/Components/vl6180/vl6180_api.c **** 				break;
 3872              		.loc 1 1284 4 is_stmt 1 view .LVU1319
1284:dev/BSP/Components/vl6180/vl6180_api.c **** 				break;
 3873              		.loc 1 1284 7 is_stmt 0 view .LVU1320
 3874 0032 002B     		cmp	r3, #0
 3875 0034 ECD0     		beq	.L287
 3876              	.LVL424:
 3877              	.L282:
1288:dev/BSP/Components/vl6180/vl6180_api.c **** 			status = TIME_OUT;
 3878              		.loc 1 1288 3 is_stmt 1 view .LVU1321
1288:dev/BSP/Components/vl6180/vl6180_api.c **** 			status = TIME_OUT;
 3879              		.loc 1 1288 6 is_stmt 0 view .LVU1322
 3880 0036 12B9     		cbnz	r2, .L279
1288:dev/BSP/Components/vl6180/vl6180_api.c **** 			status = TIME_OUT;
 3881              		.loc 1 1288 18 discriminator 1 view .LVU1323
 3882 0038 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 128


1288:dev/BSP/Components/vl6180/vl6180_api.c **** 			status = TIME_OUT;
 3883              		.loc 1 1288 15 discriminator 1 view .LVU1324
 3884 003c 2BB1     		cbz	r3, .L288
 3885              	.LVL425:
 3886              	.L279:
1294:dev/BSP/Components/vl6180/vl6180_api.c **** 
 3887              		.loc 1 1294 1 view .LVU1325
 3888 003e 1046     		mov	r0, r2
 3889 0040 02B0     		add	sp, sp, #8
 3890              	.LCFI62:
 3891              		.cfi_remember_state
 3892              		.cfi_def_cfa_offset 16
 3893              		@ sp needed
 3894 0042 70BD     		pop	{r4, r5, r6, pc}
 3895              	.LVL426:
 3896              	.L284:
 3897              	.LCFI63:
 3898              		.cfi_restore_state
1277:dev/BSP/Components/vl6180/vl6180_api.c **** 	} else {
 3899              		.loc 1 1277 10 view .LVU1326
 3900 0044 6FF00102 		mvn	r2, #1
 3901 0048 F9E7     		b	.L279
 3902              	.LVL427:
 3903              	.L288:
1289:dev/BSP/Components/vl6180/vl6180_api.c **** 		}
 3904              		.loc 1 1289 11 view .LVU1327
 3905 004a 6FF00402 		mvn	r2, #4
 3906              	.LVL428:
1292:dev/BSP/Components/vl6180/vl6180_api.c **** 	return status;
 3907              		.loc 1 1292 2 is_stmt 1 view .LVU1328
1293:dev/BSP/Components/vl6180/vl6180_api.c **** }
 3908              		.loc 1 1293 2 view .LVU1329
1293:dev/BSP/Components/vl6180/vl6180_api.c **** }
 3909              		.loc 1 1293 9 is_stmt 0 view .LVU1330
 3910 004e F6E7     		b	.L279
 3911              		.cfi_endproc
 3912              	.LFE40:
 3914              		.section	.text.VL6180_RangeSetSystemMode,"ax",%progbits
 3915              		.align	1
 3916              		.global	VL6180_RangeSetSystemMode
 3917              		.syntax unified
 3918              		.thumb
 3919              		.thumb_func
 3920              		.fpu fpv5-d16
 3922              	VL6180_RangeSetSystemMode:
 3923              	.LVL429:
 3924              	.LFB41:
1297:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
 3925              		.loc 1 1297 1 is_stmt 1 view -0
 3926              		.cfi_startproc
 3927              		@ args = 0, pretend = 0, frame = 0
 3928              		@ frame_needed = 0, uses_anonymous_args = 0
1298:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_START("%d", (int)mode);
 3929              		.loc 1 1298 2 view .LVU1332
1299:dev/BSP/Components/vl6180/vl6180_api.c **** 	/* FIXME we are not checking device is ready via @a VL6180_RangeWaitDeviceReady
 3930              		.loc 1 1299 2 view .LVU1333
1304:dev/BSP/Components/vl6180/vl6180_api.c **** 		status = VL6180_WrByte(dev, SYSRANGE_START, mode);
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 129


 3931              		.loc 1 1304 2 view .LVU1334
1304:dev/BSP/Components/vl6180/vl6180_api.c **** 		status = VL6180_WrByte(dev, SYSRANGE_START, mode);
 3932              		.loc 1 1304 5 is_stmt 0 view .LVU1335
 3933 0000 0329     		cmp	r1, #3
 3934 0002 05D8     		bhi	.L291
1297:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
 3935              		.loc 1 1297 1 view .LVU1336
 3936 0004 08B5     		push	{r3, lr}
 3937              	.LCFI64:
 3938              		.cfi_def_cfa_offset 8
 3939              		.cfi_offset 3, -8
 3940              		.cfi_offset 14, -4
 3941 0006 0A46     		mov	r2, r1
1305:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (status) {
 3942              		.loc 1 1305 3 is_stmt 1 view .LVU1337
1305:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (status) {
 3943              		.loc 1 1305 12 is_stmt 0 view .LVU1338
 3944 0008 1821     		movs	r1, #24
 3945              	.LVL430:
1305:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (status) {
 3946              		.loc 1 1305 12 view .LVU1339
 3947 000a FFF7FEFF 		bl	VL6180_WrByte
 3948              	.LVL431:
1306:dev/BSP/Components/vl6180/vl6180_api.c **** 		    VL6180_ErrLog("SYSRANGE_START wr fail");
 3949              		.loc 1 1306 3 is_stmt 1 view .LVU1340
1307:dev/BSP/Components/vl6180/vl6180_api.c **** 		}
 3950              		.loc 1 1307 7 view .LVU1341
1314:dev/BSP/Components/vl6180/vl6180_api.c **** 
 3951              		.loc 1 1314 1 is_stmt 0 view .LVU1342
 3952 000e 08BD     		pop	{r3, pc}
 3953              	.LVL432:
 3954              	.L291:
 3955              	.LCFI65:
 3956              		.cfi_def_cfa_offset 0
 3957              		.cfi_restore 3
 3958              		.cfi_restore 14
1310:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
 3959              		.loc 1 1310 10 view .LVU1343
 3960 0010 6FF00100 		mvn	r0, #1
 3961              	.LVL433:
1312:dev/BSP/Components/vl6180/vl6180_api.c **** 	return status;
 3962              		.loc 1 1312 2 is_stmt 1 view .LVU1344
1313:dev/BSP/Components/vl6180/vl6180_api.c **** }
 3963              		.loc 1 1313 2 view .LVU1345
1314:dev/BSP/Components/vl6180/vl6180_api.c **** 
 3964              		.loc 1 1314 1 is_stmt 0 view .LVU1346
 3965 0014 7047     		bx	lr
 3966              		.cfi_endproc
 3967              	.LFE41:
 3969              		.section	.text.VL6180_RangeStartContinuousMode,"ax",%progbits
 3970              		.align	1
 3971              		.global	VL6180_RangeStartContinuousMode
 3972              		.syntax unified
 3973              		.thumb
 3974              		.thumb_func
 3975              		.fpu fpv5-d16
 3977              	VL6180_RangeStartContinuousMode:
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 130


 3978              	.LVL434:
 3979              	.LFB42:
1318:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
 3980              		.loc 1 1318 1 is_stmt 1 view -0
 3981              		.cfi_startproc
 3982              		@ args = 0, pretend = 0, frame = 0
 3983              		@ frame_needed = 0, uses_anonymous_args = 0
1318:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
 3984              		.loc 1 1318 1 is_stmt 0 view .LVU1348
 3985 0000 08B5     		push	{r3, lr}
 3986              	.LCFI66:
 3987              		.cfi_def_cfa_offset 8
 3988              		.cfi_offset 3, -8
 3989              		.cfi_offset 14, -4
1319:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_START("");
 3990              		.loc 1 1319 2 is_stmt 1 view .LVU1349
1320:dev/BSP/Components/vl6180/vl6180_api.c **** 	status = VL6180_RangeSetSystemMode(dev, MODE_START_STOP | MODE_CONTINUOUS);
 3991              		.loc 1 1320 2 view .LVU1350
1321:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_END(status);
 3992              		.loc 1 1321 2 view .LVU1351
1321:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_END(status);
 3993              		.loc 1 1321 11 is_stmt 0 view .LVU1352
 3994 0002 0321     		movs	r1, #3
 3995 0004 FFF7FEFF 		bl	VL6180_RangeSetSystemMode
 3996              	.LVL435:
1322:dev/BSP/Components/vl6180/vl6180_api.c **** 	return status;
 3997              		.loc 1 1322 2 is_stmt 1 view .LVU1353
1323:dev/BSP/Components/vl6180/vl6180_api.c **** }
 3998              		.loc 1 1323 2 view .LVU1354
1324:dev/BSP/Components/vl6180/vl6180_api.c **** 
 3999              		.loc 1 1324 1 is_stmt 0 view .LVU1355
 4000 0008 08BD     		pop	{r3, pc}
 4001              		.cfi_endproc
 4002              	.LFE42:
 4004              		.section	.text.VL6180_RangeStartSingleShot,"ax",%progbits
 4005              		.align	1
 4006              		.global	VL6180_RangeStartSingleShot
 4007              		.syntax unified
 4008              		.thumb
 4009              		.thumb_func
 4010              		.fpu fpv5-d16
 4012              	VL6180_RangeStartSingleShot:
 4013              	.LVL436:
 4014              	.LFB43:
1327:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
 4015              		.loc 1 1327 1 is_stmt 1 view -0
 4016              		.cfi_startproc
 4017              		@ args = 0, pretend = 0, frame = 0
 4018              		@ frame_needed = 0, uses_anonymous_args = 0
1327:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
 4019              		.loc 1 1327 1 is_stmt 0 view .LVU1357
 4020 0000 08B5     		push	{r3, lr}
 4021              	.LCFI67:
 4022              		.cfi_def_cfa_offset 8
 4023              		.cfi_offset 3, -8
 4024              		.cfi_offset 14, -4
1328:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_START("");
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 131


 4025              		.loc 1 1328 2 is_stmt 1 view .LVU1358
1329:dev/BSP/Components/vl6180/vl6180_api.c **** 	status = VL6180_RangeSetSystemMode(dev, MODE_START_STOP | MODE_SINGLESHOT);
 4026              		.loc 1 1329 2 view .LVU1359
1330:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_END(status);
 4027              		.loc 1 1330 2 view .LVU1360
1330:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_END(status);
 4028              		.loc 1 1330 11 is_stmt 0 view .LVU1361
 4029 0002 0121     		movs	r1, #1
 4030 0004 FFF7FEFF 		bl	VL6180_RangeSetSystemMode
 4031              	.LVL437:
1331:dev/BSP/Components/vl6180/vl6180_api.c **** 	return status;
 4032              		.loc 1 1331 2 is_stmt 1 view .LVU1362
1332:dev/BSP/Components/vl6180/vl6180_api.c **** }
 4033              		.loc 1 1332 2 view .LVU1363
1333:dev/BSP/Components/vl6180/vl6180_api.c **** 
 4034              		.loc 1 1333 1 is_stmt 0 view .LVU1364
 4035 0008 08BD     		pop	{r3, pc}
 4036              		.cfi_endproc
 4037              	.LFE43:
 4039              		.section	.text.VL6180_DMaxGetState,"ax",%progbits
 4040              		.align	1
 4041              		.global	VL6180_DMaxGetState
 4042              		.syntax unified
 4043              		.thumb
 4044              		.thumb_func
 4045              		.fpu fpv5-d16
 4047              	VL6180_DMaxGetState:
 4048              	.LVL438:
 4049              	.LFB55:
2187:dev/BSP/Components/vl6180/vl6180_api.c **** #endif /* VL6180_HAVE_RATE_DATA */
2188:dev/BSP/Components/vl6180/vl6180_api.c **** 
2189:dev/BSP/Components/vl6180/vl6180_api.c **** 
2190:dev/BSP/Components/vl6180/vl6180_api.c **** int VL6180_DMaxSetState(VL6180Dev_t dev, int state)
2191:dev/BSP/Components/vl6180/vl6180_api.c **** {
2192:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
2193:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_START("%d", state);
2194:dev/BSP/Components/vl6180/vl6180_api.c **** #if VL6180_HAVE_DMAX_RANGING
2195:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180DevDataSet(dev, DMaxEnable, state);
2196:dev/BSP/Components/vl6180/vl6180_api.c **** 	if (state) {
2197:dev/BSP/Components/vl6180/vl6180_api.c **** 		status = _DMax_InitData(dev);
2198:dev/BSP/Components/vl6180/vl6180_api.c **** 	} else {
2199:dev/BSP/Components/vl6180/vl6180_api.c **** 		status = 0;
2200:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
2201:dev/BSP/Components/vl6180/vl6180_api.c **** #else
2202:dev/BSP/Components/vl6180/vl6180_api.c **** 	status =  NOT_SUPPORTED;
2203:dev/BSP/Components/vl6180/vl6180_api.c **** #endif
2204:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_END(status);
2205:dev/BSP/Components/vl6180/vl6180_api.c **** 	return status;
2206:dev/BSP/Components/vl6180/vl6180_api.c **** }
2207:dev/BSP/Components/vl6180/vl6180_api.c **** 
2208:dev/BSP/Components/vl6180/vl6180_api.c **** int VL6180_DMaxGetState(VL6180Dev_t dev)
2209:dev/BSP/Components/vl6180/vl6180_api.c **** {
 4050              		.loc 1 2209 1 is_stmt 1 view -0
 4051              		.cfi_startproc
 4052              		@ args = 0, pretend = 0, frame = 0
 4053              		@ frame_needed = 0, uses_anonymous_args = 0
 4054              		@ link register save eliminated.
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 132


2210:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
 4055              		.loc 1 2210 2 view .LVU1366
2211:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_START("");
 4056              		.loc 1 2211 2 view .LVU1367
2212:dev/BSP/Components/vl6180/vl6180_api.c **** #if VL6180_HAVE_DMAX_RANGING
2213:dev/BSP/Components/vl6180/vl6180_api.c **** 	status = VL6180DevDataGet(dev, DMaxEnable);
 4057              		.loc 1 2213 2 view .LVU1368
2214:dev/BSP/Components/vl6180/vl6180_api.c **** #else
2215:dev/BSP/Components/vl6180/vl6180_api.c **** 	status = 0;
2216:dev/BSP/Components/vl6180/vl6180_api.c **** #endif
2217:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_END(status);
 4058              		.loc 1 2217 2 view .LVU1369
2218:dev/BSP/Components/vl6180/vl6180_api.c **** 	return status;
 4059              		.loc 1 2218 2 view .LVU1370
2219:dev/BSP/Components/vl6180/vl6180_api.c **** }
 4060              		.loc 1 2219 1 is_stmt 0 view .LVU1371
 4061 0000 90F88800 		ldrb	r0, [r0, #136]	@ zero_extendqisi2
 4062              	.LVL439:
 4063              		.loc 1 2219 1 view .LVU1372
 4064 0004 7047     		bx	lr
 4065              		.cfi_endproc
 4066              	.LFE55:
 4068              		.section	.text.VL6180_SqrtUint32,"ax",%progbits
 4069              		.align	1
 4070              		.global	VL6180_SqrtUint32
 4071              		.syntax unified
 4072              		.thumb
 4073              		.thumb_func
 4074              		.fpu fpv5-d16
 4076              	VL6180_SqrtUint32:
 4077              	.LVL440:
 4078              	.LFB56:
2220:dev/BSP/Components/vl6180/vl6180_api.c **** 
2221:dev/BSP/Components/vl6180/vl6180_api.c **** 
2222:dev/BSP/Components/vl6180/vl6180_api.c **** #if VL6180_HAVE_DMAX_RANGING
2223:dev/BSP/Components/vl6180/vl6180_api.c **** 
2224:dev/BSP/Components/vl6180/vl6180_api.c **** #define _DMaxData(field) VL6180DevDataGet(dev, DMaxData.field)
2225:dev/BSP/Components/vl6180/vl6180_api.c **** /*
2226:dev/BSP/Components/vl6180/vl6180_api.c ****  * Convert fix point  x.7 to KCpount per sec
2227:dev/BSP/Components/vl6180/vl6180_api.c ****  */
2228:dev/BSP/Components/vl6180/vl6180_api.c **** 
2229:dev/BSP/Components/vl6180/vl6180_api.c **** #ifndef VL6180_PLATFORM_PROVIDE_SQRT
2230:dev/BSP/Components/vl6180/vl6180_api.c **** 
2231:dev/BSP/Components/vl6180/vl6180_api.c **** /*
2232:dev/BSP/Components/vl6180/vl6180_api.c ****  * 32 bit integer square root with not so bad precision (integer result) and is quite fast
2233:dev/BSP/Components/vl6180/vl6180_api.c ****  * see http://en.wikipedia.org/wiki/Methods_of_computing_square_roots
2234:dev/BSP/Components/vl6180/vl6180_api.c ****  */
2235:dev/BSP/Components/vl6180/vl6180_api.c **** uint32_t VL6180_SqrtUint32(uint32_t num)
2236:dev/BSP/Components/vl6180/vl6180_api.c **** {
 4079              		.loc 1 2236 1 is_stmt 1 view -0
 4080              		.cfi_startproc
 4081              		@ args = 0, pretend = 0, frame = 0
 4082              		@ frame_needed = 0, uses_anonymous_args = 0
 4083              		@ link register save eliminated.
 4084              		.loc 1 2236 1 is_stmt 0 view .LVU1374
 4085 0000 0246     		mov	r2, r0
2237:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint32_t res = 0;
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 133


 4086              		.loc 1 2237 2 is_stmt 1 view .LVU1375
 4087              	.LVL441:
2238:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint32_t bit = 1 << 30; /* The second-to-top bit is set: 1 << 30 for 32 bits */
 4088              		.loc 1 2238 2 view .LVU1376
2239:dev/BSP/Components/vl6180/vl6180_api.c **** 
2240:dev/BSP/Components/vl6180/vl6180_api.c **** 	/* "bit" starts at the highest power of four <= the argument. */
2241:dev/BSP/Components/vl6180/vl6180_api.c **** 	while (bit > num)
 4089              		.loc 1 2241 2 view .LVU1377
2238:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint32_t bit = 1 << 30; /* The second-to-top bit is set: 1 << 30 for 32 bits */
 4090              		.loc 1 2238 11 is_stmt 0 view .LVU1378
 4091 0002 4FF08043 		mov	r3, #1073741824
 4092              	.LVL442:
 4093              	.L302:
 4094              		.loc 1 2241 8 is_stmt 1 view .LVU1379
 4095 0006 9342     		cmp	r3, r2
 4096 0008 01D9     		bls	.L308
2242:dev/BSP/Components/vl6180/vl6180_api.c **** 		bit >>= 2;
 4097              		.loc 1 2242 3 view .LVU1380
 4098              		.loc 1 2242 7 is_stmt 0 view .LVU1381
 4099 000a 9B08     		lsrs	r3, r3, #2
 4100              	.LVL443:
 4101              		.loc 1 2242 7 view .LVU1382
 4102 000c FBE7     		b	.L302
 4103              	.L308:
2237:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint32_t bit = 1 << 30; /* The second-to-top bit is set: 1 << 30 for 32 bits */
 4104              		.loc 1 2237 11 view .LVU1383
 4105 000e 0020     		movs	r0, #0
 4106              	.LVL444:
2237:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint32_t bit = 1 << 30; /* The second-to-top bit is set: 1 << 30 for 32 bits */
 4107              		.loc 1 2237 11 view .LVU1384
 4108 0010 01E0     		b	.L304
 4109              	.LVL445:
 4110              	.L305:
2243:dev/BSP/Components/vl6180/vl6180_api.c **** 
2244:dev/BSP/Components/vl6180/vl6180_api.c **** 	while (bit != 0) {
2245:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (num >= res + bit) {
2246:dev/BSP/Components/vl6180/vl6180_api.c **** 		    num -= res + bit;
2247:dev/BSP/Components/vl6180/vl6180_api.c **** 		    res = (res >> 1) + bit;
2248:dev/BSP/Components/vl6180/vl6180_api.c **** 		} else
2249:dev/BSP/Components/vl6180/vl6180_api.c **** 		    res >>= 1;
 4111              		.loc 1 2249 7 is_stmt 1 view .LVU1385
 4112              		.loc 1 2249 11 is_stmt 0 view .LVU1386
 4113 0012 4008     		lsrs	r0, r0, #1
 4114              	.LVL446:
 4115              	.L306:
2250:dev/BSP/Components/vl6180/vl6180_api.c **** 		bit >>= 2;
 4116              		.loc 1 2250 3 is_stmt 1 view .LVU1387
 4117              		.loc 1 2250 7 is_stmt 0 view .LVU1388
 4118 0014 9B08     		lsrs	r3, r3, #2
 4119              	.LVL447:
 4120              	.L304:
2244:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (num >= res + bit) {
 4121              		.loc 1 2244 8 is_stmt 1 view .LVU1389
 4122 0016 33B1     		cbz	r3, .L309
2245:dev/BSP/Components/vl6180/vl6180_api.c **** 		    num -= res + bit;
 4123              		.loc 1 2245 3 view .LVU1390
2245:dev/BSP/Components/vl6180/vl6180_api.c **** 		    num -= res + bit;
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 134


 4124              		.loc 1 2245 18 is_stmt 0 view .LVU1391
 4125 0018 C118     		adds	r1, r0, r3
2245:dev/BSP/Components/vl6180/vl6180_api.c **** 		    num -= res + bit;
 4126              		.loc 1 2245 6 view .LVU1392
 4127 001a 9142     		cmp	r1, r2
 4128 001c F9D8     		bhi	.L305
2246:dev/BSP/Components/vl6180/vl6180_api.c **** 		    res = (res >> 1) + bit;
 4129              		.loc 1 2246 7 is_stmt 1 view .LVU1393
2246:dev/BSP/Components/vl6180/vl6180_api.c **** 		    res = (res >> 1) + bit;
 4130              		.loc 1 2246 11 is_stmt 0 view .LVU1394
 4131 001e 521A     		subs	r2, r2, r1
 4132              	.LVL448:
2247:dev/BSP/Components/vl6180/vl6180_api.c **** 		} else
 4133              		.loc 1 2247 7 is_stmt 1 view .LVU1395
2247:dev/BSP/Components/vl6180/vl6180_api.c **** 		} else
 4134              		.loc 1 2247 11 is_stmt 0 view .LVU1396
 4135 0020 03EB5000 		add	r0, r3, r0, lsr #1
 4136              	.LVL449:
2247:dev/BSP/Components/vl6180/vl6180_api.c **** 		} else
 4137              		.loc 1 2247 11 view .LVU1397
 4138 0024 F6E7     		b	.L306
 4139              	.L309:
2251:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
2252:dev/BSP/Components/vl6180/vl6180_api.c **** 	return res;
2253:dev/BSP/Components/vl6180/vl6180_api.c **** }
 4140              		.loc 1 2253 1 view .LVU1398
 4141 0026 7047     		bx	lr
 4142              		.cfi_endproc
 4143              	.LFE56:
 4145              		.section	.text._DMax_RawValueAtRateKCps,"ax",%progbits
 4146              		.align	1
 4147              		.syntax unified
 4148              		.thumb
 4149              		.thumb_func
 4150              		.fpu fpv5-d16
 4152              	_DMax_RawValueAtRateKCps:
 4153              	.LVL450:
 4154              	.LFB58:
2254:dev/BSP/Components/vl6180/vl6180_api.c **** #endif
2255:dev/BSP/Components/vl6180/vl6180_api.c **** 
2256:dev/BSP/Components/vl6180/vl6180_api.c **** 
2257:dev/BSP/Components/vl6180/vl6180_api.c **** /* DMax one time init */
2258:dev/BSP/Components/vl6180/vl6180_api.c **** void _DMax_OneTimeInit(VL6180Dev_t dev)
2259:dev/BSP/Components/vl6180/vl6180_api.c **** {
2260:dev/BSP/Components/vl6180/vl6180_api.c **** 	_DMaxData(ambTuningWindowFactor_K) = DEF_AMBIENT_TUNING;
2261:dev/BSP/Components/vl6180/vl6180_api.c **** }
2262:dev/BSP/Components/vl6180/vl6180_api.c **** 
2263:dev/BSP/Components/vl6180/vl6180_api.c **** 
2264:dev/BSP/Components/vl6180/vl6180_api.c **** static uint32_t _DMax_RawValueAtRateKCps(VL6180Dev_t dev, int32_t rate)
2265:dev/BSP/Components/vl6180/vl6180_api.c **** {
 4155              		.loc 1 2265 1 is_stmt 1 view -0
 4156              		.cfi_startproc
 4157              		@ args = 0, pretend = 0, frame = 0
 4158              		@ frame_needed = 0, uses_anonymous_args = 0
 4159              		.loc 1 2265 1 is_stmt 0 view .LVU1400
 4160 0000 38B5     		push	{r3, r4, r5, lr}
 4161              	.LCFI68:
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 135


 4162              		.cfi_def_cfa_offset 16
 4163              		.cfi_offset 3, -16
 4164              		.cfi_offset 4, -12
 4165              		.cfi_offset 5, -8
 4166              		.cfi_offset 14, -4
2266:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint32_t snrLimit_K;
 4167              		.loc 1 2266 2 is_stmt 1 view .LVU1401
2267:dev/BSP/Components/vl6180/vl6180_api.c **** 	int32_t DMaxSq;
 4168              		.loc 1 2267 2 view .LVU1402
2268:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint32_t RawDMax;
 4169              		.loc 1 2268 2 view .LVU1403
2269:dev/BSP/Components/vl6180/vl6180_api.c **** 	DMaxFix_t retSignalAt400mm;
 4170              		.loc 1 2269 2 view .LVU1404
2270:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint32_t ambTuningWindowFactor_K;
 4171              		.loc 1 2270 2 view .LVU1405
2271:dev/BSP/Components/vl6180/vl6180_api.c **** 
2272:dev/BSP/Components/vl6180/vl6180_api.c **** 
2273:dev/BSP/Components/vl6180/vl6180_api.c **** 	ambTuningWindowFactor_K = _DMaxData(ambTuningWindowFactor_K);
 4172              		.loc 1 2273 2 view .LVU1406
 4173              		.loc 1 2273 26 is_stmt 0 view .LVU1407
 4174 0002 826F     		ldr	r2, [r0, #120]
 4175              	.LVL451:
2274:dev/BSP/Components/vl6180/vl6180_api.c **** 	snrLimit_K              = _DMaxData(snrLimit_K);
 4176              		.loc 1 2274 2 is_stmt 1 view .LVU1408
 4177              		.loc 1 2274 28 is_stmt 0 view .LVU1409
 4178 0004 D0F88050 		ldr	r5, [r0, #128]
 4179              	.LVL452:
2275:dev/BSP/Components/vl6180/vl6180_api.c **** 	retSignalAt400mm        = _DMaxData(retSignalAt400mm);
 4180              		.loc 1 2275 2 is_stmt 1 view .LVU1410
 4181              		.loc 1 2275 26 is_stmt 0 view .LVU1411
 4182 0008 C46F     		ldr	r4, [r0, #124]
 4183              	.LVL453:
2276:dev/BSP/Components/vl6180/vl6180_api.c **** 	/* 12 to 18 bits Kcps */
2277:dev/BSP/Components/vl6180/vl6180_api.c **** 	if (rate > 0) {
 4184              		.loc 1 2277 2 is_stmt 1 view .LVU1412
 4185              		.loc 1 2277 5 is_stmt 0 view .LVU1413
 4186 000a 0B1E     		subs	r3, r1, #0
 4187 000c 17DD     		ble	.L314
2278:dev/BSP/Components/vl6180/vl6180_api.c **** 		DMaxSq = 400 * 400 * 1000 / rate - (400 * 400 / 330);
 4188              		.loc 1 2278 3 is_stmt 1 view .LVU1414
 4189              		.loc 1 2278 29 is_stmt 0 view .LVU1415
 4190 000e 0E49     		ldr	r1, .L317
 4191              	.LVL454:
 4192              		.loc 1 2278 29 view .LVU1416
 4193 0010 91FBF3F1 		sdiv	r1, r1, r3
 4194              		.loc 1 2278 10 view .LVU1417
 4195 0014 A1F5F271 		sub	r1, r1, #484
 4196              	.LVL455:
2279:dev/BSP/Components/vl6180/vl6180_api.c **** 		/* K of (1/RtnAmb -1/330 )=> 30bit- (12-18)bit  => 12-18 bits*/
2280:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (DMaxSq <= 0) {
 4197              		.loc 1 2280 3 is_stmt 1 view .LVU1418
 4198              		.loc 1 2280 6 is_stmt 0 view .LVU1419
 4199 0018 0029     		cmp	r1, #0
 4200 001a 13DD     		ble	.L315
2281:dev/BSP/Components/vl6180/vl6180_api.c **** 		    RawDMax = 0;
2282:dev/BSP/Components/vl6180/vl6180_api.c **** 		} else {
2283:dev/BSP/Components/vl6180/vl6180_api.c **** 		    /* value can be more 32 bit so base on raneg apply
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 136


2284:dev/BSP/Components/vl6180/vl6180_api.c **** 			 * retSignalAt400mm before or after division to presevr accuracy */
2285:dev/BSP/Components/vl6180/vl6180_api.c **** 		    if (DMaxSq < (2 << 12)) {
 4201              		.loc 1 2285 7 is_stmt 1 view .LVU1420
 4202              		.loc 1 2285 10 is_stmt 0 view .LVU1421
 4203 001c B1F5005F 		cmp	r1, #8192
 4204 0020 07DA     		bge	.L312
2286:dev/BSP/Components/vl6180/vl6180_api.c **** 				DMaxSq = DMaxSq * retSignalAt400mm /
 4205              		.loc 1 2286 5 is_stmt 1 view .LVU1422
 4206              		.loc 1 2286 21 is_stmt 0 view .LVU1423
 4207 0022 01FB04F1 		mul	r1, r1, r4
 4208              	.LVL456:
2287:dev/BSP/Components/vl6180/vl6180_api.c **** 							(snrLimit_K + ambTuningWindowFactor_K);
 4209              		.loc 1 2287 20 view .LVU1424
 4210 0026 5019     		adds	r0, r2, r5
 4211              	.LVL457:
2286:dev/BSP/Components/vl6180/vl6180_api.c **** 				DMaxSq = DMaxSq * retSignalAt400mm /
 4212              		.loc 1 2286 40 view .LVU1425
 4213 0028 B1FBF0F0 		udiv	r0, r1, r0
 4214              	.LVL458:
 4215              	.L313:
2288:dev/BSP/Components/vl6180/vl6180_api.c **** 				/* max 12 + 12 to 18 -10 => 12-26 bit */
2289:dev/BSP/Components/vl6180/vl6180_api.c **** 		    } else {
2290:dev/BSP/Components/vl6180/vl6180_api.c **** 				DMaxSq = DMaxSq / (snrLimit_K + ambTuningWindowFactor_K) * retSignalAt400mm;
2291:dev/BSP/Components/vl6180/vl6180_api.c **** 				/* 12 to 18 -10 + 12 to 18 *=> 12-26 bit */
2292:dev/BSP/Components/vl6180/vl6180_api.c **** 		    }
2293:dev/BSP/Components/vl6180/vl6180_api.c **** 		    RawDMax = VL6180_SqrtUint32(DMaxSq);
 4216              		.loc 1 2293 7 is_stmt 1 view .LVU1426
 4217              		.loc 1 2293 17 is_stmt 0 view .LVU1427
 4218 002c FFF7FEFF 		bl	VL6180_SqrtUint32
 4219              	.LVL459:
 4220              	.L310:
2294:dev/BSP/Components/vl6180/vl6180_api.c **** 		}
2295:dev/BSP/Components/vl6180/vl6180_api.c **** 	} else {
2296:dev/BSP/Components/vl6180/vl6180_api.c **** 		RawDMax = 0x7FFFFFFF; /* bigest possibmle 32bit signed value */
2297:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
2298:dev/BSP/Components/vl6180/vl6180_api.c **** 	return RawDMax;
2299:dev/BSP/Components/vl6180/vl6180_api.c **** }
 4221              		.loc 1 2299 1 view .LVU1428
 4222 0030 38BD     		pop	{r3, r4, r5, pc}
 4223              	.LVL460:
 4224              	.L312:
2290:dev/BSP/Components/vl6180/vl6180_api.c **** 				/* 12 to 18 -10 + 12 to 18 *=> 12-26 bit */
 4225              		.loc 1 2290 5 is_stmt 1 view .LVU1429
2290:dev/BSP/Components/vl6180/vl6180_api.c **** 				/* 12 to 18 -10 + 12 to 18 *=> 12-26 bit */
 4226              		.loc 1 2290 35 is_stmt 0 view .LVU1430
 4227 0032 5019     		adds	r0, r2, r5
 4228              	.LVL461:
2290:dev/BSP/Components/vl6180/vl6180_api.c **** 				/* 12 to 18 -10 + 12 to 18 *=> 12-26 bit */
 4229              		.loc 1 2290 21 view .LVU1431
 4230 0034 B1FBF0F1 		udiv	r1, r1, r0
 4231              	.LVL462:
2290:dev/BSP/Components/vl6180/vl6180_api.c **** 				/* 12 to 18 -10 + 12 to 18 *=> 12-26 bit */
 4232              		.loc 1 2290 62 view .LVU1432
 4233 0038 01FB04F0 		mul	r0, r1, r4
 4234              	.LVL463:
2290:dev/BSP/Components/vl6180/vl6180_api.c **** 				/* 12 to 18 -10 + 12 to 18 *=> 12-26 bit */
 4235              		.loc 1 2290 62 view .LVU1433
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 137


 4236 003c F6E7     		b	.L313
 4237              	.LVL464:
 4238              	.L314:
2296:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
 4239              		.loc 1 2296 11 view .LVU1434
 4240 003e 6FF00040 		mvn	r0, #-2147483648
 4241              	.LVL465:
2296:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
 4242              		.loc 1 2296 11 view .LVU1435
 4243 0042 F5E7     		b	.L310
 4244              	.LVL466:
 4245              	.L315:
2281:dev/BSP/Components/vl6180/vl6180_api.c **** 		} else {
 4246              		.loc 1 2281 15 view .LVU1436
 4247 0044 0020     		movs	r0, #0
 4248              	.LVL467:
2298:dev/BSP/Components/vl6180/vl6180_api.c **** }
 4249              		.loc 1 2298 2 is_stmt 1 view .LVU1437
2298:dev/BSP/Components/vl6180/vl6180_api.c **** }
 4250              		.loc 1 2298 9 is_stmt 0 view .LVU1438
 4251 0046 F3E7     		b	.L310
 4252              	.L318:
 4253              		.align	2
 4254              	.L317:
 4255 0048 00688909 		.word	160000000
 4256              		.cfi_endproc
 4257              	.LFE58:
 4259              		.section	.text._DMax_InitData,"ax",%progbits
 4260              		.align	1
 4261              		.syntax unified
 4262              		.thumb
 4263              		.thumb_func
 4264              		.fpu fpv5-d16
 4266              	_DMax_InitData:
 4267              	.LVL468:
 4268              	.LFB59:
2300:dev/BSP/Components/vl6180/vl6180_api.c **** 
2301:dev/BSP/Components/vl6180/vl6180_api.c **** /*
2302:dev/BSP/Components/vl6180/vl6180_api.c ****  * fetch static data from register to avoid re-read
2303:dev/BSP/Components/vl6180/vl6180_api.c ****  * precompute all intermediate constant and cliipings
2304:dev/BSP/Components/vl6180/vl6180_api.c ****  *
2305:dev/BSP/Components/vl6180/vl6180_api.c ****  * to be re-used/call on  changes of :
2306:dev/BSP/Components/vl6180/vl6180_api.c ****  *  0x2A
2307:dev/BSP/Components/vl6180/vl6180_api.c ****  *  SYSRANGE_MAX_AMBIENT_LEVEL_MULT
2308:dev/BSP/Components/vl6180/vl6180_api.c ****  *  Dev Data XtalkComRate_KCPs
2309:dev/BSP/Components/vl6180/vl6180_api.c ****  *  SYSRANGE_MAX_CONVERGENCE_TIME
2310:dev/BSP/Components/vl6180/vl6180_api.c ****  *  SYSRANGE_RANGE_CHECK_ENABLES    mask RANGE_CHECK_RANGE_ENABLE_MASK
2311:dev/BSP/Components/vl6180/vl6180_api.c ****  *  range 0xb8-0xbb (0xbb)
2312:dev/BSP/Components/vl6180/vl6180_api.c ****  */
2313:dev/BSP/Components/vl6180/vl6180_api.c **** static int _DMax_InitData(VL6180Dev_t dev)
2314:dev/BSP/Components/vl6180/vl6180_api.c **** {
 4269              		.loc 1 2314 1 is_stmt 1 view -0
 4270              		.cfi_startproc
 4271              		@ args = 0, pretend = 0, frame = 16
 4272              		@ frame_needed = 0, uses_anonymous_args = 0
 4273              		.loc 1 2314 1 is_stmt 0 view .LVU1440
 4274 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 138


 4275              	.LCFI69:
 4276              		.cfi_def_cfa_offset 24
 4277              		.cfi_offset 4, -24
 4278              		.cfi_offset 5, -20
 4279              		.cfi_offset 6, -16
 4280              		.cfi_offset 7, -12
 4281              		.cfi_offset 8, -8
 4282              		.cfi_offset 14, -4
 4283 0004 84B0     		sub	sp, sp, #16
 4284              	.LCFI70:
 4285              		.cfi_def_cfa_offset 40
 4286 0006 0746     		mov	r7, r0
2315:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status, warning;
 4287              		.loc 1 2315 2 is_stmt 1 view .LVU1441
2316:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint8_t u8;
 4288              		.loc 1 2316 2 view .LVU1442
2317:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint16_t u16;
 4289              		.loc 1 2317 2 view .LVU1443
2318:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint32_t u32;
 4290              		.loc 1 2318 2 view .LVU1444
2319:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint32_t Reg2A_KCps;
 4291              		.loc 1 2319 2 view .LVU1445
2320:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint32_t RegB8;
 4292              		.loc 1 2320 2 view .LVU1446
2321:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint8_t  MaxConvTime;
 4293              		.loc 1 2321 2 view .LVU1447
2322:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint32_t XTalkCompRate_KCps;
 4294              		.loc 1 2322 2 view .LVU1448
2323:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint32_t RangeIgnoreThreshold;
 4295              		.loc 1 2323 2 view .LVU1449
2324:dev/BSP/Components/vl6180/vl6180_api.c **** 	int32_t minSignalNeeded;
 4296              		.loc 1 2324 2 view .LVU1450
2325:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint8_t SysRangeCheckEn;
 4297              		.loc 1 2325 2 view .LVU1451
2326:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint8_t snrLimit;
 4298              		.loc 1 2326 2 view .LVU1452
2327:dev/BSP/Components/vl6180/vl6180_api.c **** 	static const int ROMABLE_DATA MaxConvTimeAdjust = -4;
 4299              		.loc 1 2327 2 view .LVU1453
2328:dev/BSP/Components/vl6180/vl6180_api.c **** 
2329:dev/BSP/Components/vl6180/vl6180_api.c **** 	warning = 0;
 4300              		.loc 1 2329 2 view .LVU1454
 4301              	.LVL469:
2330:dev/BSP/Components/vl6180/vl6180_api.c **** 
2331:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_START("");
 4302              		.loc 1 2331 2 view .LVU1455
2332:dev/BSP/Components/vl6180/vl6180_api.c **** 	do {
 4303              		.loc 1 2332 2 view .LVU1456
2333:dev/BSP/Components/vl6180/vl6180_api.c **** 		status = VL6180_RdByte(dev, 0x02A, &u8);
 4304              		.loc 1 2333 3 view .LVU1457
 4305              		.loc 1 2333 12 is_stmt 0 view .LVU1458
 4306 0008 0DF10F02 		add	r2, sp, #15
 4307 000c 2A21     		movs	r1, #42
 4308 000e FFF7FEFF 		bl	VL6180_RdByte
 4309              	.LVL470:
2334:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (status) {
 4310              		.loc 1 2334 3 is_stmt 1 view .LVU1459
 4311              		.loc 1 2334 6 is_stmt 0 view .LVU1460
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 139


 4312 0012 0446     		mov	r4, r0
 4313 0014 0028     		cmp	r0, #0
 4314 0016 6ED1     		bne	.L327
2335:dev/BSP/Components/vl6180/vl6180_api.c **** 		    VL6180_ErrLog("Reg 0x02A rd fail");
2336:dev/BSP/Components/vl6180/vl6180_api.c **** 		    break;
2337:dev/BSP/Components/vl6180/vl6180_api.c **** 		}
2338:dev/BSP/Components/vl6180/vl6180_api.c **** 
2339:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (u8 == 0) {
 4315              		.loc 1 2339 3 is_stmt 1 view .LVU1461
 4316              		.loc 1 2339 10 is_stmt 0 view .LVU1462
 4317 0018 9DF80F30 		ldrb	r3, [sp, #15]	@ zero_extendqisi2
 4318              		.loc 1 2339 6 view .LVU1463
 4319 001c 23B9     		cbnz	r3, .L328
2340:dev/BSP/Components/vl6180/vl6180_api.c **** 		    warning = CALIBRATION_WARNING;
 4320              		.loc 1 2340 7 is_stmt 1 view .LVU1464
 4321              	.LVL471:
2341:dev/BSP/Components/vl6180/vl6180_api.c **** 		    u8 = 40; /* use a default average value */
 4322              		.loc 1 2341 7 view .LVU1465
 4323              		.loc 1 2341 10 is_stmt 0 view .LVU1466
 4324 001e 2823     		movs	r3, #40
 4325 0020 8DF80F30 		strb	r3, [sp, #15]
2340:dev/BSP/Components/vl6180/vl6180_api.c **** 		    warning = CALIBRATION_WARNING;
 4326              		.loc 1 2340 15 view .LVU1467
 4327 0024 0126     		movs	r6, #1
 4328 0026 00E0     		b	.L321
 4329              	.LVL472:
 4330              	.L328:
2329:dev/BSP/Components/vl6180/vl6180_api.c **** 
 4331              		.loc 1 2329 10 view .LVU1468
 4332 0028 0646     		mov	r6, r0
 4333              	.LVL473:
 4334              	.L321:
2342:dev/BSP/Components/vl6180/vl6180_api.c **** 		}
2343:dev/BSP/Components/vl6180/vl6180_api.c **** 		Reg2A_KCps = Fix7_2_KCPs(u8); /* convert to KCPs */
 4335              		.loc 1 2343 3 is_stmt 1 view .LVU1469
 4336              		.loc 1 2343 16 is_stmt 0 view .LVU1470
 4337 002a 9DF80F20 		ldrb	r2, [sp, #15]	@ zero_extendqisi2
 4338 002e 4FF47A73 		mov	r3, #1000
 4339 0032 03FB02F3 		mul	r3, r3, r2
 4340              		.loc 1 2343 14 view .LVU1471
 4341 0036 DD09     		lsrs	r5, r3, #7
 4342              	.LVL474:
2344:dev/BSP/Components/vl6180/vl6180_api.c **** 
2345:dev/BSP/Components/vl6180/vl6180_api.c **** 		status = VL6180_RdByte(dev, SYSRANGE_RANGE_CHECK_ENABLES, &SysRangeCheckEn);
 4343              		.loc 1 2345 3 is_stmt 1 view .LVU1472
 4344              		.loc 1 2345 12 is_stmt 0 view .LVU1473
 4345 0038 0DF10602 		add	r2, sp, #6
 4346 003c 2D21     		movs	r1, #45
 4347 003e 3846     		mov	r0, r7
 4348              	.LVL475:
 4349              		.loc 1 2345 12 view .LVU1474
 4350 0040 FFF7FEFF 		bl	VL6180_RdByte
 4351              	.LVL476:
2346:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (status) {
 4352              		.loc 1 2346 3 is_stmt 1 view .LVU1475
 4353              		.loc 1 2346 6 is_stmt 0 view .LVU1476
 4354 0044 0446     		mov	r4, r0
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 140


 4355 0046 0028     		cmp	r0, #0
 4356 0048 56D1     		bne	.L320
2347:dev/BSP/Components/vl6180/vl6180_api.c **** 		    VL6180_ErrLog("SYSRANGE_RANGE_CHECK_ENABLES rd fail ");
2348:dev/BSP/Components/vl6180/vl6180_api.c **** 		    break;
2349:dev/BSP/Components/vl6180/vl6180_api.c **** 		}
2350:dev/BSP/Components/vl6180/vl6180_api.c **** 
2351:dev/BSP/Components/vl6180/vl6180_api.c **** 		status = VL6180_RdByte(dev, SYSRANGE_MAX_CONVERGENCE_TIME, &MaxConvTime);
 4357              		.loc 1 2351 3 is_stmt 1 view .LVU1477
 4358              		.loc 1 2351 12 is_stmt 0 view .LVU1478
 4359 004a 0DF10702 		add	r2, sp, #7
 4360 004e 1C21     		movs	r1, #28
 4361 0050 3846     		mov	r0, r7
 4362              	.LVL477:
 4363              		.loc 1 2351 12 view .LVU1479
 4364 0052 FFF7FEFF 		bl	VL6180_RdByte
 4365              	.LVL478:
2352:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (status) {
 4366              		.loc 1 2352 3 is_stmt 1 view .LVU1480
 4367              		.loc 1 2352 6 is_stmt 0 view .LVU1481
 4368 0056 0446     		mov	r4, r0
 4369 0058 0028     		cmp	r0, #0
 4370 005a 4DD1     		bne	.L320
2353:dev/BSP/Components/vl6180/vl6180_api.c **** 		    VL6180_ErrLog("SYSRANGE_MAX_CONVERGENCE_TIME rd fail ");
2354:dev/BSP/Components/vl6180/vl6180_api.c **** 			break;
2355:dev/BSP/Components/vl6180/vl6180_api.c **** 		}
2356:dev/BSP/Components/vl6180/vl6180_api.c **** 
2357:dev/BSP/Components/vl6180/vl6180_api.c **** 		status = VL6180_RdDWord(dev, 0x0B8, &RegB8);
 4371              		.loc 1 2357 3 is_stmt 1 view .LVU1482
 4372              		.loc 1 2357 12 is_stmt 0 view .LVU1483
 4373 005c 02AA     		add	r2, sp, #8
 4374 005e B821     		movs	r1, #184
 4375 0060 3846     		mov	r0, r7
 4376              	.LVL479:
 4377              		.loc 1 2357 12 view .LVU1484
 4378 0062 FFF7FEFF 		bl	VL6180_RdDWord
 4379              	.LVL480:
2358:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (status) {
 4380              		.loc 1 2358 3 is_stmt 1 view .LVU1485
 4381              		.loc 1 2358 6 is_stmt 0 view .LVU1486
 4382 0066 0446     		mov	r4, r0
 4383 0068 0028     		cmp	r0, #0
 4384 006a 45D1     		bne	.L320
2359:dev/BSP/Components/vl6180/vl6180_api.c **** 		    VL6180_ErrLog("reg 0x0B8 rd fail ");
2360:dev/BSP/Components/vl6180/vl6180_api.c **** 		    break;
2361:dev/BSP/Components/vl6180/vl6180_api.c **** 		}
2362:dev/BSP/Components/vl6180/vl6180_api.c **** 
2363:dev/BSP/Components/vl6180/vl6180_api.c **** 		status = VL6180_RdByte(dev, SYSRANGE_MAX_AMBIENT_LEVEL_MULT, &snrLimit);
 4385              		.loc 1 2363 3 is_stmt 1 view .LVU1487
 4386              		.loc 1 2363 12 is_stmt 0 view .LVU1488
 4387 006c 0DF10502 		add	r2, sp, #5
 4388 0070 2C21     		movs	r1, #44
 4389 0072 3846     		mov	r0, r7
 4390              	.LVL481:
 4391              		.loc 1 2363 12 view .LVU1489
 4392 0074 FFF7FEFF 		bl	VL6180_RdByte
 4393              	.LVL482:
2364:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (status) {
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 141


 4394              		.loc 1 2364 3 is_stmt 1 view .LVU1490
 4395              		.loc 1 2364 6 is_stmt 0 view .LVU1491
 4396 0078 0446     		mov	r4, r0
 4397 007a 0028     		cmp	r0, #0
 4398 007c 3CD1     		bne	.L320
2365:dev/BSP/Components/vl6180/vl6180_api.c **** 		    VL6180_ErrLog("SYSRANGE_MAX_AMBIENT_LEVEL_MULT rd fail ");
2366:dev/BSP/Components/vl6180/vl6180_api.c **** 		    break;
2367:dev/BSP/Components/vl6180/vl6180_api.c **** 		}
2368:dev/BSP/Components/vl6180/vl6180_api.c **** 		_DMaxData(snrLimit_K) = (int32_t)16 * 1000 / snrLimit;
 4399              		.loc 1 2368 3 is_stmt 1 view .LVU1492
 4400              		.loc 1 2368 46 is_stmt 0 view .LVU1493
 4401 007e 9DF80520 		ldrb	r2, [sp, #5]	@ zero_extendqisi2
 4402 0082 4FF47A53 		mov	r3, #16000
 4403 0086 93FBF2F3 		sdiv	r3, r3, r2
 4404              		.loc 1 2368 25 view .LVU1494
 4405 008a C7F88030 		str	r3, [r7, #128]
2369:dev/BSP/Components/vl6180/vl6180_api.c **** 		XTalkCompRate_KCps =   VL6180DevDataGet(dev, XTalkCompRate_KCps);
 4406              		.loc 1 2369 3 is_stmt 1 view .LVU1495
 4407              		.loc 1 2369 22 is_stmt 0 view .LVU1496
 4408 008e D7F80480 		ldr	r8, [r7, #4]
 4409              	.LVL483:
2370:dev/BSP/Components/vl6180/vl6180_api.c **** 
2371:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (Reg2A_KCps >= XTalkCompRate_KCps) {
 4410              		.loc 1 2371 3 is_stmt 1 view .LVU1497
 4411              		.loc 1 2371 6 is_stmt 0 view .LVU1498
 4412 0092 4545     		cmp	r5, r8
 4413 0094 1DD3     		bcc	.L322
2372:dev/BSP/Components/vl6180/vl6180_api.c **** 		    _DMaxData(retSignalAt400mm) = Reg2A_KCps;
 4414              		.loc 1 2372 7 is_stmt 1 view .LVU1499
 4415              		.loc 1 2372 35 is_stmt 0 view .LVU1500
 4416 0096 FD67     		str	r5, [r7, #124]
 4417              	.L323:
2373:dev/BSP/Components/vl6180/vl6180_api.c **** 		} else{
2374:dev/BSP/Components/vl6180/vl6180_api.c **** 		    _DMaxData(retSignalAt400mm) = 0;
2375:dev/BSP/Components/vl6180/vl6180_api.c **** 			/* Reg2A_K - XTalkCompRate_KCp <0 is invalid */
2376:dev/BSP/Components/vl6180/vl6180_api.c **** 		}
2377:dev/BSP/Components/vl6180/vl6180_api.c **** 
2378:dev/BSP/Components/vl6180/vl6180_api.c **** 		/* if xtalk range check is off omit it in snr clipping */
2379:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (SysRangeCheckEn&RANGE_CHECK_RANGE_ENABLE_MASK) {
 4418              		.loc 1 2379 3 is_stmt 1 view .LVU1501
 4419              		.loc 1 2379 22 is_stmt 0 view .LVU1502
 4420 0098 9DF80630 		ldrb	r3, [sp, #6]	@ zero_extendqisi2
 4421              		.loc 1 2379 6 view .LVU1503
 4422 009c 13F0020F 		tst	r3, #2
 4423 00a0 1AD1     		bne	.L331
2380:dev/BSP/Components/vl6180/vl6180_api.c **** 		    status = VL6180_RdWord(dev, SYSRANGE_RANGE_IGNORE_THRESHOLD, &u16);
2381:dev/BSP/Components/vl6180/vl6180_api.c **** 		    if (status) {
2382:dev/BSP/Components/vl6180/vl6180_api.c **** 				VL6180_ErrLog("SYSRANGE_RANGE_IGNORE_THRESHOLD rd fail ");
2383:dev/BSP/Components/vl6180/vl6180_api.c **** 				break;
2384:dev/BSP/Components/vl6180/vl6180_api.c **** 		    }
2385:dev/BSP/Components/vl6180/vl6180_api.c **** 		    RangeIgnoreThreshold = Fix7_2_KCPs(u16);
2386:dev/BSP/Components/vl6180/vl6180_api.c **** 		} else{
2387:dev/BSP/Components/vl6180/vl6180_api.c **** 		    RangeIgnoreThreshold  = 0;
 4424              		.loc 1 2387 29 view .LVU1504
 4425 00a2 0022     		movs	r2, #0
 4426              	.L324:
 4427              	.LVL484:
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 142


2388:dev/BSP/Components/vl6180/vl6180_api.c **** 		}
2389:dev/BSP/Components/vl6180/vl6180_api.c **** 
2390:dev/BSP/Components/vl6180/vl6180_api.c **** 		minSignalNeeded = (RegB8 * 256) / ((int32_t)MaxConvTime + (int32_t)MaxConvTimeAdjust);
 4428              		.loc 1 2390 3 is_stmt 1 view .LVU1505
 4429              		.loc 1 2390 28 is_stmt 0 view .LVU1506
 4430 00a4 029B     		ldr	r3, [sp, #8]
 4431 00a6 1B02     		lsls	r3, r3, #8
 4432              		.loc 1 2390 38 view .LVU1507
 4433 00a8 9DF80710 		ldrb	r1, [sp, #7]	@ zero_extendqisi2
 4434              		.loc 1 2390 59 view .LVU1508
 4435 00ac 0439     		subs	r1, r1, #4
 4436              		.loc 1 2390 35 view .LVU1509
 4437 00ae B3FBF1F3 		udiv	r3, r3, r1
 4438              	.LVL485:
2391:dev/BSP/Components/vl6180/vl6180_api.c **** 		/* KCps 8+8 bit -(1 to 6 bit) => 15-10 bit */
2392:dev/BSP/Components/vl6180/vl6180_api.c **** 		/* minSignalNeeded = max ( minSignalNeeded,  RangeIgnoreThreshold - XTalkCompRate_KCps) */
2393:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (minSignalNeeded  <= (int32_t)RangeIgnoreThreshold - (int32_t)XTalkCompRate_KCps)
 4439              		.loc 1 2393 3 is_stmt 1 view .LVU1510
 4440              		.loc 1 2393 57 is_stmt 0 view .LVU1511
 4441 00b2 A2EB0802 		sub	r2, r2, r8
 4442              	.LVL486:
 4443              		.loc 1 2393 6 view .LVU1512
 4444 00b6 9A42     		cmp	r2, r3
 4445 00b8 00DA     		bge	.L325
2390:dev/BSP/Components/vl6180/vl6180_api.c **** 		/* KCps 8+8 bit -(1 to 6 bit) => 15-10 bit */
 4446              		.loc 1 2390 19 view .LVU1513
 4447 00ba 1A46     		mov	r2, r3
 4448              	.L325:
 4449              	.LVL487:
2394:dev/BSP/Components/vl6180/vl6180_api.c **** 		    minSignalNeeded  =  RangeIgnoreThreshold - XTalkCompRate_KCps;
2395:dev/BSP/Components/vl6180/vl6180_api.c **** 
2396:dev/BSP/Components/vl6180/vl6180_api.c **** 		u32 = (minSignalNeeded*(uint32_t)snrLimit) / 16;
 4450              		.loc 1 2396 3 is_stmt 1 view .LVU1514
 4451              		.loc 1 2396 26 is_stmt 0 view .LVU1515
 4452 00bc 9DF80530 		ldrb	r3, [sp, #5]	@ zero_extendqisi2
 4453              		.loc 1 2396 25 view .LVU1516
 4454 00c0 03FB02F2 		mul	r2, r3, r2
 4455              	.LVL488:
2397:dev/BSP/Components/vl6180/vl6180_api.c **** 		_DMaxData(ClipSnrLimit) = _DMax_RawValueAtRateKCps(dev, u32);
 4456              		.loc 1 2397 3 is_stmt 1 view .LVU1517
 4457              		.loc 1 2397 29 is_stmt 0 view .LVU1518
 4458 00c4 1109     		lsrs	r1, r2, #4
 4459              	.LVL489:
 4460              		.loc 1 2397 29 view .LVU1519
 4461 00c6 3846     		mov	r0, r7
 4462              	.LVL490:
 4463              		.loc 1 2397 29 view .LVU1520
 4464 00c8 FFF7FEFF 		bl	_DMax_RawValueAtRateKCps
 4465              	.LVL491:
 4466              		.loc 1 2397 27 view .LVU1521
 4467 00cc A7F88400 		strh	r0, [r7, #132]	@ movhi
 4468 00d0 12E0     		b	.L320
 4469              	.LVL492:
 4470              	.L322:
2374:dev/BSP/Components/vl6180/vl6180_api.c **** 			/* Reg2A_K - XTalkCompRate_KCp <0 is invalid */
 4471              		.loc 1 2374 7 is_stmt 1 view .LVU1522
2374:dev/BSP/Components/vl6180/vl6180_api.c **** 			/* Reg2A_K - XTalkCompRate_KCp <0 is invalid */
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 143


 4472              		.loc 1 2374 35 is_stmt 0 view .LVU1523
 4473 00d2 0023     		movs	r3, #0
 4474 00d4 FB67     		str	r3, [r7, #124]
 4475 00d6 DFE7     		b	.L323
 4476              	.L331:
2380:dev/BSP/Components/vl6180/vl6180_api.c **** 		    if (status) {
 4477              		.loc 1 2380 7 is_stmt 1 view .LVU1524
2380:dev/BSP/Components/vl6180/vl6180_api.c **** 		    if (status) {
 4478              		.loc 1 2380 16 is_stmt 0 view .LVU1525
 4479 00d8 03AA     		add	r2, sp, #12
 4480 00da 2621     		movs	r1, #38
 4481 00dc 3846     		mov	r0, r7
 4482              	.LVL493:
2380:dev/BSP/Components/vl6180/vl6180_api.c **** 		    if (status) {
 4483              		.loc 1 2380 16 view .LVU1526
 4484 00de FFF7FEFF 		bl	VL6180_RdWord
 4485              	.LVL494:
2381:dev/BSP/Components/vl6180/vl6180_api.c **** 				VL6180_ErrLog("SYSRANGE_RANGE_IGNORE_THRESHOLD rd fail ");
 4486              		.loc 1 2381 7 is_stmt 1 view .LVU1527
2381:dev/BSP/Components/vl6180/vl6180_api.c **** 				VL6180_ErrLog("SYSRANGE_RANGE_IGNORE_THRESHOLD rd fail ");
 4487              		.loc 1 2381 10 is_stmt 0 view .LVU1528
 4488 00e2 0446     		mov	r4, r0
 4489 00e4 40B9     		cbnz	r0, .L320
2385:dev/BSP/Components/vl6180/vl6180_api.c **** 		} else{
 4490              		.loc 1 2385 7 is_stmt 1 view .LVU1529
2385:dev/BSP/Components/vl6180/vl6180_api.c **** 		} else{
 4491              		.loc 1 2385 30 is_stmt 0 view .LVU1530
 4492 00e6 BDF80C30 		ldrh	r3, [sp, #12]
 4493 00ea 4FF47A72 		mov	r2, #1000
 4494 00ee 02FB03F2 		mul	r2, r2, r3
2385:dev/BSP/Components/vl6180/vl6180_api.c **** 		} else{
 4495              		.loc 1 2385 28 view .LVU1531
 4496 00f2 D209     		lsrs	r2, r2, #7
 4497              	.LVL495:
2385:dev/BSP/Components/vl6180/vl6180_api.c **** 		} else{
 4498              		.loc 1 2385 28 view .LVU1532
 4499 00f4 D6E7     		b	.L324
 4500              	.LVL496:
 4501              	.L327:
2329:dev/BSP/Components/vl6180/vl6180_api.c **** 
 4502              		.loc 1 2329 10 view .LVU1533
 4503 00f6 0026     		movs	r6, #0
 4504              	.LVL497:
 4505              	.L320:
2398:dev/BSP/Components/vl6180/vl6180_api.c **** 		/* clip to dmax to min signal snr limit rate*/
2399:dev/BSP/Components/vl6180/vl6180_api.c **** 	} while (0);
 4506              		.loc 1 2399 10 is_stmt 1 view .LVU1534
2400:dev/BSP/Components/vl6180/vl6180_api.c **** 	if (!status)
 4507              		.loc 1 2400 2 view .LVU1535
 4508              		.loc 1 2400 5 is_stmt 0 view .LVU1536
 4509 00f8 04B1     		cbz	r4, .L319
 4510              		.loc 1 2400 5 view .LVU1537
 4511 00fa 2646     		mov	r6, r4
 4512              	.LVL498:
2401:dev/BSP/Components/vl6180/vl6180_api.c **** 		status = warning;
2402:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_END(status);
 4513              		.loc 1 2402 2 is_stmt 1 view .LVU1538
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 144


2403:dev/BSP/Components/vl6180/vl6180_api.c **** 	return status;
 4514              		.loc 1 2403 2 view .LVU1539
 4515              	.L319:
2404:dev/BSP/Components/vl6180/vl6180_api.c **** }
 4516              		.loc 1 2404 1 is_stmt 0 view .LVU1540
 4517 00fc 3046     		mov	r0, r6
 4518 00fe 04B0     		add	sp, sp, #16
 4519              	.LCFI71:
 4520              		.cfi_def_cfa_offset 24
 4521              		@ sp needed
 4522 0100 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 4523              		.loc 1 2404 1 view .LVU1541
 4524              		.cfi_endproc
 4525              	.LFE59:
 4527              		.section	.text.VL6180_SetXTalkCompensationRate,"ax",%progbits
 4528              		.align	1
 4529              		.global	VL6180_SetXTalkCompensationRate
 4530              		.syntax unified
 4531              		.thumb
 4532              		.thumb_func
 4533              		.fpu fpv5-d16
 4535              	VL6180_SetXTalkCompensationRate:
 4536              	.LVL499:
 4537              	.LFB5:
 283:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
 4538              		.loc 1 283 1 is_stmt 1 view -0
 4539              		.cfi_startproc
 4540              		@ args = 0, pretend = 0, frame = 0
 4541              		@ frame_needed = 0, uses_anonymous_args = 0
 283:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
 4542              		.loc 1 283 1 is_stmt 0 view .LVU1543
 4543 0000 38B5     		push	{r3, r4, r5, lr}
 4544              	.LCFI72:
 4545              		.cfi_def_cfa_offset 16
 4546              		.cfi_offset 3, -16
 4547              		.cfi_offset 4, -12
 4548              		.cfi_offset 5, -8
 4549              		.cfi_offset 14, -4
 4550 0002 0546     		mov	r5, r0
 4551 0004 0C46     		mov	r4, r1
 284:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_START("%d", Rate);
 4552              		.loc 1 284 2 is_stmt 1 view .LVU1544
 285:dev/BSP/Components/vl6180/vl6180_api.c **** 	status = VL6180_WrWord(dev, SYSRANGE_CROSSTALK_COMPENSATION_RATE, Rate);
 4553              		.loc 1 285 2 view .LVU1545
 286:dev/BSP/Components/vl6180/vl6180_api.c **** 	if (status == 0) {
 4554              		.loc 1 286 2 view .LVU1546
 286:dev/BSP/Components/vl6180/vl6180_api.c **** 	if (status == 0) {
 4555              		.loc 1 286 11 is_stmt 0 view .LVU1547
 4556 0006 0A46     		mov	r2, r1
 4557 0008 1E21     		movs	r1, #30
 4558              	.LVL500:
 286:dev/BSP/Components/vl6180/vl6180_api.c **** 	if (status == 0) {
 4559              		.loc 1 286 11 view .LVU1548
 4560 000a FFF7FEFF 		bl	VL6180_WrWord
 4561              	.LVL501:
 287:dev/BSP/Components/vl6180/vl6180_api.c **** 		uint32_t XTalkCompRate_KCps;
 4562              		.loc 1 287 2 is_stmt 1 view .LVU1549
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 145


 287:dev/BSP/Components/vl6180/vl6180_api.c **** 		uint32_t XTalkCompRate_KCps;
 4563              		.loc 1 287 5 is_stmt 0 view .LVU1550
 4564 000e 00B1     		cbz	r0, .L335
 4565              	.L332:
 296:dev/BSP/Components/vl6180/vl6180_api.c **** 
 4566              		.loc 1 296 1 view .LVU1551
 4567 0010 38BD     		pop	{r3, r4, r5, pc}
 4568              	.LVL502:
 4569              	.L335:
 4570              	.LBB9:
 288:dev/BSP/Components/vl6180/vl6180_api.c **** 		XTalkCompRate_KCps = Fix7_2_KCPs(Rate);
 4571              		.loc 1 288 3 is_stmt 1 view .LVU1552
 289:dev/BSP/Components/vl6180/vl6180_api.c **** 		VL6180DevDataSet(dev, XTalkCompRate_KCps, XTalkCompRate_KCps);
 4572              		.loc 1 289 3 view .LVU1553
 289:dev/BSP/Components/vl6180/vl6180_api.c **** 		VL6180DevDataSet(dev, XTalkCompRate_KCps, XTalkCompRate_KCps);
 4573              		.loc 1 289 24 is_stmt 0 view .LVU1554
 4574 0012 4FF47A71 		mov	r1, #1000
 4575 0016 01FB04F4 		mul	r4, r1, r4
 289:dev/BSP/Components/vl6180/vl6180_api.c **** 		VL6180DevDataSet(dev, XTalkCompRate_KCps, XTalkCompRate_KCps);
 4576              		.loc 1 289 22 view .LVU1555
 4577 001a E409     		lsrs	r4, r4, #7
 4578              	.LVL503:
 290:dev/BSP/Components/vl6180/vl6180_api.c **** 		/* update dmax whenever xtalk rate changes */
 4579              		.loc 1 290 3 is_stmt 1 view .LVU1556
 4580 001c 6C60     		str	r4, [r5, #4]
 292:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
 4581              		.loc 1 292 3 view .LVU1557
 292:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
 4582              		.loc 1 292 12 is_stmt 0 view .LVU1558
 4583 001e 2846     		mov	r0, r5
 4584 0020 FFF7FEFF 		bl	_DMax_InitData
 4585              	.LVL504:
 292:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
 4586              		.loc 1 292 12 view .LVU1559
 4587              	.LBE9:
 294:dev/BSP/Components/vl6180/vl6180_api.c **** 	return status;
 4588              		.loc 1 294 2 is_stmt 1 view .LVU1560
 295:dev/BSP/Components/vl6180/vl6180_api.c **** }
 4589              		.loc 1 295 2 view .LVU1561
 295:dev/BSP/Components/vl6180/vl6180_api.c **** }
 4590              		.loc 1 295 9 is_stmt 0 view .LVU1562
 4591 0024 F4E7     		b	.L332
 4592              		.cfi_endproc
 4593              	.LFE5:
 4595              		.section	.text.VL6180_RangeSetMaxConvergenceTime,"ax",%progbits
 4596              		.align	1
 4597              		.global	VL6180_RangeSetMaxConvergenceTime
 4598              		.syntax unified
 4599              		.thumb
 4600              		.thumb_func
 4601              		.fpu fpv5-d16
 4603              	VL6180_RangeSetMaxConvergenceTime:
 4604              	.LVL505:
 4605              	.LFB37:
1210:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status = 0;
 4606              		.loc 1 1210 1 is_stmt 1 view -0
 4607              		.cfi_startproc
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 146


 4608              		@ args = 0, pretend = 0, frame = 0
 4609              		@ frame_needed = 0, uses_anonymous_args = 0
1210:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status = 0;
 4610              		.loc 1 1210 1 is_stmt 0 view .LVU1564
 4611 0000 10B5     		push	{r4, lr}
 4612              	.LCFI73:
 4613              		.cfi_def_cfa_offset 8
 4614              		.cfi_offset 4, -8
 4615              		.cfi_offset 14, -4
 4616 0002 0446     		mov	r4, r0
 4617 0004 0A46     		mov	r2, r1
1211:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_START("%d", (int)MaxConTime_msec);
 4618              		.loc 1 1211 2 is_stmt 1 view .LVU1565
 4619              	.LVL506:
1212:dev/BSP/Components/vl6180/vl6180_api.c **** 	do {
 4620              		.loc 1 1212 2 view .LVU1566
1213:dev/BSP/Components/vl6180/vl6180_api.c **** 		status = VL6180_WrByte(dev, SYSRANGE_MAX_CONVERGENCE_TIME, MaxConTime_msec);
 4621              		.loc 1 1213 2 view .LVU1567
1214:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (status) {
 4622              		.loc 1 1214 3 view .LVU1568
1214:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (status) {
 4623              		.loc 1 1214 12 is_stmt 0 view .LVU1569
 4624 0006 1C21     		movs	r1, #28
 4625              	.LVL507:
1214:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (status) {
 4626              		.loc 1 1214 12 view .LVU1570
 4627 0008 FFF7FEFF 		bl	VL6180_WrByte
 4628              	.LVL508:
1215:dev/BSP/Components/vl6180/vl6180_api.c **** 			break;
 4629              		.loc 1 1215 3 is_stmt 1 view .LVU1571
1215:dev/BSP/Components/vl6180/vl6180_api.c **** 			break;
 4630              		.loc 1 1215 6 is_stmt 0 view .LVU1572
 4631 000c 00B1     		cbz	r0, .L339
 4632              	.L336:
1226:dev/BSP/Components/vl6180/vl6180_api.c **** 
 4633              		.loc 1 1226 1 view .LVU1573
 4634 000e 10BD     		pop	{r4, pc}
 4635              	.LVL509:
 4636              	.L339:
1218:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (status) {
 4637              		.loc 1 1218 3 is_stmt 1 view .LVU1574
1218:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (status) {
 4638              		.loc 1 1218 12 is_stmt 0 view .LVU1575
 4639 0010 2046     		mov	r0, r4
 4640 0012 FFF7FEFF 		bl	VL6180_RangeSetEarlyConvergenceEestimateThreshold
 4641              	.LVL510:
1219:dev/BSP/Components/vl6180/vl6180_api.c **** 			break;
 4642              		.loc 1 1219 3 is_stmt 1 view .LVU1576
1219:dev/BSP/Components/vl6180/vl6180_api.c **** 			break;
 4643              		.loc 1 1219 6 is_stmt 0 view .LVU1577
 4644 0016 0028     		cmp	r0, #0
 4645 0018 F9D1     		bne	.L336
1222:dev/BSP/Components/vl6180/vl6180_api.c **** 	} while (0);
 4646              		.loc 1 1222 3 is_stmt 1 view .LVU1578
1222:dev/BSP/Components/vl6180/vl6180_api.c **** 	} while (0);
 4647              		.loc 1 1222 12 is_stmt 0 view .LVU1579
 4648 001a 2046     		mov	r0, r4
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 147


 4649              	.LVL511:
1222:dev/BSP/Components/vl6180/vl6180_api.c **** 	} while (0);
 4650              		.loc 1 1222 12 view .LVU1580
 4651 001c FFF7FEFF 		bl	_DMax_InitData
 4652              	.LVL512:
1223:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_END(status);
 4653              		.loc 1 1223 10 is_stmt 1 view .LVU1581
1224:dev/BSP/Components/vl6180/vl6180_api.c **** 	return status;
 4654              		.loc 1 1224 2 view .LVU1582
1225:dev/BSP/Components/vl6180/vl6180_api.c **** }
 4655              		.loc 1 1225 2 view .LVU1583
1225:dev/BSP/Components/vl6180/vl6180_api.c **** }
 4656              		.loc 1 1225 9 is_stmt 0 view .LVU1584
 4657 0020 F5E7     		b	.L336
 4658              		.cfi_endproc
 4659              	.LFE37:
 4661              		.section	.text.VL6180_UpscaleRegInit,"ax",%progbits
 4662              		.align	1
 4663              		.global	VL6180_UpscaleRegInit
 4664              		.syntax unified
 4665              		.thumb
 4666              		.thumb_func
 4667              		.fpu fpv5-d16
 4669              	VL6180_UpscaleRegInit:
 4670              	.LVL513:
 4671              	.LFB25:
 873:dev/BSP/Components/vl6180/vl6180_api.c **** 	/*  apply REGISTER_TUNING_ER02_100614_CustomerView.txt */
 4672              		.loc 1 873 1 is_stmt 1 view -0
 4673              		.cfi_startproc
 4674              		@ args = 0, pretend = 0, frame = 0
 4675              		@ frame_needed = 0, uses_anonymous_args = 0
 873:dev/BSP/Components/vl6180/vl6180_api.c **** 	/*  apply REGISTER_TUNING_ER02_100614_CustomerView.txt */
 4676              		.loc 1 873 1 is_stmt 0 view .LVU1586
 4677 0000 10B5     		push	{r4, lr}
 4678              	.LCFI74:
 4679              		.cfi_def_cfa_offset 8
 4680              		.cfi_offset 4, -8
 4681              		.cfi_offset 14, -4
 4682 0002 0446     		mov	r4, r0
 875:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180_WrByte(dev, 0x0208, 0x01);
 4683              		.loc 1 875 2 is_stmt 1 view .LVU1587
 4684 0004 0122     		movs	r2, #1
 4685 0006 40F20721 		movw	r1, #519
 4686 000a FFF7FEFF 		bl	VL6180_WrByte
 4687              	.LVL514:
 876:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180_WrByte(dev, 0x0096, 0x00);
 4688              		.loc 1 876 2 view .LVU1588
 4689 000e 0122     		movs	r2, #1
 4690 0010 4FF40271 		mov	r1, #520
 4691 0014 2046     		mov	r0, r4
 4692 0016 FFF7FEFF 		bl	VL6180_WrByte
 4693              	.LVL515:
 877:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180_WrByte(dev, 0x0097, 0x54);
 4694              		.loc 1 877 2 view .LVU1589
 4695 001a 0022     		movs	r2, #0
 4696 001c 9621     		movs	r1, #150
 4697 001e 2046     		mov	r0, r4
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 148


 4698 0020 FFF7FEFF 		bl	VL6180_WrByte
 4699              	.LVL516:
 878:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180_WrByte(dev, 0x00e3, 0x00);
 4700              		.loc 1 878 2 view .LVU1590
 4701 0024 5422     		movs	r2, #84
 4702 0026 9721     		movs	r1, #151
 4703 0028 2046     		mov	r0, r4
 4704 002a FFF7FEFF 		bl	VL6180_WrByte
 4705              	.LVL517:
 879:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180_WrByte(dev, 0x00e4, 0x04);
 4706              		.loc 1 879 2 view .LVU1591
 4707 002e 0022     		movs	r2, #0
 4708 0030 E321     		movs	r1, #227
 4709 0032 2046     		mov	r0, r4
 4710 0034 FFF7FEFF 		bl	VL6180_WrByte
 4711              	.LVL518:
 880:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180_WrByte(dev, 0x00e5, 0x02);
 4712              		.loc 1 880 2 view .LVU1592
 4713 0038 0422     		movs	r2, #4
 4714 003a E421     		movs	r1, #228
 4715 003c 2046     		mov	r0, r4
 4716 003e FFF7FEFF 		bl	VL6180_WrByte
 4717              	.LVL519:
 881:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180_WrByte(dev, 0x00e6, 0x01);
 4718              		.loc 1 881 2 view .LVU1593
 4719 0042 0222     		movs	r2, #2
 4720 0044 E521     		movs	r1, #229
 4721 0046 2046     		mov	r0, r4
 4722 0048 FFF7FEFF 		bl	VL6180_WrByte
 4723              	.LVL520:
 882:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180_WrByte(dev, 0x00e7, 0x03);
 4724              		.loc 1 882 2 view .LVU1594
 4725 004c 0122     		movs	r2, #1
 4726 004e E621     		movs	r1, #230
 4727 0050 2046     		mov	r0, r4
 4728 0052 FFF7FEFF 		bl	VL6180_WrByte
 4729              	.LVL521:
 883:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180_WrByte(dev, 0x00f5, 0x02);
 4730              		.loc 1 883 2 view .LVU1595
 4731 0056 0322     		movs	r2, #3
 4732 0058 E721     		movs	r1, #231
 4733 005a 2046     		mov	r0, r4
 4734 005c FFF7FEFF 		bl	VL6180_WrByte
 4735              	.LVL522:
 884:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180_WrByte(dev, 0x00d9, 0x05);
 4736              		.loc 1 884 2 view .LVU1596
 4737 0060 0222     		movs	r2, #2
 4738 0062 F521     		movs	r1, #245
 4739 0064 2046     		mov	r0, r4
 4740 0066 FFF7FEFF 		bl	VL6180_WrByte
 4741              	.LVL523:
 885:dev/BSP/Components/vl6180/vl6180_api.c **** 
 4742              		.loc 1 885 2 view .LVU1597
 4743 006a 0522     		movs	r2, #5
 4744 006c D921     		movs	r1, #217
 4745 006e 2046     		mov	r0, r4
 4746 0070 FFF7FEFF 		bl	VL6180_WrByte
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 149


 4747              	.LVL524:
 887:dev/BSP/Components/vl6180/vl6180_api.c **** 
 4748              		.loc 1 887 2 view .LVU1598
 4749 0074 2046     		mov	r0, r4
 4750 0076 FFF7FEFF 		bl	_UpscaleInitPatch0
 4751              	.LVL525:
 889:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180_WrByte(dev, 0x00a3, 0x28);
 4752              		.loc 1 889 2 view .LVU1599
 4753 007a 0022     		movs	r2, #0
 4754 007c 9F21     		movs	r1, #159
 4755 007e 2046     		mov	r0, r4
 4756 0080 FFF7FEFF 		bl	VL6180_WrByte
 4757              	.LVL526:
 890:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180_WrByte(dev, 0x00b7, 0x00);
 4758              		.loc 1 890 2 view .LVU1600
 4759 0084 2822     		movs	r2, #40
 4760 0086 A321     		movs	r1, #163
 4761 0088 2046     		mov	r0, r4
 4762 008a FFF7FEFF 		bl	VL6180_WrByte
 4763              	.LVL527:
 891:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180_WrByte(dev, 0x00bb, 0x28);
 4764              		.loc 1 891 2 view .LVU1601
 4765 008e 0022     		movs	r2, #0
 4766 0090 B721     		movs	r1, #183
 4767 0092 2046     		mov	r0, r4
 4768 0094 FFF7FEFF 		bl	VL6180_WrByte
 4769              	.LVL528:
 892:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180_WrByte(dev, 0x00b2, 0x09);
 4770              		.loc 1 892 2 view .LVU1602
 4771 0098 2822     		movs	r2, #40
 4772 009a BB21     		movs	r1, #187
 4773 009c 2046     		mov	r0, r4
 4774 009e FFF7FEFF 		bl	VL6180_WrByte
 4775              	.LVL529:
 893:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180_WrByte(dev, 0x00ca, 0x09);
 4776              		.loc 1 893 2 view .LVU1603
 4777 00a2 0922     		movs	r2, #9
 4778 00a4 B221     		movs	r1, #178
 4779 00a6 2046     		mov	r0, r4
 4780 00a8 FFF7FEFF 		bl	VL6180_WrByte
 4781              	.LVL530:
 894:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180_WrByte(dev, 0x0198, 0x01);
 4782              		.loc 1 894 2 view .LVU1604
 4783 00ac 0922     		movs	r2, #9
 4784 00ae CA21     		movs	r1, #202
 4785 00b0 2046     		mov	r0, r4
 4786 00b2 FFF7FEFF 		bl	VL6180_WrByte
 4787              	.LVL531:
 895:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180_WrByte(dev, 0x01b0, 0x17);
 4788              		.loc 1 895 2 view .LVU1605
 4789 00b6 0122     		movs	r2, #1
 4790 00b8 4FF4CC71 		mov	r1, #408
 4791 00bc 2046     		mov	r0, r4
 4792 00be FFF7FEFF 		bl	VL6180_WrByte
 4793              	.LVL532:
 896:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180_WrByte(dev, 0x01ad, 0x00);
 4794              		.loc 1 896 2 view .LVU1606
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 150


 4795 00c2 1722     		movs	r2, #23
 4796 00c4 4FF4D871 		mov	r1, #432
 4797 00c8 2046     		mov	r0, r4
 4798 00ca FFF7FEFF 		bl	VL6180_WrByte
 4799              	.LVL533:
 897:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180_WrByte(dev, 0x00ff, 0x05);
 4800              		.loc 1 897 2 view .LVU1607
 4801 00ce 0022     		movs	r2, #0
 4802 00d0 40F2AD11 		movw	r1, #429
 4803 00d4 2046     		mov	r0, r4
 4804 00d6 FFF7FEFF 		bl	VL6180_WrByte
 4805              	.LVL534:
 898:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180_WrByte(dev, 0x0100, 0x05);
 4806              		.loc 1 898 2 view .LVU1608
 4807 00da 0522     		movs	r2, #5
 4808 00dc FF21     		movs	r1, #255
 4809 00de 2046     		mov	r0, r4
 4810 00e0 FFF7FEFF 		bl	VL6180_WrByte
 4811              	.LVL535:
 899:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180_WrByte(dev, 0x0199, 0x05);
 4812              		.loc 1 899 2 view .LVU1609
 4813 00e4 0522     		movs	r2, #5
 4814 00e6 4FF48071 		mov	r1, #256
 4815 00ea 2046     		mov	r0, r4
 4816 00ec FFF7FEFF 		bl	VL6180_WrByte
 4817              	.LVL536:
 900:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180_WrByte(dev, 0x01a6, 0x1b);
 4818              		.loc 1 900 2 view .LVU1610
 4819 00f0 0522     		movs	r2, #5
 4820 00f2 40F29911 		movw	r1, #409
 4821 00f6 2046     		mov	r0, r4
 4822 00f8 FFF7FEFF 		bl	VL6180_WrByte
 4823              	.LVL537:
 901:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180_WrByte(dev, 0x01ac, 0x3e);
 4824              		.loc 1 901 2 view .LVU1611
 4825 00fc 1B22     		movs	r2, #27
 4826 00fe 4FF4D371 		mov	r1, #422
 4827 0102 2046     		mov	r0, r4
 4828 0104 FFF7FEFF 		bl	VL6180_WrByte
 4829              	.LVL538:
 902:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180_WrByte(dev, 0x01a7, 0x1f);
 4830              		.loc 1 902 2 view .LVU1612
 4831 0108 3E22     		movs	r2, #62
 4832 010a 4FF4D671 		mov	r1, #428
 4833 010e 2046     		mov	r0, r4
 4834 0110 FFF7FEFF 		bl	VL6180_WrByte
 4835              	.LVL539:
 903:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180_WrByte(dev, 0x0030, 0x00);
 4836              		.loc 1 903 2 view .LVU1613
 4837 0114 1F22     		movs	r2, #31
 4838 0116 40F2A711 		movw	r1, #423
 4839 011a 2046     		mov	r0, r4
 4840 011c FFF7FEFF 		bl	VL6180_WrByte
 4841              	.LVL540:
 904:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180_WrByte(dev, 0x0011, 0x10);
 4842              		.loc 1 904 2 view .LVU1614
 4843 0120 0022     		movs	r2, #0
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 151


 4844 0122 3021     		movs	r1, #48
 4845 0124 2046     		mov	r0, r4
 4846 0126 FFF7FEFF 		bl	VL6180_WrByte
 4847              	.LVL541:
 905:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180_WrByte(dev, 0x010a, 0x30);
 4848              		.loc 1 905 2 view .LVU1615
 4849 012a 1022     		movs	r2, #16
 4850 012c 1121     		movs	r1, #17
 4851 012e 2046     		mov	r0, r4
 4852 0130 FFF7FEFF 		bl	VL6180_WrByte
 4853              	.LVL542:
 906:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180_WrByte(dev, 0x003f, 0x46);
 4854              		.loc 1 906 2 view .LVU1616
 4855 0134 3022     		movs	r2, #48
 4856 0136 4FF48571 		mov	r1, #266
 4857 013a 2046     		mov	r0, r4
 4858 013c FFF7FEFF 		bl	VL6180_WrByte
 4859              	.LVL543:
 907:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180_WrByte(dev, 0x0031, 0xFF);
 4860              		.loc 1 907 2 view .LVU1617
 4861 0140 4622     		movs	r2, #70
 4862 0142 3F21     		movs	r1, #63
 4863 0144 2046     		mov	r0, r4
 4864 0146 FFF7FEFF 		bl	VL6180_WrByte
 4865              	.LVL544:
 908:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180_WrByte(dev, 0x0040, 0x63);
 4866              		.loc 1 908 2 view .LVU1618
 4867 014a FF22     		movs	r2, #255
 4868 014c 3121     		movs	r1, #49
 4869 014e 2046     		mov	r0, r4
 4870 0150 FFF7FEFF 		bl	VL6180_WrByte
 4871              	.LVL545:
 909:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180_WrByte(dev, 0x002e, 0x01);
 4872              		.loc 1 909 2 view .LVU1619
 4873 0154 6322     		movs	r2, #99
 4874 0156 4021     		movs	r1, #64
 4875 0158 2046     		mov	r0, r4
 4876 015a FFF7FEFF 		bl	VL6180_WrByte
 4877              	.LVL546:
 910:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180_WrByte(dev, 0x002c, 0xff);
 4878              		.loc 1 910 2 view .LVU1620
 4879 015e 0122     		movs	r2, #1
 4880 0160 2E21     		movs	r1, #46
 4881 0162 2046     		mov	r0, r4
 4882 0164 FFF7FEFF 		bl	VL6180_WrByte
 4883              	.LVL547:
 911:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180_WrByte(dev, 0x001b, 0x09);
 4884              		.loc 1 911 2 view .LVU1621
 4885 0168 FF22     		movs	r2, #255
 4886 016a 2C21     		movs	r1, #44
 4887 016c 2046     		mov	r0, r4
 4888 016e FFF7FEFF 		bl	VL6180_WrByte
 4889              	.LVL548:
 912:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180_WrByte(dev, 0x003e, 0x31);
 4890              		.loc 1 912 2 view .LVU1622
 4891 0172 0922     		movs	r2, #9
 4892 0174 1B21     		movs	r1, #27
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 152


 4893 0176 2046     		mov	r0, r4
 4894 0178 FFF7FEFF 		bl	VL6180_WrByte
 4895              	.LVL549:
 913:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180_WrByte(dev, 0x0014, 0x24);
 4896              		.loc 1 913 2 view .LVU1623
 4897 017c 3122     		movs	r2, #49
 4898 017e 3E21     		movs	r1, #62
 4899 0180 2046     		mov	r0, r4
 4900 0182 FFF7FEFF 		bl	VL6180_WrByte
 4901              	.LVL550:
 914:dev/BSP/Components/vl6180/vl6180_api.c **** #if VL6180_EXTENDED_RANGE
 4902              		.loc 1 914 2 view .LVU1624
 4903 0186 2422     		movs	r2, #36
 4904 0188 1421     		movs	r1, #20
 4905 018a 2046     		mov	r0, r4
 4906 018c FFF7FEFF 		bl	VL6180_WrByte
 4907              	.LVL551:
 918:dev/BSP/Components/vl6180/vl6180_api.c **** #endif
 4908              		.loc 1 918 2 view .LVU1625
 4909 0190 3221     		movs	r1, #50
 4910 0192 2046     		mov	r0, r4
 4911 0194 FFF7FEFF 		bl	VL6180_RangeSetMaxConvergenceTime
 4912              	.LVL552:
 920:dev/BSP/Components/vl6180/vl6180_api.c **** }
 4913              		.loc 1 920 2 view .LVU1626
 921:dev/BSP/Components/vl6180/vl6180_api.c **** #else
 4914              		.loc 1 921 1 is_stmt 0 view .LVU1627
 4915 0198 0020     		movs	r0, #0
 4916 019a 10BD     		pop	{r4, pc}
 921:dev/BSP/Components/vl6180/vl6180_api.c **** #else
 4917              		.loc 1 921 1 view .LVU1628
 4918              		.cfi_endproc
 4919              	.LFE25:
 4921              		.section	.text.VL6180_UpscaleStaticInit,"ax",%progbits
 4922              		.align	1
 4923              		.syntax unified
 4924              		.thumb
 4925              		.thumb_func
 4926              		.fpu fpv5-d16
 4928              	VL6180_UpscaleStaticInit:
 4929              	.LVL553:
 4930              	.LFB28:
1002:dev/BSP/Components/vl6180/vl6180_api.c **** 	/* todo make these a fail macro in case only 1x is suppoted */
 4931              		.loc 1 1002 1 is_stmt 1 view -0
 4932              		.cfi_startproc
 4933              		@ args = 0, pretend = 0, frame = 0
 4934              		@ frame_needed = 0, uses_anonymous_args = 0
1002:dev/BSP/Components/vl6180/vl6180_api.c **** 	/* todo make these a fail macro in case only 1x is suppoted */
 4935              		.loc 1 1002 1 is_stmt 0 view .LVU1630
 4936 0000 38B5     		push	{r3, r4, r5, lr}
 4937              	.LCFI75:
 4938              		.cfi_def_cfa_offset 16
 4939              		.cfi_offset 3, -16
 4940              		.cfi_offset 4, -12
 4941              		.cfi_offset 5, -8
 4942              		.cfi_offset 14, -4
 4943 0002 0446     		mov	r4, r0
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 153


1004:dev/BSP/Components/vl6180/vl6180_api.c **** 
 4944              		.loc 1 1004 2 is_stmt 1 view .LVU1631
1006:dev/BSP/Components/vl6180/vl6180_api.c **** 	do {
 4945              		.loc 1 1006 2 view .LVU1632
1007:dev/BSP/Components/vl6180/vl6180_api.c **** 		status = VL6180_UpscaleRegInit(dev);
 4946              		.loc 1 1007 2 view .LVU1633
1008:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (status) {
 4947              		.loc 1 1008 3 view .LVU1634
1008:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (status) {
 4948              		.loc 1 1008 12 is_stmt 0 view .LVU1635
 4949 0004 FFF7FEFF 		bl	VL6180_UpscaleRegInit
 4950              	.LVL554:
1009:dev/BSP/Components/vl6180/vl6180_api.c **** 			VL6180_ErrLog("regInit fail");
 4951              		.loc 1 1009 3 is_stmt 1 view .LVU1636
1020:dev/BSP/Components/vl6180/vl6180_api.c **** 	if (!status) {
 4952              		.loc 1 1020 10 view .LVU1637
1021:dev/BSP/Components/vl6180/vl6180_api.c **** 		/*  must write the scaler at least once to the device to ensure the scaler is in a known state. *
 4953              		.loc 1 1021 2 view .LVU1638
1021:dev/BSP/Components/vl6180/vl6180_api.c **** 		/*  must write the scaler at least once to the device to ensure the scaler is in a known state. *
 4954              		.loc 1 1021 5 is_stmt 0 view .LVU1639
 4955 0008 0546     		mov	r5, r0
 4956 000a 08B1     		cbz	r0, .L345
 4957              	.LVL555:
 4958              	.L342:
1028:dev/BSP/Components/vl6180/vl6180_api.c **** 
 4959              		.loc 1 1028 1 view .LVU1640
 4960 000c 2846     		mov	r0, r5
 4961 000e 38BD     		pop	{r3, r4, r5, pc}
 4962              	.LVL556:
 4963              	.L345:
1023:dev/BSP/Components/vl6180/vl6180_api.c **** 		VL6180_WrByte(dev, 0x016, 0x00); /* change fresh out of set status to 0 */
 4964              		.loc 1 1023 3 is_stmt 1 view .LVU1641
1023:dev/BSP/Components/vl6180/vl6180_api.c **** 		VL6180_WrByte(dev, 0x016, 0x00); /* change fresh out of set status to 0 */
 4965              		.loc 1 1023 12 is_stmt 0 view .LVU1642
 4966 0010 A17C     		ldrb	r1, [r4, #18]	@ zero_extendqisi2
 4967 0012 2046     		mov	r0, r4
 4968              	.LVL557:
1023:dev/BSP/Components/vl6180/vl6180_api.c **** 		VL6180_WrByte(dev, 0x016, 0x00); /* change fresh out of set status to 0 */
 4969              		.loc 1 1023 12 view .LVU1643
 4970 0014 FFF7FEFF 		bl	VL6180_UpscaleSetScaling
 4971              	.LVL558:
 4972 0018 0546     		mov	r5, r0
 4973              	.LVL559:
1024:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
 4974              		.loc 1 1024 3 is_stmt 1 view .LVU1644
 4975 001a 0022     		movs	r2, #0
 4976 001c 1621     		movs	r1, #22
 4977 001e 2046     		mov	r0, r4
 4978              	.LVL560:
1024:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
 4979              		.loc 1 1024 3 is_stmt 0 view .LVU1645
 4980 0020 FFF7FEFF 		bl	VL6180_WrByte
 4981              	.LVL561:
1026:dev/BSP/Components/vl6180/vl6180_api.c **** 	return status;
 4982              		.loc 1 1026 2 is_stmt 1 view .LVU1646
1027:dev/BSP/Components/vl6180/vl6180_api.c **** }
 4983              		.loc 1 1027 2 view .LVU1647
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 154


1027:dev/BSP/Components/vl6180/vl6180_api.c **** }
 4984              		.loc 1 1027 9 is_stmt 0 view .LVU1648
 4985 0024 F2E7     		b	.L342
 4986              		.cfi_endproc
 4987              	.LFE28:
 4989              		.section	.text.VL6180_StaticInit,"ax",%progbits
 4990              		.align	1
 4991              		.global	VL6180_StaticInit
 4992              		.syntax unified
 4993              		.thumb
 4994              		.thumb_func
 4995              		.fpu fpv5-d16
 4997              	VL6180_StaticInit:
 4998              	.LVL562:
 4999              	.LFB8:
 329:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status = 0, init_status;
 5000              		.loc 1 329 1 is_stmt 1 view -0
 5001              		.cfi_startproc
 5002              		@ args = 0, pretend = 0, frame = 0
 5003              		@ frame_needed = 0, uses_anonymous_args = 0
 329:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status = 0, init_status;
 5004              		.loc 1 329 1 is_stmt 0 view .LVU1650
 5005 0000 08B5     		push	{r3, lr}
 5006              	.LCFI76:
 5007              		.cfi_def_cfa_offset 8
 5008              		.cfi_offset 3, -8
 5009              		.cfi_offset 14, -4
 330:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_START("");
 5010              		.loc 1 330 2 is_stmt 1 view .LVU1651
 5011              	.LVL563:
 331:dev/BSP/Components/vl6180/vl6180_api.c **** 
 5012              		.loc 1 331 2 view .LVU1652
 335:dev/BSP/Components/vl6180/vl6180_api.c **** 		init_status = VL6180_RangeStaticInit(dev);
 5013              		.loc 1 335 2 view .LVU1653
 338:dev/BSP/Components/vl6180/vl6180_api.c **** 
 5014              		.loc 1 338 3 view .LVU1654
 338:dev/BSP/Components/vl6180/vl6180_api.c **** 
 5015              		.loc 1 338 17 is_stmt 0 view .LVU1655
 5016 0002 FFF7FEFF 		bl	VL6180_UpscaleStaticInit
 5017              	.LVL564:
 340:dev/BSP/Components/vl6180/vl6180_api.c **** 		VL6180_ErrLog("StaticInit fail");
 5018              		.loc 1 340 2 is_stmt 1 view .LVU1656
 340:dev/BSP/Components/vl6180/vl6180_api.c **** 		VL6180_ErrLog("StaticInit fail");
 5019              		.loc 1 340 5 is_stmt 0 view .LVU1657
 5020 0006 0028     		cmp	r0, #0
 340:dev/BSP/Components/vl6180/vl6180_api.c **** 		VL6180_ErrLog("StaticInit fail");
 5021              		.loc 1 340 5 view .LVU1658
 5022 0008 00DB     		blt	.L350
 5023              	.LVL565:
 5024              	.L346:
 356:dev/BSP/Components/vl6180/vl6180_api.c **** 
 5025              		.loc 1 356 1 view .LVU1659
 5026 000a 08BD     		pop	{r3, pc}
 5027              	.LVL566:
 5028              	.L350:
 330:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_START("");
 5029              		.loc 1 330 6 view .LVU1660
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 155


 5030 000c 0020     		movs	r0, #0
 5031              	.LVL567:
 5032              	.L347:
 354:dev/BSP/Components/vl6180/vl6180_api.c **** 	return status;
 5033              		.loc 1 354 2 is_stmt 1 view .LVU1661
 355:dev/BSP/Components/vl6180/vl6180_api.c **** }
 5034              		.loc 1 355 2 view .LVU1662
 355:dev/BSP/Components/vl6180/vl6180_api.c **** }
 5035              		.loc 1 355 9 is_stmt 0 view .LVU1663
 5036 000e FCE7     		b	.L346
 5037              		.cfi_endproc
 5038              	.LFE8:
 5040              		.section	.text.VL6180_Prepare,"ax",%progbits
 5041              		.align	1
 5042              		.global	VL6180_Prepare
 5043              		.syntax unified
 5044              		.thumb
 5045              		.thumb_func
 5046              		.fpu fpv5-d16
 5048              	VL6180_Prepare:
 5049              	.LVL568:
 5050              	.LFB10:
 377:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
 5051              		.loc 1 377 1 is_stmt 1 view -0
 5052              		.cfi_startproc
 5053              		@ args = 0, pretend = 0, frame = 0
 5054              		@ frame_needed = 0, uses_anonymous_args = 0
 377:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
 5055              		.loc 1 377 1 is_stmt 0 view .LVU1665
 5056 0000 10B5     		push	{r4, lr}
 5057              	.LCFI77:
 5058              		.cfi_def_cfa_offset 8
 5059              		.cfi_offset 4, -8
 5060              		.cfi_offset 14, -4
 5061 0002 0446     		mov	r4, r0
 378:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_START("");
 5062              		.loc 1 378 2 is_stmt 1 view .LVU1666
 379:dev/BSP/Components/vl6180/vl6180_api.c **** 
 5063              		.loc 1 379 2 view .LVU1667
 381:dev/BSP/Components/vl6180/vl6180_api.c **** 		status = VL6180_StaticInit(dev);
 5064              		.loc 1 381 2 view .LVU1668
 382:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (status < 0)
 5065              		.loc 1 382 3 view .LVU1669
 382:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (status < 0)
 5066              		.loc 1 382 12 is_stmt 0 view .LVU1670
 5067 0004 FFF7FEFF 		bl	VL6180_StaticInit
 5068              	.LVL569:
 383:dev/BSP/Components/vl6180/vl6180_api.c **** 			break;
 5069              		.loc 1 383 3 is_stmt 1 view .LVU1671
 383:dev/BSP/Components/vl6180/vl6180_api.c **** 			break;
 5070              		.loc 1 383 6 is_stmt 0 view .LVU1672
 5071 0008 0028     		cmp	r0, #0
 383:dev/BSP/Components/vl6180/vl6180_api.c **** 			break;
 5072              		.loc 1 383 6 view .LVU1673
 5073 000a 00DA     		bge	.L354
 5074              	.L351:
 406:dev/BSP/Components/vl6180/vl6180_api.c **** 
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 156


 5075              		.loc 1 406 1 view .LVU1674
 5076 000c 10BD     		pop	{r4, pc}
 5077              	.LVL570:
 5078              	.L354:
 387:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (status)
 5079              		.loc 1 387 3 is_stmt 1 view .LVU1675
 387:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (status)
 5080              		.loc 1 387 12 is_stmt 0 view .LVU1676
 5081 000e 0421     		movs	r1, #4
 5082 0010 2046     		mov	r0, r4
 5083              	.LVL571:
 387:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (status)
 5084              		.loc 1 387 12 view .LVU1677
 5085 0012 FFF7FEFF 		bl	VL6180_RangeConfigInterrupt
 5086              	.LVL572:
 388:dev/BSP/Components/vl6180/vl6180_api.c **** 			break;
 5087              		.loc 1 388 3 is_stmt 1 view .LVU1678
 388:dev/BSP/Components/vl6180/vl6180_api.c **** 			break;
 5088              		.loc 1 388 6 is_stmt 0 view .LVU1679
 5089 0016 0028     		cmp	r0, #0
 5090 0018 F8D1     		bne	.L351
 392:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (status) {
 5091              		.loc 1 392 3 is_stmt 1 view .LVU1680
 392:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (status) {
 5092              		.loc 1 392 12 is_stmt 0 view .LVU1681
 5093 001a C822     		movs	r2, #200
 5094 001c 0A21     		movs	r1, #10
 5095 001e 2046     		mov	r0, r4
 5096              	.LVL573:
 392:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (status) {
 5097              		.loc 1 392 12 view .LVU1682
 5098 0020 FFF7FEFF 		bl	VL6180_RangeSetRawThresholds
 5099              	.LVL574:
 393:dev/BSP/Components/vl6180/vl6180_api.c **** 			VL6180_ErrLog("VL6180_RangeSetRawThresholds fail");
 5100              		.loc 1 393 3 is_stmt 1 view .LVU1683
 393:dev/BSP/Components/vl6180/vl6180_api.c **** 			VL6180_ErrLog("VL6180_RangeSetRawThresholds fail");
 5101              		.loc 1 393 6 is_stmt 0 view .LVU1684
 5102 0024 0028     		cmp	r0, #0
 5103 0026 F1D1     		bne	.L351
 398:dev/BSP/Components/vl6180/vl6180_api.c **** 	#endif
 5104              		.loc 1 398 3 is_stmt 1 view .LVU1685
 5105 0028 2046     		mov	r0, r4
 5106              	.LVL575:
 398:dev/BSP/Components/vl6180/vl6180_api.c **** 	#endif
 5107              		.loc 1 398 3 is_stmt 0 view .LVU1686
 5108 002a FFF7FEFF 		bl	_filter_Init
 5109              	.LVL576:
 401:dev/BSP/Components/vl6180/vl6180_api.c **** 	} while (0);
 5110              		.loc 1 401 3 is_stmt 1 view .LVU1687
 401:dev/BSP/Components/vl6180/vl6180_api.c **** 	} while (0);
 5111              		.loc 1 401 12 is_stmt 0 view .LVU1688
 5112 002e 0521     		movs	r1, #5
 5113 0030 2046     		mov	r0, r4
 5114 0032 FFF7FEFF 		bl	VL6180_ClearInterrupt
 5115              	.LVL577:
 402:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_END(status);
 5116              		.loc 1 402 10 is_stmt 1 view .LVU1689
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 157


 403:dev/BSP/Components/vl6180/vl6180_api.c **** 
 5117              		.loc 1 403 2 view .LVU1690
 405:dev/BSP/Components/vl6180/vl6180_api.c **** }
 5118              		.loc 1 405 2 view .LVU1691
 405:dev/BSP/Components/vl6180/vl6180_api.c **** }
 5119              		.loc 1 405 9 is_stmt 0 view .LVU1692
 5120 0036 E9E7     		b	.L351
 5121              		.cfi_endproc
 5122              	.LFE10:
 5124              		.section	.text.VL6180_RangeSetEceFactor,"ax",%progbits
 5125              		.align	1
 5126              		.global	VL6180_RangeSetEceFactor
 5127              		.syntax unified
 5128              		.thumb
 5129              		.thumb_func
 5130              		.fpu fpv5-d16
 5132              	VL6180_RangeSetEceFactor:
 5133              	.LVL578:
 5134              	.LFB35:
1162:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
 5135              		.loc 1 1162 1 is_stmt 1 view -0
 5136              		.cfi_startproc
 5137              		@ args = 0, pretend = 0, frame = 8
 5138              		@ frame_needed = 0, uses_anonymous_args = 0
1163:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint8_t u8;
 5139              		.loc 1 1163 2 view .LVU1694
1164:dev/BSP/Components/vl6180/vl6180_api.c **** 
 5140              		.loc 1 1164 2 view .LVU1695
1166:dev/BSP/Components/vl6180/vl6180_api.c **** 	do {
 5141              		.loc 1 1166 2 view .LVU1696
1167:dev/BSP/Components/vl6180/vl6180_api.c **** 		/* D cannot be 0 M must be <=D and >= 0 */
 5142              		.loc 1 1167 2 view .LVU1697
1169:dev/BSP/Components/vl6180/vl6180_api.c **** 			VL6180DevDataSet(dev, EceFactorM, FactorM);
 5143              		.loc 1 1169 3 view .LVU1698
1169:dev/BSP/Components/vl6180/vl6180_api.c **** 			VL6180DevDataSet(dev, EceFactorM, FactorM);
 5144              		.loc 1 1169 27 is_stmt 0 view .LVU1699
 5145 0000 9142     		cmp	r1, r2
 5146 0002 8CBF     		ite	hi
 5147 0004 0023     		movhi	r3, #0
 5148 0006 0123     		movls	r3, #1
 5149 0008 002A     		cmp	r2, #0
 5150 000a 08BF     		it	eq
 5151 000c 0023     		moveq	r3, #0
1169:dev/BSP/Components/vl6180/vl6180_api.c **** 			VL6180DevDataSet(dev, EceFactorM, FactorM);
 5152              		.loc 1 1169 6 view .LVU1700
 5153 000e 93B1     		cbz	r3, .L357
1162:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
 5154              		.loc 1 1162 1 view .LVU1701
 5155 0010 10B5     		push	{r4, lr}
 5156              	.LCFI78:
 5157              		.cfi_def_cfa_offset 8
 5158              		.cfi_offset 4, -8
 5159              		.cfi_offset 14, -4
 5160 0012 82B0     		sub	sp, sp, #8
 5161              	.LCFI79:
 5162              		.cfi_def_cfa_offset 16
 5163 0014 0446     		mov	r4, r0
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 158


1170:dev/BSP/Components/vl6180/vl6180_api.c **** 			VL6180DevDataSet(dev, EceFactorD, FactorD);
 5164              		.loc 1 1170 4 is_stmt 1 view .LVU1702
 5165 0016 0181     		strh	r1, [r0, #8]	@ movhi
1171:dev/BSP/Components/vl6180/vl6180_api.c **** 			/* read and re-apply max conv time to get new ece factor set */
 5166              		.loc 1 1171 4 view .LVU1703
 5167 0018 4281     		strh	r2, [r0, #10]	@ movhi
1173:dev/BSP/Components/vl6180/vl6180_api.c **** 			if (status) {
 5168              		.loc 1 1173 4 view .LVU1704
1173:dev/BSP/Components/vl6180/vl6180_api.c **** 			if (status) {
 5169              		.loc 1 1173 13 is_stmt 0 view .LVU1705
 5170 001a 0DF10702 		add	r2, sp, #7
 5171              	.LVL579:
1173:dev/BSP/Components/vl6180/vl6180_api.c **** 			if (status) {
 5172              		.loc 1 1173 13 view .LVU1706
 5173 001e 1C21     		movs	r1, #28
 5174              	.LVL580:
1173:dev/BSP/Components/vl6180/vl6180_api.c **** 			if (status) {
 5175              		.loc 1 1173 13 view .LVU1707
 5176 0020 FFF7FEFF 		bl	VL6180_RdByte
 5177              	.LVL581:
1174:dev/BSP/Components/vl6180/vl6180_api.c **** 			   VL6180_ErrLog("SYSRANGE_MAX_CONVERGENCE_TIME rd fail ");
 5178              		.loc 1 1174 4 is_stmt 1 view .LVU1708
1174:dev/BSP/Components/vl6180/vl6180_api.c **** 			   VL6180_ErrLog("SYSRANGE_MAX_CONVERGENCE_TIME rd fail ");
 5179              		.loc 1 1174 7 is_stmt 0 view .LVU1709
 5180 0024 08B1     		cbz	r0, .L362
 5181              	.L355:
1190:dev/BSP/Components/vl6180/vl6180_api.c **** 
 5182              		.loc 1 1190 1 view .LVU1710
 5183 0026 02B0     		add	sp, sp, #8
 5184              	.LCFI80:
 5185              		.cfi_remember_state
 5186              		.cfi_def_cfa_offset 8
 5187              		@ sp needed
 5188 0028 10BD     		pop	{r4, pc}
 5189              	.LVL582:
 5190              	.L362:
 5191              	.LCFI81:
 5192              		.cfi_restore_state
1178:dev/BSP/Components/vl6180/vl6180_api.c **** 			if (status < 0) {
 5193              		.loc 1 1178 4 is_stmt 1 view .LVU1711
1178:dev/BSP/Components/vl6180/vl6180_api.c **** 			if (status < 0) {
 5194              		.loc 1 1178 13 is_stmt 0 view .LVU1712
 5195 002a 9DF80710 		ldrb	r1, [sp, #7]	@ zero_extendqisi2
 5196 002e 2046     		mov	r0, r4
 5197              	.LVL583:
1178:dev/BSP/Components/vl6180/vl6180_api.c **** 			if (status < 0) {
 5198              		.loc 1 1178 13 view .LVU1713
 5199 0030 FFF7FEFF 		bl	VL6180_RangeSetMaxConvergenceTime
 5200              	.LVL584:
1179:dev/BSP/Components/vl6180/vl6180_api.c **** 				VL6180_ErrLog("fail to apply time after ece m/d change");
 5201              		.loc 1 1179 4 is_stmt 1 view .LVU1714
 5202 0034 F7E7     		b	.L355
 5203              	.LVL585:
 5204              	.L357:
 5205              	.LCFI82:
 5206              		.cfi_def_cfa_offset 0
 5207              		.cfi_restore 4
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 159


 5208              		.cfi_restore 14
1185:dev/BSP/Components/vl6180/vl6180_api.c **** 		}
 5209              		.loc 1 1185 11 is_stmt 0 view .LVU1715
 5210 0036 6FF00100 		mvn	r0, #1
 5211              	.LVL586:
1187:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_END(status);
 5212              		.loc 1 1187 10 is_stmt 1 view .LVU1716
1188:dev/BSP/Components/vl6180/vl6180_api.c **** 	return status;
 5213              		.loc 1 1188 2 view .LVU1717
1189:dev/BSP/Components/vl6180/vl6180_api.c **** }
 5214              		.loc 1 1189 2 view .LVU1718
1190:dev/BSP/Components/vl6180/vl6180_api.c **** 
 5215              		.loc 1 1190 1 is_stmt 0 view .LVU1719
 5216 003a 7047     		bx	lr
 5217              		.cfi_endproc
 5218              	.LFE35:
 5220              		.section	.text._RangeIgnore_UpdateDevice,"ax",%progbits
 5221              		.align	1
 5222              		.syntax unified
 5223              		.thumb
 5224              		.thumb_func
 5225              		.fpu fpv5-d16
 5227              	_RangeIgnore_UpdateDevice:
 5228              	.LVL587:
 5229              	.LFB45:
1383:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
 5230              		.loc 1 1383 54 is_stmt 1 view -0
 5231              		.cfi_startproc
 5232              		@ args = 0, pretend = 0, frame = 0
 5233              		@ frame_needed = 0, uses_anonymous_args = 0
1383:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
 5234              		.loc 1 1383 54 is_stmt 0 view .LVU1721
 5235 0000 38B5     		push	{r3, r4, r5, lr}
 5236              	.LCFI83:
 5237              		.cfi_def_cfa_offset 16
 5238              		.cfi_offset 3, -16
 5239              		.cfi_offset 4, -12
 5240              		.cfi_offset 5, -8
 5241              		.cfi_offset 14, -4
 5242 0002 0446     		mov	r4, r0
1384:dev/BSP/Components/vl6180/vl6180_api.c **** 	int enable;
 5243              		.loc 1 1384 2 is_stmt 1 view .LVU1722
1385:dev/BSP/Components/vl6180/vl6180_api.c **** 	int threshold;
 5244              		.loc 1 1385 2 view .LVU1723
1386:dev/BSP/Components/vl6180/vl6180_api.c **** 	int range;
 5245              		.loc 1 1386 2 view .LVU1724
1387:dev/BSP/Components/vl6180/vl6180_api.c **** 	int or_mask;
 5246              		.loc 1 1387 2 view .LVU1725
1388:dev/BSP/Components/vl6180/vl6180_api.c **** 	enable= VL6180DevDataGet(dev, RangeIgnore.Enabled);
 5247              		.loc 1 1388 2 view .LVU1726
1389:dev/BSP/Components/vl6180/vl6180_api.c **** 	if( enable ){
 5248              		.loc 1 1389 2 view .LVU1727
1389:dev/BSP/Components/vl6180/vl6180_api.c **** 	if( enable ){
 5249              		.loc 1 1389 10 is_stmt 0 view .LVU1728
 5250 0004 037C     		ldrb	r3, [r0, #16]	@ zero_extendqisi2
 5251              	.LVL588:
1390:dev/BSP/Components/vl6180/vl6180_api.c **** 		// if to be nabled program first range value and threshold
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 160


 5252              		.loc 1 1390 2 is_stmt 1 view .LVU1729
1390:dev/BSP/Components/vl6180/vl6180_api.c **** 		// if to be nabled program first range value and threshold
 5253              		.loc 1 1390 4 is_stmt 0 view .LVU1730
 5254 0006 B3B1     		cbz	r3, .L367
1392:dev/BSP/Components/vl6180/vl6180_api.c **** 		range /= _GetUpscale(dev);
 5255              		.loc 1 1392 3 is_stmt 1 view .LVU1731
1392:dev/BSP/Components/vl6180/vl6180_api.c **** 		range /= _GetUpscale(dev);
 5256              		.loc 1 1392 11 is_stmt 0 view .LVU1732
 5257 0008 8289     		ldrh	r2, [r0, #12]
 5258              	.LVL589:
1393:dev/BSP/Components/vl6180/vl6180_api.c **** 		if( range > 255 )
 5259              		.loc 1 1393 3 is_stmt 1 view .LVU1733
1393:dev/BSP/Components/vl6180/vl6180_api.c **** 		if( range > 255 )
 5260              		.loc 1 1393 12 is_stmt 0 view .LVU1734
 5261 000a 837C     		ldrb	r3, [r0, #18]	@ zero_extendqisi2
 5262              	.LVL590:
1393:dev/BSP/Components/vl6180/vl6180_api.c **** 		if( range > 255 )
 5263              		.loc 1 1393 9 view .LVU1735
 5264 000c 92FBF3F2 		sdiv	r2, r2, r3
 5265              	.LVL591:
1394:dev/BSP/Components/vl6180/vl6180_api.c **** 			range = 255;
 5266              		.loc 1 1394 3 is_stmt 1 view .LVU1736
1394:dev/BSP/Components/vl6180/vl6180_api.c **** 			range = 255;
 5267              		.loc 1 1394 5 is_stmt 0 view .LVU1737
 5268 0010 FF2A     		cmp	r2, #255
 5269 0012 00DD     		ble	.L365
1395:dev/BSP/Components/vl6180/vl6180_api.c **** 
 5270              		.loc 1 1395 10 view .LVU1738
 5271 0014 FF22     		movs	r2, #255
 5272              	.LVL592:
 5273              	.L365:
1397:dev/BSP/Components/vl6180/vl6180_api.c **** 		if( status ){
 5274              		.loc 1 1397 3 is_stmt 1 view .LVU1739
1397:dev/BSP/Components/vl6180/vl6180_api.c **** 		if( status ){
 5275              		.loc 1 1397 12 is_stmt 0 view .LVU1740
 5276 0016 D2B2     		uxtb	r2, r2
 5277              	.LVL593:
1397:dev/BSP/Components/vl6180/vl6180_api.c **** 		if( status ){
 5278              		.loc 1 1397 12 view .LVU1741
 5279 0018 2521     		movs	r1, #37
 5280 001a 2046     		mov	r0, r4
 5281              	.LVL594:
1397:dev/BSP/Components/vl6180/vl6180_api.c **** 		if( status ){
 5282              		.loc 1 1397 12 view .LVU1742
 5283 001c FFF7FEFF 		bl	VL6180_WrByte
 5284              	.LVL595:
1398:dev/BSP/Components/vl6180/vl6180_api.c **** 			goto done;
 5285              		.loc 1 1398 3 is_stmt 1 view .LVU1743
1398:dev/BSP/Components/vl6180/vl6180_api.c **** 			goto done;
 5286              		.loc 1 1398 5 is_stmt 0 view .LVU1744
 5287 0020 0546     		mov	r5, r0
 5288 0022 90B9     		cbnz	r0, .L363
1402:dev/BSP/Components/vl6180/vl6180_api.c **** 		status = VL6180_WrWord(dev, SYSRANGE_RANGE_IGNORE_THRESHOLD,  threshold);
 5289              		.loc 1 1402 3 is_stmt 1 view .LVU1745
 5290              	.LVL596:
1403:dev/BSP/Components/vl6180/vl6180_api.c **** 		if( status ){
 5291              		.loc 1 1403 3 view .LVU1746
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 161


1403:dev/BSP/Components/vl6180/vl6180_api.c **** 		if( status ){
 5292              		.loc 1 1403 12 is_stmt 0 view .LVU1747
 5293 0024 E289     		ldrh	r2, [r4, #14]
 5294              	.LVL597:
1403:dev/BSP/Components/vl6180/vl6180_api.c **** 		if( status ){
 5295              		.loc 1 1403 12 view .LVU1748
 5296 0026 2621     		movs	r1, #38
 5297 0028 2046     		mov	r0, r4
 5298              	.LVL598:
1403:dev/BSP/Components/vl6180/vl6180_api.c **** 		if( status ){
 5299              		.loc 1 1403 12 view .LVU1749
 5300 002a FFF7FEFF 		bl	VL6180_WrWord
 5301              	.LVL599:
1404:dev/BSP/Components/vl6180/vl6180_api.c **** 			goto done;
 5302              		.loc 1 1404 3 is_stmt 1 view .LVU1750
1404:dev/BSP/Components/vl6180/vl6180_api.c **** 			goto done;
 5303              		.loc 1 1404 5 is_stmt 0 view .LVU1751
 5304 002e 0546     		mov	r5, r0
 5305 0030 58B9     		cbnz	r0, .L363
1407:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
 5306              		.loc 1 1407 11 view .LVU1752
 5307 0032 0223     		movs	r3, #2
 5308 0034 00E0     		b	.L364
 5309              	.LVL600:
 5310              	.L367:
1410:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
 5311              		.loc 1 1410 11 view .LVU1753
 5312 0036 0023     		movs	r3, #0
 5313              	.LVL601:
 5314              	.L364:
1412:dev/BSP/Components/vl6180/vl6180_api.c **** 	_DMax_InitData(dev);
 5315              		.loc 1 1412 2 is_stmt 1 view .LVU1754
1412:dev/BSP/Components/vl6180/vl6180_api.c **** 	_DMax_InitData(dev);
 5316              		.loc 1 1412 11 is_stmt 0 view .LVU1755
 5317 0038 FD22     		movs	r2, #253
 5318 003a 2D21     		movs	r1, #45
 5319 003c 2046     		mov	r0, r4
 5320 003e FFF7FEFF 		bl	VL6180_UpdateByte
 5321              	.LVL602:
1412:dev/BSP/Components/vl6180/vl6180_api.c **** 	_DMax_InitData(dev);
 5322              		.loc 1 1412 11 view .LVU1756
 5323 0042 0546     		mov	r5, r0
 5324              	.LVL603:
1413:dev/BSP/Components/vl6180/vl6180_api.c **** done:
 5325              		.loc 1 1413 2 is_stmt 1 view .LVU1757
 5326 0044 2046     		mov	r0, r4
 5327              	.LVL604:
1413:dev/BSP/Components/vl6180/vl6180_api.c **** done:
 5328              		.loc 1 1413 2 is_stmt 0 view .LVU1758
 5329 0046 FFF7FEFF 		bl	_DMax_InitData
 5330              	.LVL605:
 5331              	.L366:
1415:dev/BSP/Components/vl6180/vl6180_api.c **** }
 5332              		.loc 1 1415 2 is_stmt 1 view .LVU1759
 5333              	.L363:
1416:dev/BSP/Components/vl6180/vl6180_api.c **** 
 5334              		.loc 1 1416 1 is_stmt 0 view .LVU1760
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 162


 5335 004a 2846     		mov	r0, r5
 5336 004c 38BD     		pop	{r3, r4, r5, pc}
1416:dev/BSP/Components/vl6180/vl6180_api.c **** 
 5337              		.loc 1 1416 1 view .LVU1761
 5338              		.cfi_endproc
 5339              	.LFE45:
 5341              		.section	.text.VL6180_RangeIgnoreSetEnable,"ax",%progbits
 5342              		.align	1
 5343              		.global	VL6180_RangeIgnoreSetEnable
 5344              		.syntax unified
 5345              		.thumb
 5346              		.thumb_func
 5347              		.fpu fpv5-d16
 5349              	VL6180_RangeIgnoreSetEnable:
 5350              	.LVL606:
 5351              	.LFB46:
1418:dev/BSP/Components/vl6180/vl6180_api.c **** 	int CurEnable;
 5352              		.loc 1 1418 66 is_stmt 1 view -0
 5353              		.cfi_startproc
 5354              		@ args = 0, pretend = 0, frame = 0
 5355              		@ frame_needed = 0, uses_anonymous_args = 0
1418:dev/BSP/Components/vl6180/vl6180_api.c **** 	int CurEnable;
 5356              		.loc 1 1418 66 is_stmt 0 view .LVU1763
 5357 0000 08B5     		push	{r3, lr}
 5358              	.LCFI84:
 5359              		.cfi_def_cfa_offset 8
 5360              		.cfi_offset 3, -8
 5361              		.cfi_offset 14, -4
1419:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status=0;
 5362              		.loc 1 1419 2 is_stmt 1 view .LVU1764
1420:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_START("enable %d", EnableState);
 5363              		.loc 1 1420 2 view .LVU1765
 5364              	.LVL607:
1421:dev/BSP/Components/vl6180/vl6180_api.c **** 
 5365              		.loc 1 1421 2 view .LVU1766
1423:dev/BSP/Components/vl6180/vl6180_api.c **** 		EnableState = 1;
 5366              		.loc 1 1423 2 view .LVU1767
1423:dev/BSP/Components/vl6180/vl6180_api.c **** 		EnableState = 1;
 5367              		.loc 1 1423 4 is_stmt 0 view .LVU1768
 5368 0002 0B46     		mov	r3, r1
 5369 0004 01B1     		cbz	r1, .L371
1424:dev/BSP/Components/vl6180/vl6180_api.c **** 
 5370              		.loc 1 1424 15 view .LVU1769
 5371 0006 0123     		movs	r3, #1
 5372              	.L371:
 5373              	.LVL608:
1426:dev/BSP/Components/vl6180/vl6180_api.c **** 	if( EnableState != CurEnable  ){
 5374              		.loc 1 1426 2 is_stmt 1 view .LVU1770
1426:dev/BSP/Components/vl6180/vl6180_api.c **** 	if( EnableState != CurEnable  ){
 5375              		.loc 1 1426 14 is_stmt 0 view .LVU1771
 5376 0008 027C     		ldrb	r2, [r0, #16]	@ zero_extendqisi2
 5377              	.LVL609:
1427:dev/BSP/Components/vl6180/vl6180_api.c **** 		VL6180DevDataSet(dev, RangeIgnore.Enabled, EnableState);
 5378              		.loc 1 1427 2 is_stmt 1 view .LVU1772
1427:dev/BSP/Components/vl6180/vl6180_api.c **** 		VL6180DevDataSet(dev, RangeIgnore.Enabled, EnableState);
 5379              		.loc 1 1427 4 is_stmt 0 view .LVU1773
 5380 000a 9342     		cmp	r3, r2
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 163


 5381 000c 01D1     		bne	.L376
1420:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_START("enable %d", EnableState);
 5382              		.loc 1 1420 6 view .LVU1774
 5383 000e 0020     		movs	r0, #0
 5384              	.LVL610:
1431:dev/BSP/Components/vl6180/vl6180_api.c **** 	return status;
 5385              		.loc 1 1431 2 is_stmt 1 view .LVU1775
1432:dev/BSP/Components/vl6180/vl6180_api.c **** }
 5386              		.loc 1 1432 2 view .LVU1776
 5387              	.L370:
1433:dev/BSP/Components/vl6180/vl6180_api.c **** 
 5388              		.loc 1 1433 1 is_stmt 0 view .LVU1777
 5389 0010 08BD     		pop	{r3, pc}
 5390              	.LVL611:
 5391              	.L376:
1428:dev/BSP/Components/vl6180/vl6180_api.c **** 		status = _RangeIgnore_UpdateDevice(dev);
 5392              		.loc 1 1428 3 is_stmt 1 view .LVU1778
 5393 0012 0374     		strb	r3, [r0, #16]
1429:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
 5394              		.loc 1 1429 3 view .LVU1779
1429:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
 5395              		.loc 1 1429 12 is_stmt 0 view .LVU1780
 5396 0014 FFF7FEFF 		bl	_RangeIgnore_UpdateDevice
 5397              	.LVL612:
1429:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
 5398              		.loc 1 1429 12 view .LVU1781
 5399 0018 FAE7     		b	.L370
 5400              		.cfi_endproc
 5401              	.LFE46:
 5403              		.section	.text.VL6180_RangeIgnoreConfigure,"ax",%progbits
 5404              		.align	1
 5405              		.global	VL6180_RangeIgnoreConfigure
 5406              		.syntax unified
 5407              		.thumb
 5408              		.thumb_func
 5409              		.fpu fpv5-d16
 5411              	VL6180_RangeIgnoreConfigure:
 5412              	.LVL613:
 5413              	.LFB47:
1435:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
 5414              		.loc 1 1435 100 is_stmt 1 view -0
 5415              		.cfi_startproc
 5416              		@ args = 0, pretend = 0, frame = 0
 5417              		@ frame_needed = 0, uses_anonymous_args = 0
1435:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
 5418              		.loc 1 1435 100 is_stmt 0 view .LVU1783
 5419 0000 08B5     		push	{r3, lr}
 5420              	.LCFI85:
 5421              		.cfi_def_cfa_offset 8
 5422              		.cfi_offset 3, -8
 5423              		.cfi_offset 14, -4
1436:dev/BSP/Components/vl6180/vl6180_api.c **** 	int enabled;
 5424              		.loc 1 1436 2 is_stmt 1 view .LVU1784
1437:dev/BSP/Components/vl6180/vl6180_api.c **** 
 5425              		.loc 1 1437 2 view .LVU1785
1439:dev/BSP/Components/vl6180/vl6180_api.c **** 
 5426              		.loc 1 1439 2 view .LVU1786
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 164


1441:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180DevDataSet(dev, RangeIgnore.ValidHeight, ValidHeight_mm);
 5427              		.loc 1 1441 2 view .LVU1787
1441:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180DevDataSet(dev, RangeIgnore.ValidHeight, ValidHeight_mm);
 5428              		.loc 1 1441 12 is_stmt 0 view .LVU1788
 5429 0002 037C     		ldrb	r3, [r0, #16]	@ zero_extendqisi2
 5430              	.LVL614:
1442:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180DevDataSet(dev, RangeIgnore.IgnoreThreshold, IgnoreThreshold);
 5431              		.loc 1 1442 2 is_stmt 1 view .LVU1789
 5432 0004 8181     		strh	r1, [r0, #12]	@ movhi
1443:dev/BSP/Components/vl6180/vl6180_api.c **** 	if(  enabled ){
 5433              		.loc 1 1443 2 view .LVU1790
 5434 0006 C281     		strh	r2, [r0, #14]	@ movhi
1444:dev/BSP/Components/vl6180/vl6180_api.c **** 		status = _RangeIgnore_UpdateDevice(dev);
 5435              		.loc 1 1444 2 view .LVU1791
1444:dev/BSP/Components/vl6180/vl6180_api.c **** 		status = _RangeIgnore_UpdateDevice(dev);
 5436              		.loc 1 1444 4 is_stmt 0 view .LVU1792
 5437 0008 0BB9     		cbnz	r3, .L381
1448:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
 5438              		.loc 1 1448 10 view .LVU1793
 5439 000a 0020     		movs	r0, #0
 5440              	.LVL615:
1450:dev/BSP/Components/vl6180/vl6180_api.c **** 	return status;
 5441              		.loc 1 1450 2 is_stmt 1 view .LVU1794
1451:dev/BSP/Components/vl6180/vl6180_api.c **** }
 5442              		.loc 1 1451 2 view .LVU1795
 5443              	.L377:
1452:dev/BSP/Components/vl6180/vl6180_api.c **** 
 5444              		.loc 1 1452 1 is_stmt 0 view .LVU1796
 5445 000c 08BD     		pop	{r3, pc}
 5446              	.LVL616:
 5447              	.L381:
1445:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
 5448              		.loc 1 1445 3 is_stmt 1 view .LVU1797
1445:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
 5449              		.loc 1 1445 12 is_stmt 0 view .LVU1798
 5450 000e FFF7FEFF 		bl	_RangeIgnore_UpdateDevice
 5451              	.LVL617:
1445:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
 5452              		.loc 1 1445 12 view .LVU1799
 5453 0012 FBE7     		b	.L377
 5454              		.cfi_endproc
 5455              	.LFE47:
 5457              		.section	.text.VL6180_DMaxSetState,"ax",%progbits
 5458              		.align	1
 5459              		.global	VL6180_DMaxSetState
 5460              		.syntax unified
 5461              		.thumb
 5462              		.thumb_func
 5463              		.fpu fpv5-d16
 5465              	VL6180_DMaxSetState:
 5466              	.LVL618:
 5467              	.LFB54:
2191:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
 5468              		.loc 1 2191 1 is_stmt 1 view -0
 5469              		.cfi_startproc
 5470              		@ args = 0, pretend = 0, frame = 0
 5471              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 165


2191:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
 5472              		.loc 1 2191 1 is_stmt 0 view .LVU1801
 5473 0000 08B5     		push	{r3, lr}
 5474              	.LCFI86:
 5475              		.cfi_def_cfa_offset 8
 5476              		.cfi_offset 3, -8
 5477              		.cfi_offset 14, -4
 5478 0002 0346     		mov	r3, r0
 5479 0004 0846     		mov	r0, r1
 5480              	.LVL619:
2192:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_START("%d", state);
 5481              		.loc 1 2192 2 is_stmt 1 view .LVU1802
2193:dev/BSP/Components/vl6180/vl6180_api.c **** #if VL6180_HAVE_DMAX_RANGING
 5482              		.loc 1 2193 2 view .LVU1803
2195:dev/BSP/Components/vl6180/vl6180_api.c **** 	if (state) {
 5483              		.loc 1 2195 2 view .LVU1804
 5484 0006 83F88810 		strb	r1, [r3, #136]
2196:dev/BSP/Components/vl6180/vl6180_api.c **** 		status = _DMax_InitData(dev);
 5485              		.loc 1 2196 2 view .LVU1805
2196:dev/BSP/Components/vl6180/vl6180_api.c **** 		status = _DMax_InitData(dev);
 5486              		.loc 1 2196 5 is_stmt 0 view .LVU1806
 5487 000a 01B9     		cbnz	r1, .L385
 5488              	.LVL620:
 5489              	.L383:
2204:dev/BSP/Components/vl6180/vl6180_api.c **** 	return status;
 5490              		.loc 1 2204 2 is_stmt 1 view .LVU1807
2205:dev/BSP/Components/vl6180/vl6180_api.c **** }
 5491              		.loc 1 2205 2 view .LVU1808
2206:dev/BSP/Components/vl6180/vl6180_api.c **** 
 5492              		.loc 1 2206 1 is_stmt 0 view .LVU1809
 5493 000c 08BD     		pop	{r3, pc}
 5494              	.LVL621:
 5495              	.L385:
2197:dev/BSP/Components/vl6180/vl6180_api.c **** 	} else {
 5496              		.loc 1 2197 3 is_stmt 1 view .LVU1810
2197:dev/BSP/Components/vl6180/vl6180_api.c **** 	} else {
 5497              		.loc 1 2197 12 is_stmt 0 view .LVU1811
 5498 000e 1846     		mov	r0, r3
 5499              	.LVL622:
2197:dev/BSP/Components/vl6180/vl6180_api.c **** 	} else {
 5500              		.loc 1 2197 12 view .LVU1812
 5501 0010 FFF7FEFF 		bl	_DMax_InitData
 5502              	.LVL623:
2197:dev/BSP/Components/vl6180/vl6180_api.c **** 	} else {
 5503              		.loc 1 2197 12 view .LVU1813
 5504 0014 FAE7     		b	.L383
 5505              		.cfi_endproc
 5506              	.LFE54:
 5508              		.section	.text._DMax_Compute,"ax",%progbits
 5509              		.align	1
 5510              		.syntax unified
 5511              		.thumb
 5512              		.thumb_func
 5513              		.fpu fpv5-d16
 5515              	_DMax_Compute:
 5516              	.LVL624:
 5517              	.LFB60:
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 166


2405:dev/BSP/Components/vl6180/vl6180_api.c **** 
2406:dev/BSP/Components/vl6180/vl6180_api.c **** static int _DMax_Compute(VL6180Dev_t dev, VL6180_RangeData_t *pRange)
2407:dev/BSP/Components/vl6180/vl6180_api.c **** {
 5518              		.loc 1 2407 1 is_stmt 1 view -0
 5519              		.cfi_startproc
 5520              		@ args = 0, pretend = 0, frame = 0
 5521              		@ frame_needed = 0, uses_anonymous_args = 0
 5522              		.loc 1 2407 1 is_stmt 0 view .LVU1815
 5523 0000 38B5     		push	{r3, r4, r5, lr}
 5524              	.LCFI87:
 5525              		.cfi_def_cfa_offset 16
 5526              		.cfi_offset 3, -16
 5527              		.cfi_offset 4, -12
 5528              		.cfi_offset 5, -8
 5529              		.cfi_offset 14, -4
 5530 0002 0C46     		mov	r4, r1
2408:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint32_t rtnAmbRate;
 5531              		.loc 1 2408 2 is_stmt 1 view .LVU1816
2409:dev/BSP/Components/vl6180/vl6180_api.c **** 	int32_t DMax;
 5532              		.loc 1 2409 2 view .LVU1817
2410:dev/BSP/Components/vl6180/vl6180_api.c **** 	int scaling;
 5533              		.loc 1 2410 2 view .LVU1818
2411:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint16_t HwLimitAtScale;
 5534              		.loc 1 2411 2 view .LVU1819
2412:dev/BSP/Components/vl6180/vl6180_api.c **** 	static const uint32_t ROMABLE_DATA rtnAmbLowLimit_KCps = 330 * 1000;
 5535              		.loc 1 2412 2 view .LVU1820
2413:dev/BSP/Components/vl6180/vl6180_api.c **** 
2414:dev/BSP/Components/vl6180/vl6180_api.c **** 	rtnAmbRate = pRange->rtnAmbRate;
 5536              		.loc 1 2414 2 view .LVU1821
 5537              		.loc 1 2414 13 is_stmt 0 view .LVU1822
 5538 0004 C968     		ldr	r1, [r1, #12]
 5539              	.LVL625:
2415:dev/BSP/Components/vl6180/vl6180_api.c **** 	if (rtnAmbRate  < rtnAmbLowLimit_KCps) {
 5540              		.loc 1 2415 2 is_stmt 1 view .LVU1823
 5541              		.loc 1 2415 5 is_stmt 0 view .LVU1824
 5542 0006 0D4B     		ldr	r3, .L393
 5543 0008 9942     		cmp	r1, r3
 5544 000a 03D9     		bls	.L392
2416:dev/BSP/Components/vl6180/vl6180_api.c **** 		DMax = _DMax_RawValueAtRateKCps(dev, rtnAmbRate);
2417:dev/BSP/Components/vl6180/vl6180_api.c **** 		scaling = _GetUpscale(dev);
2418:dev/BSP/Components/vl6180/vl6180_api.c **** 		HwLimitAtScale = UpperLimitLookUP[scaling - 1];
2419:dev/BSP/Components/vl6180/vl6180_api.c **** 
2420:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (DMax > _DMaxData(ClipSnrLimit)) {
2421:dev/BSP/Components/vl6180/vl6180_api.c **** 		    DMax = _DMaxData(ClipSnrLimit);
2422:dev/BSP/Components/vl6180/vl6180_api.c **** 		}
2423:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (DMax > HwLimitAtScale) {
2424:dev/BSP/Components/vl6180/vl6180_api.c **** 		    DMax = HwLimitAtScale;
2425:dev/BSP/Components/vl6180/vl6180_api.c **** 		}
2426:dev/BSP/Components/vl6180/vl6180_api.c **** 		pRange->DMax = DMax;
2427:dev/BSP/Components/vl6180/vl6180_api.c **** 	} else {
2428:dev/BSP/Components/vl6180/vl6180_api.c **** 		pRange->DMax = 0;
 5545              		.loc 1 2428 3 is_stmt 1 view .LVU1825
 5546              		.loc 1 2428 16 is_stmt 0 view .LVU1826
 5547 000c 0023     		movs	r3, #0
 5548 000e E361     		str	r3, [r4, #28]
 5549              	.LVL626:
 5550              	.L390:
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 167


2429:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
2430:dev/BSP/Components/vl6180/vl6180_api.c **** 	return 0;
 5551              		.loc 1 2430 2 is_stmt 1 view .LVU1827
2431:dev/BSP/Components/vl6180/vl6180_api.c **** }
 5552              		.loc 1 2431 1 is_stmt 0 view .LVU1828
 5553 0010 0020     		movs	r0, #0
 5554 0012 38BD     		pop	{r3, r4, r5, pc}
 5555              	.LVL627:
 5556              	.L392:
 5557              		.loc 1 2431 1 view .LVU1829
 5558 0014 0546     		mov	r5, r0
2416:dev/BSP/Components/vl6180/vl6180_api.c **** 		DMax = _DMax_RawValueAtRateKCps(dev, rtnAmbRate);
 5559              		.loc 1 2416 3 is_stmt 1 view .LVU1830
2416:dev/BSP/Components/vl6180/vl6180_api.c **** 		DMax = _DMax_RawValueAtRateKCps(dev, rtnAmbRate);
 5560              		.loc 1 2416 10 is_stmt 0 view .LVU1831
 5561 0016 FFF7FEFF 		bl	_DMax_RawValueAtRateKCps
 5562              	.LVL628:
2417:dev/BSP/Components/vl6180/vl6180_api.c **** 		HwLimitAtScale = UpperLimitLookUP[scaling - 1];
 5563              		.loc 1 2417 3 is_stmt 1 view .LVU1832
2417:dev/BSP/Components/vl6180/vl6180_api.c **** 		HwLimitAtScale = UpperLimitLookUP[scaling - 1];
 5564              		.loc 1 2417 13 is_stmt 0 view .LVU1833
 5565 001a AB7C     		ldrb	r3, [r5, #18]	@ zero_extendqisi2
 5566              	.LVL629:
2418:dev/BSP/Components/vl6180/vl6180_api.c **** 
 5567              		.loc 1 2418 3 is_stmt 1 view .LVU1834
2418:dev/BSP/Components/vl6180/vl6180_api.c **** 
 5568              		.loc 1 2418 45 is_stmt 0 view .LVU1835
 5569 001c 013B     		subs	r3, r3, #1
 5570              	.LVL630:
2418:dev/BSP/Components/vl6180/vl6180_api.c **** 
 5571              		.loc 1 2418 18 view .LVU1836
 5572 001e 084A     		ldr	r2, .L393+4
 5573 0020 32F81320 		ldrh	r2, [r2, r3, lsl #1]
 5574              	.LVL631:
2420:dev/BSP/Components/vl6180/vl6180_api.c **** 		    DMax = _DMaxData(ClipSnrLimit);
 5575              		.loc 1 2420 3 is_stmt 1 view .LVU1837
2420:dev/BSP/Components/vl6180/vl6180_api.c **** 		    DMax = _DMaxData(ClipSnrLimit);
 5576              		.loc 1 2420 14 is_stmt 0 view .LVU1838
 5577 0024 B5F88430 		ldrh	r3, [r5, #132]
 5578              	.LVL632:
2420:dev/BSP/Components/vl6180/vl6180_api.c **** 		    DMax = _DMaxData(ClipSnrLimit);
 5579              		.loc 1 2420 6 view .LVU1839
 5580 0028 8342     		cmp	r3, r0
 5581 002a 00DB     		blt	.L388
2416:dev/BSP/Components/vl6180/vl6180_api.c **** 		scaling = _GetUpscale(dev);
 5582              		.loc 1 2416 8 view .LVU1840
 5583 002c 0346     		mov	r3, r0
 5584              	.L388:
 5585              	.LVL633:
2423:dev/BSP/Components/vl6180/vl6180_api.c **** 		    DMax = HwLimitAtScale;
 5586              		.loc 1 2423 3 is_stmt 1 view .LVU1841
2423:dev/BSP/Components/vl6180/vl6180_api.c **** 		    DMax = HwLimitAtScale;
 5587              		.loc 1 2423 12 is_stmt 0 view .LVU1842
 5588 002e 1146     		mov	r1, r2
2423:dev/BSP/Components/vl6180/vl6180_api.c **** 		    DMax = HwLimitAtScale;
 5589              		.loc 1 2423 6 view .LVU1843
 5590 0030 9A42     		cmp	r2, r3
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 168


 5591 0032 00DB     		blt	.L389
 5592 0034 1946     		mov	r1, r3
 5593              	.L389:
 5594              	.LVL634:
2426:dev/BSP/Components/vl6180/vl6180_api.c **** 	} else {
 5595              		.loc 1 2426 3 is_stmt 1 view .LVU1844
2426:dev/BSP/Components/vl6180/vl6180_api.c **** 	} else {
 5596              		.loc 1 2426 16 is_stmt 0 view .LVU1845
 5597 0036 E161     		str	r1, [r4, #28]
 5598              	.LVL635:
2426:dev/BSP/Components/vl6180/vl6180_api.c **** 	} else {
 5599              		.loc 1 2426 16 view .LVU1846
 5600 0038 EAE7     		b	.L390
 5601              	.L394:
 5602 003a 00BF     		.align	2
 5603              	.L393:
 5604 003c 0F090500 		.word	329999
 5605 0040 00000000 		.word	.LANCHOR1
 5606              		.cfi_endproc
 5607              	.LFE60:
 5609              		.section	.text.VL6180_RangeGetMeasurement,"ax",%progbits
 5610              		.align	1
 5611              		.global	VL6180_RangeGetMeasurement
 5612              		.syntax unified
 5613              		.thumb
 5614              		.thumb_func
 5615              		.fpu fpv5-d16
 5617              	VL6180_RangeGetMeasurement:
 5618              	.LVL636:
 5619              	.LFB12:
 555:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
 5620              		.loc 1 555 1 is_stmt 1 view -0
 5621              		.cfi_startproc
 5622              		@ args = 0, pretend = 0, frame = 8
 5623              		@ frame_needed = 0, uses_anonymous_args = 0
 555:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
 5624              		.loc 1 555 1 is_stmt 0 view .LVU1848
 5625 0000 70B5     		push	{r4, r5, r6, lr}
 5626              	.LCFI88:
 5627              		.cfi_def_cfa_offset 16
 5628              		.cfi_offset 4, -16
 5629              		.cfi_offset 5, -12
 5630              		.cfi_offset 6, -8
 5631              		.cfi_offset 14, -4
 5632 0002 82B0     		sub	sp, sp, #8
 5633              	.LCFI89:
 5634              		.cfi_def_cfa_offset 24
 5635 0004 0646     		mov	r6, r0
 5636 0006 0D46     		mov	r5, r1
 556:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint16_t RawRate;
 5637              		.loc 1 556 2 is_stmt 1 view .LVU1849
 557:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint8_t RawStatus;
 5638              		.loc 1 557 2 view .LVU1850
 558:dev/BSP/Components/vl6180/vl6180_api.c **** 
 5639              		.loc 1 558 2 view .LVU1851
 560:dev/BSP/Components/vl6180/vl6180_api.c **** 
 5640              		.loc 1 560 2 view .LVU1852
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 169


 562:dev/BSP/Components/vl6180/vl6180_api.c **** 	if (status) {
 5641              		.loc 1 562 2 view .LVU1853
 5642              	.LVL637:
 563:dev/BSP/Components/vl6180/vl6180_api.c **** 		VL6180_ErrLog("Cache register read fail");
 5643              		.loc 1 563 2 view .LVU1854
 567:dev/BSP/Components/vl6180/vl6180_api.c **** 	if (!status) {
 5644              		.loc 1 567 2 view .LVU1855
 567:dev/BSP/Components/vl6180/vl6180_api.c **** 	if (!status) {
 5645              		.loc 1 567 11 is_stmt 0 view .LVU1856
 5646 0008 FFF7FEFF 		bl	VL6180_RangeGetResult
 5647              	.LVL638:
 568:dev/BSP/Components/vl6180/vl6180_api.c **** 		status = VL6180_GetCachedWord(dev, RESULT_RANGE_SIGNAL_RATE, &RawRate);
 5648              		.loc 1 568 2 is_stmt 1 view .LVU1857
 568:dev/BSP/Components/vl6180/vl6180_api.c **** 		status = VL6180_GetCachedWord(dev, RESULT_RANGE_SIGNAL_RATE, &RawRate);
 5649              		.loc 1 568 5 is_stmt 0 view .LVU1858
 5650 000c 0446     		mov	r4, r0
 5651 000e 10B1     		cbz	r0, .L400
 5652              	.LVL639:
 5653              	.L395:
 612:dev/BSP/Components/vl6180/vl6180_api.c **** 
 5654              		.loc 1 612 1 view .LVU1859
 5655 0010 2046     		mov	r0, r4
 5656 0012 02B0     		add	sp, sp, #8
 5657              	.LCFI90:
 5658              		.cfi_remember_state
 5659              		.cfi_def_cfa_offset 16
 5660              		@ sp needed
 5661 0014 70BD     		pop	{r4, r5, r6, pc}
 5662              	.LVL640:
 5663              	.L400:
 5664              	.LCFI91:
 5665              		.cfi_restore_state
 569:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (!status) {
 5666              		.loc 1 569 3 is_stmt 1 view .LVU1860
 569:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (!status) {
 5667              		.loc 1 569 12 is_stmt 0 view .LVU1861
 5668 0016 0DF10602 		add	r2, sp, #6
 5669 001a 6621     		movs	r1, #102
 5670 001c 3046     		mov	r0, r6
 5671              	.LVL641:
 569:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (!status) {
 5672              		.loc 1 569 12 view .LVU1862
 5673 001e FFF7FEFF 		bl	VL6180_RdWord
 5674              	.LVL642:
 570:dev/BSP/Components/vl6180/vl6180_api.c **** 			pRangeData->signalRate_mcps = VL6180_9to7Conv(RawRate);
 5675              		.loc 1 570 3 is_stmt 1 view .LVU1863
 570:dev/BSP/Components/vl6180/vl6180_api.c **** 			pRangeData->signalRate_mcps = VL6180_9to7Conv(RawRate);
 5676              		.loc 1 570 6 is_stmt 0 view .LVU1864
 5677 0022 0446     		mov	r4, r0
 5678 0024 0028     		cmp	r0, #0
 5679 0026 F3D1     		bne	.L395
 571:dev/BSP/Components/vl6180/vl6180_api.c **** 			status = VL6180_GetCachedByte(dev, RESULT_RANGE_STATUS, &RawStatus);
 5680              		.loc 1 571 4 is_stmt 1 view .LVU1865
 571:dev/BSP/Components/vl6180/vl6180_api.c **** 			status = VL6180_GetCachedByte(dev, RESULT_RANGE_STATUS, &RawStatus);
 5681              		.loc 1 571 32 is_stmt 0 view .LVU1866
 5682 0028 BDF80630 		ldrh	r3, [sp, #6]
 5683 002c 6B60     		str	r3, [r5, #4]
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 170


 572:dev/BSP/Components/vl6180/vl6180_api.c **** 			if (!status) {
 5684              		.loc 1 572 4 is_stmt 1 view .LVU1867
 572:dev/BSP/Components/vl6180/vl6180_api.c **** 			if (!status) {
 5685              		.loc 1 572 13 is_stmt 0 view .LVU1868
 5686 002e 0DF10502 		add	r2, sp, #5
 5687 0032 4D21     		movs	r1, #77
 5688 0034 3046     		mov	r0, r6
 5689              	.LVL643:
 572:dev/BSP/Components/vl6180/vl6180_api.c **** 			if (!status) {
 5690              		.loc 1 572 13 view .LVU1869
 5691 0036 FFF7FEFF 		bl	VL6180_RdByte
 5692              	.LVL644:
 573:dev/BSP/Components/vl6180/vl6180_api.c **** 				pRangeData->errorStatus = RawStatus >> 4;
 5693              		.loc 1 573 4 is_stmt 1 view .LVU1870
 573:dev/BSP/Components/vl6180/vl6180_api.c **** 				pRangeData->errorStatus = RawStatus >> 4;
 5694              		.loc 1 573 7 is_stmt 0 view .LVU1871
 5695 003a 18B9     		cbnz	r0, .L397
 574:dev/BSP/Components/vl6180/vl6180_api.c **** 			} else {
 5696              		.loc 1 574 5 is_stmt 1 view .LVU1872
 574:dev/BSP/Components/vl6180/vl6180_api.c **** 			} else {
 5697              		.loc 1 574 41 is_stmt 0 view .LVU1873
 5698 003c 9DF80530 		ldrb	r3, [sp, #5]	@ zero_extendqisi2
 5699 0040 1B09     		lsrs	r3, r3, #4
 574:dev/BSP/Components/vl6180/vl6180_api.c **** 			} else {
 5700              		.loc 1 574 29 view .LVU1874
 5701 0042 AB60     		str	r3, [r5, #8]
 5702              	.L397:
 576:dev/BSP/Components/vl6180/vl6180_api.c **** 			}
 5703              		.loc 1 576 5 is_stmt 1 view .LVU1875
 579:dev/BSP/Components/vl6180/vl6180_api.c **** 			if (status)
 5704              		.loc 1 579 4 view .LVU1876
 579:dev/BSP/Components/vl6180/vl6180_api.c **** 			if (status)
 5705              		.loc 1 579 13 is_stmt 0 view .LVU1877
 5706 0044 2946     		mov	r1, r5
 5707 0046 3046     		mov	r0, r6
 5708              	.LVL645:
 579:dev/BSP/Components/vl6180/vl6180_api.c **** 			if (status)
 5709              		.loc 1 579 13 view .LVU1878
 5710 0048 FFF7FEFF 		bl	_GetRateResult
 5711              	.LVL646:
 580:dev/BSP/Components/vl6180/vl6180_api.c **** 				goto error;
 5712              		.loc 1 580 4 is_stmt 1 view .LVU1879
 580:dev/BSP/Components/vl6180/vl6180_api.c **** 				goto error;
 5713              		.loc 1 580 7 is_stmt 0 view .LVU1880
 5714 004c 0446     		mov	r4, r0
 5715 004e 0028     		cmp	r0, #0
 5716 0050 DED1     		bne	.L395
 585:dev/BSP/Components/vl6180/vl6180_api.c **** 				status = _filter_GetResult(dev, pRangeData);
 5717              		.loc 1 585 4 is_stmt 1 view .LVU1881
 585:dev/BSP/Components/vl6180/vl6180_api.c **** 				status = _filter_GetResult(dev, pRangeData);
 5718              		.loc 1 585 8 is_stmt 0 view .LVU1882
 5719 0052 F37C     		ldrb	r3, [r6, #19]	@ zero_extendqisi2
 585:dev/BSP/Components/vl6180/vl6180_api.c **** 				status = _filter_GetResult(dev, pRangeData);
 5720              		.loc 1 585 7 view .LVU1883
 5721 0054 43B9     		cbnz	r3, .L401
 5722              	.L398:
 598:dev/BSP/Components/vl6180/vl6180_api.c **** 				_DMax_Compute(dev, pRangeData);
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 171


 5723              		.loc 1 598 4 is_stmt 1 view .LVU1884
 598:dev/BSP/Components/vl6180/vl6180_api.c **** 				_DMax_Compute(dev, pRangeData);
 5724              		.loc 1 598 8 is_stmt 0 view .LVU1885
 5725 0056 96F88830 		ldrb	r3, [r6, #136]	@ zero_extendqisi2
 598:dev/BSP/Components/vl6180/vl6180_api.c **** 				_DMax_Compute(dev, pRangeData);
 5726              		.loc 1 598 7 view .LVU1886
 5727 005a 002B     		cmp	r3, #0
 5728 005c D8D0     		beq	.L395
 599:dev/BSP/Components/vl6180/vl6180_api.c **** 			}
 5729              		.loc 1 599 5 is_stmt 1 view .LVU1887
 5730 005e 2946     		mov	r1, r5
 5731 0060 3046     		mov	r0, r6
 5732              	.LVL647:
 599:dev/BSP/Components/vl6180/vl6180_api.c **** 			}
 5733              		.loc 1 599 5 is_stmt 0 view .LVU1888
 5734 0062 FFF7FEFF 		bl	_DMax_Compute
 5735              	.LVL648:
 5736              	.L396:
 606:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
 5737              		.loc 1 606 3 is_stmt 1 view .LVU1889
 609:dev/BSP/Components/vl6180/vl6180_api.c **** 	LOG_FUNCTION_END_FMT(status, "%d %d %d", (int)pRangeData->range_mm, (int)pRangeData->signalRate_mc
 5738              		.loc 1 609 2 view .LVU1890
 610:dev/BSP/Components/vl6180/vl6180_api.c **** 	return status;
 5739              		.loc 1 610 2 view .LVU1891
 611:dev/BSP/Components/vl6180/vl6180_api.c **** }
 5740              		.loc 1 611 2 view .LVU1892
 611:dev/BSP/Components/vl6180/vl6180_api.c **** }
 5741              		.loc 1 611 9 is_stmt 0 view .LVU1893
 5742 0066 D3E7     		b	.L395
 5743              	.LVL649:
 5744              	.L401:
 586:dev/BSP/Components/vl6180/vl6180_api.c **** 				if (!status) {
 5745              		.loc 1 586 5 is_stmt 1 view .LVU1894
 586:dev/BSP/Components/vl6180/vl6180_api.c **** 				if (!status) {
 5746              		.loc 1 586 14 is_stmt 0 view .LVU1895
 5747 0068 2946     		mov	r1, r5
 5748 006a 3046     		mov	r0, r6
 5749              	.LVL650:
 586:dev/BSP/Components/vl6180/vl6180_api.c **** 				if (!status) {
 5750              		.loc 1 586 14 view .LVU1896
 5751 006c FFF7FEFF 		bl	_filter_GetResult
 5752              	.LVL651:
 587:dev/BSP/Components/vl6180/vl6180_api.c **** 					/* patch the range status and measure if it is filtered */
 5753              		.loc 1 587 5 is_stmt 1 view .LVU1897
 587:dev/BSP/Components/vl6180/vl6180_api.c **** 					/* patch the range status and measure if it is filtered */
 5754              		.loc 1 587 8 is_stmt 0 view .LVU1898
 5755 0070 0446     		mov	r4, r0
 5756 0072 0028     		cmp	r0, #0
 5757 0074 EFD1     		bne	.L398
 589:dev/BSP/Components/vl6180/vl6180_api.c **** 						pRangeData->errorStatus = pRangeData->FilteredData.filterError;
 5758              		.loc 1 589 6 is_stmt 1 view .LVU1899
 589:dev/BSP/Components/vl6180/vl6180_api.c **** 						pRangeData->errorStatus = pRangeData->FilteredData.filterError;
 5759              		.loc 1 589 33 is_stmt 0 view .LVU1900
 5760 0076 6B6A     		ldr	r3, [r5, #36]
 589:dev/BSP/Components/vl6180/vl6180_api.c **** 						pRangeData->errorStatus = pRangeData->FilteredData.filterError;
 5761              		.loc 1 589 8 view .LVU1901
 5762 0078 002B     		cmp	r3, #0
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 172


 5763 007a ECD0     		beq	.L398
 590:dev/BSP/Components/vl6180/vl6180_api.c **** 						pRangeData->range_mm = pRangeData->FilteredData.range_mm;
 5764              		.loc 1 590 7 is_stmt 1 view .LVU1902
 590:dev/BSP/Components/vl6180/vl6180_api.c **** 						pRangeData->range_mm = pRangeData->FilteredData.range_mm;
 5765              		.loc 1 590 31 is_stmt 0 view .LVU1903
 5766 007c AB60     		str	r3, [r5, #8]
 591:dev/BSP/Components/vl6180/vl6180_api.c **** 					}
 5767              		.loc 1 591 7 is_stmt 1 view .LVU1904
 591:dev/BSP/Components/vl6180/vl6180_api.c **** 					}
 5768              		.loc 1 591 54 is_stmt 0 view .LVU1905
 5769 007e 2B8C     		ldrh	r3, [r5, #32]
 591:dev/BSP/Components/vl6180/vl6180_api.c **** 					}
 5770              		.loc 1 591 28 view .LVU1906
 5771 0080 2B60     		str	r3, [r5]
 5772 0082 E8E7     		b	.L398
 5773              		.cfi_endproc
 5774              	.LFE12:
 5776              		.section	.text.VL6180_RangePollMeasurement,"ax",%progbits
 5777              		.align	1
 5778              		.global	VL6180_RangePollMeasurement
 5779              		.syntax unified
 5780              		.thumb
 5781              		.thumb_func
 5782              		.fpu fpv5-d16
 5784              	VL6180_RangePollMeasurement:
 5785              	.LVL652:
 5786              	.LFB11:
 410:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
 5787              		.loc 1 410 1 is_stmt 1 view -0
 5788              		.cfi_startproc
 5789              		@ args = 0, pretend = 0, frame = 8
 5790              		@ frame_needed = 0, uses_anonymous_args = 0
 410:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
 5791              		.loc 1 410 1 is_stmt 0 view .LVU1908
 5792 0000 70B5     		push	{r4, r5, r6, lr}
 5793              	.LCFI92:
 5794              		.cfi_def_cfa_offset 16
 5795              		.cfi_offset 4, -16
 5796              		.cfi_offset 5, -12
 5797              		.cfi_offset 6, -8
 5798              		.cfi_offset 14, -4
 5799 0002 82B0     		sub	sp, sp, #8
 5800              	.LCFI93:
 5801              		.cfi_def_cfa_offset 24
 5802 0004 0446     		mov	r4, r0
 5803 0006 0D46     		mov	r5, r1
 411:dev/BSP/Components/vl6180/vl6180_api.c **** 	int ClrStatus;
 5804              		.loc 1 411 2 is_stmt 1 view .LVU1909
 412:dev/BSP/Components/vl6180/vl6180_api.c **** 	IntrStatus_t IntStatus;
 5805              		.loc 1 412 2 view .LVU1910
 413:dev/BSP/Components/vl6180/vl6180_api.c **** 
 5806              		.loc 1 413 2 view .LVU1911
 415:dev/BSP/Components/vl6180/vl6180_api.c **** 	/* start single range measurement */
 5807              		.loc 1 415 2 view .LVU1912
 428:dev/BSP/Components/vl6180/vl6180_api.c **** 	if (status) {
 5808              		.loc 1 428 2 view .LVU1913
 428:dev/BSP/Components/vl6180/vl6180_api.c **** 	if (status) {
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 173


 5809              		.loc 1 428 11 is_stmt 0 view .LVU1914
 5810 0008 0121     		movs	r1, #1
 5811              	.LVL653:
 428:dev/BSP/Components/vl6180/vl6180_api.c **** 	if (status) {
 5812              		.loc 1 428 11 view .LVU1915
 5813 000a FFF7FEFF 		bl	VL6180_RangeSetSystemMode
 5814              	.LVL654:
 429:dev/BSP/Components/vl6180/vl6180_api.c **** 		VL6180_ErrLog("VL6180_RangeSetSystemMode fail");
 5815              		.loc 1 429 2 is_stmt 1 view .LVU1916
 429:dev/BSP/Components/vl6180/vl6180_api.c **** 		VL6180_ErrLog("VL6180_RangeSetSystemMode fail");
 5816              		.loc 1 429 5 is_stmt 0 view .LVU1917
 5817 000e 0646     		mov	r6, r0
 5818 0010 20B1     		cbz	r0, .L405
 5819              	.LVL655:
 5820              	.L402:
 465:dev/BSP/Components/vl6180/vl6180_api.c **** 
 5821              		.loc 1 465 1 view .LVU1918
 5822 0012 3046     		mov	r0, r6
 5823 0014 02B0     		add	sp, sp, #8
 5824              	.LCFI94:
 5825              		.cfi_remember_state
 5826              		.cfi_def_cfa_offset 16
 5827              		@ sp needed
 5828 0016 70BD     		pop	{r4, r5, r6, pc}
 5829              	.LVL656:
 5830              	.L409:
 5831              	.LCFI95:
 5832              		.cfi_restore_state
 445:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
 5833              		.loc 1 445 3 is_stmt 1 view .LVU1919
 5834 0018 FFF7FEFF 		bl	DISP_ExecLoopBody
 5835              	.LVL657:
 445:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
 5836              		.loc 1 445 24 view .LVU1920
 436:dev/BSP/Components/vl6180/vl6180_api.c **** 		status = VL6180_RangeGetInterruptStatus(dev, &IntStatus.val);
 5837              		.loc 1 436 8 view .LVU1921
 5838              	.L405:
 436:dev/BSP/Components/vl6180/vl6180_api.c **** 		status = VL6180_RangeGetInterruptStatus(dev, &IntStatus.val);
 5839              		.loc 1 436 2 view .LVU1922
 437:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (status) {
 5840              		.loc 1 437 3 view .LVU1923
 437:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (status) {
 5841              		.loc 1 437 12 is_stmt 0 view .LVU1924
 5842 001c 01A9     		add	r1, sp, #4
 5843 001e 2046     		mov	r0, r4
 5844 0020 FFF7FEFF 		bl	VL6180_RangeGetInterruptStatus
 5845              	.LVL658:
 438:dev/BSP/Components/vl6180/vl6180_api.c **** 			break;
 5846              		.loc 1 438 3 is_stmt 1 view .LVU1925
 438:dev/BSP/Components/vl6180/vl6180_api.c **** 			break;
 5847              		.loc 1 438 6 is_stmt 0 view .LVU1926
 5848 0024 0646     		mov	r6, r0
 5849 0026 40B9     		cbnz	r0, .L404
 441:dev/BSP/Components/vl6180/vl6180_api.c **** 			break;
 5850              		.loc 1 441 3 is_stmt 1 view .LVU1927
 441:dev/BSP/Components/vl6180/vl6180_api.c **** 			break;
 5851              		.loc 1 441 30 is_stmt 0 view .LVU1928
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 174


 5852 0028 9DF80430 		ldrb	r3, [sp, #4]	@ zero_extendqisi2
 5853 002c 03F00702 		and	r2, r3, #7
 441:dev/BSP/Components/vl6180/vl6180_api.c **** 			break;
 5854              		.loc 1 441 6 view .LVU1929
 5855 0030 042A     		cmp	r2, #4
 5856 0032 02D0     		beq	.L404
 441:dev/BSP/Components/vl6180/vl6180_api.c **** 			break;
 5857              		.loc 1 441 68 discriminator 1 view .LVU1930
 5858 0034 13F0180F 		tst	r3, #24
 5859 0038 EED0     		beq	.L409
 5860              	.L404:
 449:dev/BSP/Components/vl6180/vl6180_api.c **** 		status = VL6180_RangeGetMeasurement(dev, pRangeData);
 5861              		.loc 1 449 2 is_stmt 1 view .LVU1931
 449:dev/BSP/Components/vl6180/vl6180_api.c **** 		status = VL6180_RangeGetMeasurement(dev, pRangeData);
 5862              		.loc 1 449 5 is_stmt 0 view .LVU1932
 5863 003a 4EB1     		cbz	r6, .L410
 5864              	.L406:
 454:dev/BSP/Components/vl6180/vl6180_api.c **** 	if (ClrStatus) {
 5865              		.loc 1 454 2 is_stmt 1 view .LVU1933
 454:dev/BSP/Components/vl6180/vl6180_api.c **** 	if (ClrStatus) {
 5866              		.loc 1 454 14 is_stmt 0 view .LVU1934
 5867 003c 0121     		movs	r1, #1
 5868 003e 2046     		mov	r0, r4
 5869              	.LVL659:
 454:dev/BSP/Components/vl6180/vl6180_api.c **** 	if (ClrStatus) {
 5870              		.loc 1 454 14 view .LVU1935
 5871 0040 FFF7FEFF 		bl	VL6180_ClearInterrupt
 5872              	.LVL660:
 455:dev/BSP/Components/vl6180/vl6180_api.c **** 		VL6180_ErrLog("VL6180_RangeClearInterrupt fail");
 5873              		.loc 1 455 2 is_stmt 1 view .LVU1936
 455:dev/BSP/Components/vl6180/vl6180_api.c **** 		VL6180_ErrLog("VL6180_RangeClearInterrupt fail");
 5874              		.loc 1 455 5 is_stmt 0 view .LVU1937
 5875 0044 0028     		cmp	r0, #0
 5876 0046 E4D0     		beq	.L402
 456:dev/BSP/Components/vl6180/vl6180_api.c **** 		/*  leave initial status if already in error  */
 5877              		.loc 1 456 3 is_stmt 1 view .LVU1938
 458:dev/BSP/Components/vl6180/vl6180_api.c **** 			status = ClrStatus;
 5878              		.loc 1 458 3 view .LVU1939
 458:dev/BSP/Components/vl6180/vl6180_api.c **** 			status = ClrStatus;
 5879              		.loc 1 458 6 is_stmt 0 view .LVU1940
 5880 0048 002E     		cmp	r6, #0
 5881 004a E2D1     		bne	.L402
 459:dev/BSP/Components/vl6180/vl6180_api.c **** 		}
 5882              		.loc 1 459 11 view .LVU1941
 5883 004c 0646     		mov	r6, r0
 5884              	.LVL661:
 5885              	.L403:
 463:dev/BSP/Components/vl6180/vl6180_api.c **** 	return status;
 5886              		.loc 1 463 2 is_stmt 1 view .LVU1942
 464:dev/BSP/Components/vl6180/vl6180_api.c **** }
 5887              		.loc 1 464 2 view .LVU1943
 464:dev/BSP/Components/vl6180/vl6180_api.c **** }
 5888              		.loc 1 464 9 is_stmt 0 view .LVU1944
 5889 004e E0E7     		b	.L402
 5890              	.LVL662:
 5891              	.L410:
 450:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 175


 5892              		.loc 1 450 3 is_stmt 1 view .LVU1945
 450:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
 5893              		.loc 1 450 12 is_stmt 0 view .LVU1946
 5894 0050 2946     		mov	r1, r5
 5895 0052 2046     		mov	r0, r4
 5896              	.LVL663:
 450:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
 5897              		.loc 1 450 12 view .LVU1947
 5898 0054 FFF7FEFF 		bl	VL6180_RangeGetMeasurement
 5899              	.LVL664:
 5900 0058 0646     		mov	r6, r0
 5901              	.LVL665:
 450:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
 5902              		.loc 1 450 12 view .LVU1948
 5903 005a EFE7     		b	.L406
 5904              		.cfi_endproc
 5905              	.LFE11:
 5907              		.section	.text.VL6180_RangeGetMeasurementIfReady,"ax",%progbits
 5908              		.align	1
 5909              		.global	VL6180_RangeGetMeasurementIfReady
 5910              		.syntax unified
 5911              		.thumb
 5912              		.thumb_func
 5913              		.fpu fpv5-d16
 5915              	VL6180_RangeGetMeasurementIfReady:
 5916              	.LVL666:
 5917              	.LFB13:
 616:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
 5918              		.loc 1 616 1 is_stmt 1 view -0
 5919              		.cfi_startproc
 5920              		@ args = 0, pretend = 0, frame = 8
 5921              		@ frame_needed = 0, uses_anonymous_args = 0
 616:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status;
 5922              		.loc 1 616 1 is_stmt 0 view .LVU1950
 5923 0000 30B5     		push	{r4, r5, lr}
 5924              	.LCFI96:
 5925              		.cfi_def_cfa_offset 12
 5926              		.cfi_offset 4, -12
 5927              		.cfi_offset 5, -8
 5928              		.cfi_offset 14, -4
 5929 0002 83B0     		sub	sp, sp, #12
 5930              	.LCFI97:
 5931              		.cfi_def_cfa_offset 24
 5932 0004 0546     		mov	r5, r0
 5933 0006 0C46     		mov	r4, r1
 617:dev/BSP/Components/vl6180/vl6180_api.c **** 	IntrStatus_t IntStatus;
 5934              		.loc 1 617 2 is_stmt 1 view .LVU1951
 618:dev/BSP/Components/vl6180/vl6180_api.c **** 
 5935              		.loc 1 618 2 view .LVU1952
 620:dev/BSP/Components/vl6180/vl6180_api.c **** 	status = VL6180_RangeGetInterruptStatus(dev, &IntStatus.val);
 5936              		.loc 1 620 2 view .LVU1953
 621:dev/BSP/Components/vl6180/vl6180_api.c **** 	if (status == 0) {
 5937              		.loc 1 621 2 view .LVU1954
 621:dev/BSP/Components/vl6180/vl6180_api.c **** 	if (status == 0) {
 5938              		.loc 1 621 11 is_stmt 0 view .LVU1955
 5939 0008 01A9     		add	r1, sp, #4
 5940              	.LVL667:
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 176


 621:dev/BSP/Components/vl6180/vl6180_api.c **** 	if (status == 0) {
 5941              		.loc 1 621 11 view .LVU1956
 5942 000a FFF7FEFF 		bl	VL6180_RangeGetInterruptStatus
 5943              	.LVL668:
 622:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (IntStatus.status.Range == RES_INT_STAT_GPIO_NEW_SAMPLE_READY ||
 5944              		.loc 1 622 2 is_stmt 1 view .LVU1957
 622:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (IntStatus.status.Range == RES_INT_STAT_GPIO_NEW_SAMPLE_READY ||
 5945              		.loc 1 622 5 is_stmt 0 view .LVU1958
 5946 000e 68B9     		cbnz	r0, .L411
 623:dev/BSP/Components/vl6180/vl6180_api.c **** 			IntStatus.status.Error != 0) {
 5947              		.loc 1 623 3 is_stmt 1 view .LVU1959
 623:dev/BSP/Components/vl6180/vl6180_api.c **** 			IntStatus.status.Error != 0) {
 5948              		.loc 1 623 30 is_stmt 0 view .LVU1960
 5949 0010 9DF80430 		ldrb	r3, [sp, #4]	@ zero_extendqisi2
 5950 0014 03F00702 		and	r2, r3, #7
 623:dev/BSP/Components/vl6180/vl6180_api.c **** 			IntStatus.status.Error != 0) {
 5951              		.loc 1 623 6 view .LVU1961
 5952 0018 042A     		cmp	r2, #4
 5953 001a 02D0     		beq	.L413
 623:dev/BSP/Components/vl6180/vl6180_api.c **** 			IntStatus.status.Error != 0) {
 5954              		.loc 1 623 68 discriminator 1 view .LVU1962
 5955 001c 13F0180F 		tst	r3, #24
 5956 0020 0BD0     		beq	.L414
 5957              	.L413:
 625:dev/BSP/Components/vl6180/vl6180_api.c **** 			if (status == 0) {
 5958              		.loc 1 625 4 is_stmt 1 view .LVU1963
 625:dev/BSP/Components/vl6180/vl6180_api.c **** 			if (status == 0) {
 5959              		.loc 1 625 13 is_stmt 0 view .LVU1964
 5960 0022 2146     		mov	r1, r4
 5961 0024 2846     		mov	r0, r5
 5962 0026 FFF7FEFF 		bl	VL6180_RangeGetMeasurement
 5963              	.LVL669:
 626:dev/BSP/Components/vl6180/vl6180_api.c **** 				/*  clear range interrupt source */
 5964              		.loc 1 626 4 is_stmt 1 view .LVU1965
 626:dev/BSP/Components/vl6180/vl6180_api.c **** 				/*  clear range interrupt source */
 5965              		.loc 1 626 7 is_stmt 0 view .LVU1966
 5966 002a 08B1     		cbz	r0, .L416
 5967              	.LVL670:
 5968              	.L411:
 641:dev/BSP/Components/vl6180/vl6180_api.c **** 
 5969              		.loc 1 641 1 view .LVU1967
 5970 002c 03B0     		add	sp, sp, #12
 5971              	.LCFI98:
 5972              		.cfi_remember_state
 5973              		.cfi_def_cfa_offset 12
 5974              		@ sp needed
 5975 002e 30BD     		pop	{r4, r5, pc}
 5976              	.LVL671:
 5977              	.L416:
 5978              	.LCFI99:
 5979              		.cfi_restore_state
 628:dev/BSP/Components/vl6180/vl6180_api.c **** 				if (status) {
 5980              		.loc 1 628 5 is_stmt 1 view .LVU1968
 628:dev/BSP/Components/vl6180/vl6180_api.c **** 				if (status) {
 5981              		.loc 1 628 14 is_stmt 0 view .LVU1969
 5982 0030 0121     		movs	r1, #1
 5983 0032 2846     		mov	r0, r5
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 177


 5984              	.LVL672:
 628:dev/BSP/Components/vl6180/vl6180_api.c **** 				if (status) {
 5985              		.loc 1 628 14 view .LVU1970
 5986 0034 FFF7FEFF 		bl	VL6180_ClearInterrupt
 5987              	.LVL673:
 629:dev/BSP/Components/vl6180/vl6180_api.c **** 					VL6180_ErrLog("VL6180_RangeClearInterrupt fail");
 5988              		.loc 1 629 5 is_stmt 1 view .LVU1971
 5989 0038 F8E7     		b	.L411
 5990              	.LVL674:
 5991              	.L414:
 634:dev/BSP/Components/vl6180/vl6180_api.c **** 		}
 5992              		.loc 1 634 4 view .LVU1972
 634:dev/BSP/Components/vl6180/vl6180_api.c **** 		}
 5993              		.loc 1 634 28 is_stmt 0 view .LVU1973
 5994 003a 1223     		movs	r3, #18
 5995 003c A360     		str	r3, [r4, #8]
 5996              	.LVL675:
 637:dev/BSP/Components/vl6180/vl6180_api.c **** 	}
 5997              		.loc 1 637 3 is_stmt 1 view .LVU1974
 639:dev/BSP/Components/vl6180/vl6180_api.c **** 	return status;
 5998              		.loc 1 639 2 view .LVU1975
 640:dev/BSP/Components/vl6180/vl6180_api.c **** }
 5999              		.loc 1 640 2 view .LVU1976
 640:dev/BSP/Components/vl6180/vl6180_api.c **** }
 6000              		.loc 1 640 9 is_stmt 0 view .LVU1977
 6001 003e F5E7     		b	.L411
 6002              		.cfi_endproc
 6003              	.LFE13:
 6005              		.section	.text._DMax_OneTimeInit,"ax",%progbits
 6006              		.align	1
 6007              		.global	_DMax_OneTimeInit
 6008              		.syntax unified
 6009              		.thumb
 6010              		.thumb_func
 6011              		.fpu fpv5-d16
 6013              	_DMax_OneTimeInit:
 6014              	.LVL676:
 6015              	.LFB57:
2259:dev/BSP/Components/vl6180/vl6180_api.c **** 	_DMaxData(ambTuningWindowFactor_K) = DEF_AMBIENT_TUNING;
 6016              		.loc 1 2259 1 is_stmt 1 view -0
 6017              		.cfi_startproc
 6018              		@ args = 0, pretend = 0, frame = 0
 6019              		@ frame_needed = 0, uses_anonymous_args = 0
 6020              		@ link register save eliminated.
2260:dev/BSP/Components/vl6180/vl6180_api.c **** }
 6021              		.loc 1 2260 2 view .LVU1979
2260:dev/BSP/Components/vl6180/vl6180_api.c **** }
 6022              		.loc 1 2260 37 is_stmt 0 view .LVU1980
 6023 0000 5023     		movs	r3, #80
 6024 0002 8367     		str	r3, [r0, #120]
2261:dev/BSP/Components/vl6180/vl6180_api.c **** 
 6025              		.loc 1 2261 1 view .LVU1981
 6026 0004 7047     		bx	lr
 6027              		.cfi_endproc
 6028              	.LFE57:
 6030              		.section	.text.VL6180_InitData,"ax",%progbits
 6031              		.align	1
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 178


 6032              		.global	VL6180_InitData
 6033              		.syntax unified
 6034              		.thumb
 6035              		.thumb_func
 6036              		.fpu fpv5-d16
 6038              	VL6180_InitData:
 6039              	.LVL677:
 6040              	.LFB2:
 188:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status, dmax_status ;
 6041              		.loc 1 188 1 is_stmt 1 view -0
 6042              		.cfi_startproc
 6043              		@ args = 0, pretend = 0, frame = 16
 6044              		@ frame_needed = 0, uses_anonymous_args = 0
 188:dev/BSP/Components/vl6180/vl6180_api.c **** 	int status, dmax_status ;
 6045              		.loc 1 188 1 is_stmt 0 view .LVU1983
 6046 0000 70B5     		push	{r4, r5, r6, lr}
 6047              	.LCFI100:
 6048              		.cfi_def_cfa_offset 16
 6049              		.cfi_offset 4, -16
 6050              		.cfi_offset 5, -12
 6051              		.cfi_offset 6, -8
 6052              		.cfi_offset 14, -4
 6053 0002 84B0     		sub	sp, sp, #16
 6054              	.LCFI101:
 6055              		.cfi_def_cfa_offset 32
 6056 0004 0446     		mov	r4, r0
 189:dev/BSP/Components/vl6180/vl6180_api.c **** 	int8_t offset;
 6057              		.loc 1 189 2 is_stmt 1 view .LVU1984
 190:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint8_t FreshOutReset;
 6058              		.loc 1 190 2 view .LVU1985
 191:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint32_t CalValue;
 6059              		.loc 1 191 2 view .LVU1986
 192:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint16_t u16;
 6060              		.loc 1 192 2 view .LVU1987
 193:dev/BSP/Components/vl6180/vl6180_api.c **** 	uint32_t XTalkCompRate_KCps;
 6061              		.loc 1 193 2 view .LVU1988
 194:dev/BSP/Components/vl6180/vl6180_api.c **** 
 6062              		.loc 1 194 2 view .LVU1989
 196:dev/BSP/Components/vl6180/vl6180_api.c **** 
 6063              		.loc 1 196 2 view .LVU1990
 198:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180DevDataSet(dev, EceFactorD, DEF_ECE_FACTOR_D);
 6064              		.loc 1 198 2 view .LVU1991
 6065 0006 5523     		movs	r3, #85
 6066 0008 0381     		strh	r3, [r0, #8]	@ movhi
 199:dev/BSP/Components/vl6180/vl6180_api.c **** 
 6067              		.loc 1 199 2 view .LVU1992
 6068 000a 6423     		movs	r3, #100
 6069 000c 4381     		strh	r3, [r0, #10]	@ movhi
 201:dev/BSP/Components/vl6180/vl6180_api.c **** 
 6070              		.loc 1 201 2 view .LVU1993
 6071 000e 0023     		movs	r3, #0
 6072 0010 0374     		strb	r3, [r0, #16]
 204:dev/BSP/Components/vl6180/vl6180_api.c **** #endif
 6073              		.loc 1 204 2 view .LVU1994
 6074 0012 0323     		movs	r3, #3
 6075 0014 8374     		strb	r3, [r0, #18]
 208:dev/BSP/Components/vl6180/vl6180_api.c **** 	VL6180DevDataSet(dev, DMaxEnable, DEF_DMAX_ENABLE);
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 179


 6076              		.loc 1 208 2 view .LVU1995
 6077 0016 0123     		movs	r3, #1
 6078 0018 C374     		strb	r3, [r0, #19]
 209:dev/BSP/Components/vl6180/vl6180_api.c **** #endif
 6079              		.loc 1 209 2 view .LVU1996
 6080 001a 80F88830 		strb	r3, [r0, #136]
 212:dev/BSP/Components/vl6180/vl6180_api.c **** 	do {
 6081              		.loc 1 212 2 view .LVU1997
 6082 001e FFF7FEFF 		bl	_DMax_OneTimeInit
 6083              	.LVL678:
 213:dev/BSP/Components/vl6180/vl6180_api.c **** 
 6084              		.loc 1 213 2 view .LVU1998
 216:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (status) {
 6085              		.loc 1 216 3 view .LVU1999
 216:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (status) {
 6086              		.loc 1 216 12 is_stmt 0 view .LVU2000
 6087 0022 0DF10F02 		add	r2, sp, #15
 6088 0026 2421     		movs	r1, #36
 6089 0028 2046     		mov	r0, r4
 6090 002a FFF7FEFF 		bl	VL6180_RdByte
 6091              	.LVL679:
 217:dev/BSP/Components/vl6180/vl6180_api.c **** 			VL6180_ErrLog("SYSRANGE_PART_TO_PART_RANGE_OFFSET rd fail");
 6092              		.loc 1 217 3 is_stmt 1 view .LVU2001
 217:dev/BSP/Components/vl6180/vl6180_api.c **** 			VL6180_ErrLog("SYSRANGE_PART_TO_PART_RANGE_OFFSET rd fail");
 6093              		.loc 1 217 6 is_stmt 0 view .LVU2002
 6094 002e 0546     		mov	r5, r0
 6095 0030 10B1     		cbz	r0, .L424
 6096              	.LVL680:
 6097              	.L418:
 260:dev/BSP/Components/vl6180/vl6180_api.c **** 
 6098              		.loc 1 260 1 view .LVU2003
 6099 0032 2846     		mov	r0, r5
 6100 0034 04B0     		add	sp, sp, #16
 6101              	.LCFI102:
 6102              		.cfi_remember_state
 6103              		.cfi_def_cfa_offset 16
 6104              		@ sp needed
 6105 0036 70BD     		pop	{r4, r5, r6, pc}
 6106              	.LVL681:
 6107              	.L424:
 6108              	.LCFI103:
 6109              		.cfi_restore_state
 221:dev/BSP/Components/vl6180/vl6180_api.c **** 
 6110              		.loc 1 221 3 is_stmt 1 view .LVU2004
 6111 0038 9DF80F30 		ldrb	r3, [sp, #15]	@ zero_extendqisi2
 6112 003c 84F88930 		strb	r3, [r4, #137]
 223:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (status) {
 6113              		.loc 1 223 3 view .LVU2005
 223:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (status) {
 6114              		.loc 1 223 12 is_stmt 0 view .LVU2006
 6115 0040 02AA     		add	r2, sp, #8
 6116 0042 2621     		movs	r1, #38
 6117 0044 2046     		mov	r0, r4
 6118              	.LVL682:
 223:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (status) {
 6119              		.loc 1 223 12 view .LVU2007
 6120 0046 FFF7FEFF 		bl	VL6180_RdDWord
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 180


 6121              	.LVL683:
 224:dev/BSP/Components/vl6180/vl6180_api.c **** 			VL6180_ErrLog("Part2PartAmbNVM rd fail");
 6122              		.loc 1 224 3 is_stmt 1 view .LVU2008
 224:dev/BSP/Components/vl6180/vl6180_api.c **** 			VL6180_ErrLog("Part2PartAmbNVM rd fail");
 6123              		.loc 1 224 6 is_stmt 0 view .LVU2009
 6124 004a 0546     		mov	r5, r0
 6125 004c 0028     		cmp	r0, #0
 6126 004e F0D1     		bne	.L418
 228:dev/BSP/Components/vl6180/vl6180_api.c **** 			CalValue = 0x00CE03F8;
 6127              		.loc 1 228 3 is_stmt 1 view .LVU2010
 228:dev/BSP/Components/vl6180/vl6180_api.c **** 			CalValue = 0x00CE03F8;
 6128              		.loc 1 228 16 is_stmt 0 view .LVU2011
 6129 0050 184B     		ldr	r3, .L426
 6130 0052 029A     		ldr	r2, [sp, #8]
 6131 0054 1340     		ands	r3, r3, r2
 228:dev/BSP/Components/vl6180/vl6180_api.c **** 			CalValue = 0x00CE03F8;
 6132              		.loc 1 228 6 view .LVU2012
 6133 0056 0BB9     		cbnz	r3, .L420
 229:dev/BSP/Components/vl6180/vl6180_api.c **** 		}
 6134              		.loc 1 229 4 is_stmt 1 view .LVU2013
 229:dev/BSP/Components/vl6180/vl6180_api.c **** 		}
 6135              		.loc 1 229 13 is_stmt 0 view .LVU2014
 6136 0058 174B     		ldr	r3, .L426+4
 6137 005a 0293     		str	r3, [sp, #8]
 6138              	.L420:
 231:dev/BSP/Components/vl6180/vl6180_api.c **** 
 6139              		.loc 1 231 3 is_stmt 1 view .LVU2015
 6140 005c 029B     		ldr	r3, [sp, #8]
 6141 005e 2360     		str	r3, [r4]
 233:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (status) {
 6142              		.loc 1 233 3 view .LVU2016
 233:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (status) {
 6143              		.loc 1 233 12 is_stmt 0 view .LVU2017
 6144 0060 0DF10602 		add	r2, sp, #6
 6145 0064 1E21     		movs	r1, #30
 6146 0066 2046     		mov	r0, r4
 6147              	.LVL684:
 233:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (status) {
 6148              		.loc 1 233 12 view .LVU2018
 6149 0068 FFF7FEFF 		bl	VL6180_RdWord
 6150              	.LVL685:
 234:dev/BSP/Components/vl6180/vl6180_api.c **** 			VL6180_ErrLog("SYSRANGE_CROSSTALK_COMPENSATION_RATE rd fail ");
 6151              		.loc 1 234 3 is_stmt 1 view .LVU2019
 234:dev/BSP/Components/vl6180/vl6180_api.c **** 			VL6180_ErrLog("SYSRANGE_CROSSTALK_COMPENSATION_RATE rd fail ");
 6152              		.loc 1 234 6 is_stmt 0 view .LVU2020
 6153 006c 0546     		mov	r5, r0
 6154 006e 0028     		cmp	r0, #0
 6155 0070 DFD1     		bne	.L418
 238:dev/BSP/Components/vl6180/vl6180_api.c **** 		VL6180DevDataSet(dev, XTalkCompRate_KCps, XTalkCompRate_KCps);
 6156              		.loc 1 238 3 is_stmt 1 view .LVU2021
 238:dev/BSP/Components/vl6180/vl6180_api.c **** 		VL6180DevDataSet(dev, XTalkCompRate_KCps, XTalkCompRate_KCps);
 6157              		.loc 1 238 24 is_stmt 0 view .LVU2022
 6158 0072 BDF80620 		ldrh	r2, [sp, #6]
 6159 0076 4FF47A73 		mov	r3, #1000
 6160 007a 03FB02F3 		mul	r3, r3, r2
 238:dev/BSP/Components/vl6180/vl6180_api.c **** 		VL6180DevDataSet(dev, XTalkCompRate_KCps, XTalkCompRate_KCps);
 6161              		.loc 1 238 22 view .LVU2023
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 181


 6162 007e DB09     		lsrs	r3, r3, #7
 6163              	.LVL686:
 239:dev/BSP/Components/vl6180/vl6180_api.c **** 
 6164              		.loc 1 239 3 is_stmt 1 view .LVU2024
 6165 0080 6360     		str	r3, [r4, #4]
 241:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (dmax_status < 0) {
 6166              		.loc 1 241 3 view .LVU2025
 241:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (dmax_status < 0) {
 6167              		.loc 1 241 17 is_stmt 0 view .LVU2026
 6168 0082 2046     		mov	r0, r4
 6169              	.LVL687:
 241:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (dmax_status < 0) {
 6170              		.loc 1 241 17 view .LVU2027
 6171 0084 FFF7FEFF 		bl	_DMax_InitData
 6172              	.LVL688:
 242:dev/BSP/Components/vl6180/vl6180_api.c **** 			VL6180_ErrLog("DMax init failure");
 6173              		.loc 1 242 3 is_stmt 1 view .LVU2028
 242:dev/BSP/Components/vl6180/vl6180_api.c **** 			VL6180_ErrLog("DMax init failure");
 6174              		.loc 1 242 6 is_stmt 0 view .LVU2029
 6175 0088 061E     		subs	r6, r0, #0
 6176 008a D2DB     		blt	.L418
 248:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (status) {
 6177              		.loc 1 248 3 is_stmt 1 view .LVU2030
 248:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (status) {
 6178              		.loc 1 248 12 is_stmt 0 view .LVU2031
 6179 008c 0DF10E02 		add	r2, sp, #14
 6180 0090 1621     		movs	r1, #22
 6181 0092 2046     		mov	r0, r4
 6182              	.LVL689:
 248:dev/BSP/Components/vl6180/vl6180_api.c **** 		if (status) {
 6183              		.loc 1 248 12 view .LVU2032
 6184 0094 FFF7FEFF 		bl	VL6180_RdByte
 6185              	.LVL690:
 249:dev/BSP/Components/vl6180/vl6180_api.c **** 			VL6180_ErrLog("SYSTEM_FRESH_OUT_OF_RESET rd fail");
 6186              		.loc 1 249 3 is_stmt 1 view .LVU2033
 249:dev/BSP/Components/vl6180/vl6180_api.c **** 			VL6180_ErrLog("SYSTEM_FRESH_OUT_OF_RESET rd fail");
 6187              		.loc 1 249 6 is_stmt 0 view .LVU2034
 6188 0098 0546     		mov	r5, r0
 6189 009a 0028     		cmp	r0, #0
 6190 009c C9D1     		bne	.L418
 253:dev/BSP/Components/vl6180/vl6180_api.c **** 			status = CALIBRATION_WARNING;
 6191              		.loc 1 253 3 is_stmt 1 view .LVU2035
 253:dev/BSP/Components/vl6180/vl6180_api.c **** 			status = CALIBRATION_WARNING;
 6192              		.loc 1 253 21 is_stmt 0 view .LVU2036
 6193 009e 9DF80E30 		ldrb	r3, [sp, #14]	@ zero_extendqisi2
 253:dev/BSP/Components/vl6180/vl6180_api.c **** 			status = CALIBRATION_WARNING;
 6194              		.loc 1 253 6 view .LVU2037
 6195 00a2 012B     		cmp	r3, #1
 6196 00a4 01D0     		beq	.L425
 254:dev/BSP/Components/vl6180/vl6180_api.c **** 
 6197              		.loc 1 254 11 view .LVU2038
 6198 00a6 0125     		movs	r5, #1
 6199 00a8 C3E7     		b	.L418
 6200              	.L425:
 253:dev/BSP/Components/vl6180/vl6180_api.c **** 			status = CALIBRATION_WARNING;
 6201              		.loc 1 253 26 discriminator 1 view .LVU2039
 6202 00aa 002E     		cmp	r6, #0
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 182


 6203 00ac C1D0     		beq	.L418
 254:dev/BSP/Components/vl6180/vl6180_api.c **** 
 6204              		.loc 1 254 11 view .LVU2040
 6205 00ae 0125     		movs	r5, #1
 6206              	.LVL691:
 256:dev/BSP/Components/vl6180/vl6180_api.c **** 
 6207              		.loc 1 256 10 is_stmt 1 view .LVU2041
 258:dev/BSP/Components/vl6180/vl6180_api.c **** 	return status;
 6208              		.loc 1 258 2 view .LVU2042
 259:dev/BSP/Components/vl6180/vl6180_api.c **** }
 6209              		.loc 1 259 2 view .LVU2043
 259:dev/BSP/Components/vl6180/vl6180_api.c **** }
 6210              		.loc 1 259 9 is_stmt 0 view .LVU2044
 6211 00b0 BFE7     		b	.L418
 6212              	.L427:
 6213 00b2 00BF     		.align	2
 6214              	.L426:
 6215 00b4 0000FFFF 		.word	-65536
 6216 00b8 F803CE00 		.word	13501432
 6217              		.cfi_endproc
 6218              	.LFE2:
 6220              		.global	VL6180_RangeStatusErrString
 6221              		.section	.rodata.str1.4,"aMS",%progbits,1
 6222              		.align	2
 6223              	.LC0:
 6224 0000 4E6F2045 		.ascii	"No Error\000"
 6224      72726F72 
 6224      00
 6225 0009 000000   		.align	2
 6226              	.LC1:
 6227 000c 56435345 		.ascii	"VCSEL Continuity Test\000"
 6227      4C20436F 
 6227      6E74696E 
 6227      75697479 
 6227      20546573 
 6228 0022 0000     		.align	2
 6229              	.LC2:
 6230 0024 56435345 		.ascii	"VCSEL Watchdog Test\000"
 6230      4C205761 
 6230      74636864 
 6230      6F672054 
 6230      65737400 
 6231              		.align	2
 6232              	.LC3:
 6233 0038 56435345 		.ascii	"VCSEL Watchdog\000"
 6233      4C205761 
 6233      74636864 
 6233      6F6700
 6234 0047 00       		.align	2
 6235              	.LC4:
 6236 0048 504C4C31 		.ascii	"PLL1 Lock\000"
 6236      204C6F63 
 6236      6B00
 6237 0052 0000     		.align	2
 6238              	.LC5:
 6239 0054 504C4C32 		.ascii	"PLL2 Lock\000"
 6239      204C6F63 
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 183


 6239      6B00
 6240 005e 0000     		.align	2
 6241              	.LC6:
 6242 0060 4561726C 		.ascii	"Early Convergence Estimate\000"
 6242      7920436F 
 6242      6E766572 
 6242      67656E63 
 6242      65204573 
 6243 007b 00       		.align	2
 6244              	.LC7:
 6245 007c 4D617820 		.ascii	"Max Convergence\000"
 6245      436F6E76 
 6245      65726765 
 6245      6E636500 
 6246              		.align	2
 6247              	.LC8:
 6248 008c 4E6F2054 		.ascii	"No Target Ignore\000"
 6248      61726765 
 6248      74204967 
 6248      6E6F7265 
 6248      00
 6249 009d 000000   		.align	2
 6250              	.LC9:
 6251 00a0 4E6F7420 		.ascii	"Not used 9\000"
 6251      75736564 
 6251      203900
 6252 00ab 00       		.align	2
 6253              	.LC10:
 6254 00ac 4E6F7420 		.ascii	"Not used 10\000"
 6254      75736564 
 6254      20313000 
 6255              		.align	2
 6256              	.LC11:
 6257 00b8 4D617820 		.ascii	"Max Signal To Noise Ratio\000"
 6257      5369676E 
 6257      616C2054 
 6257      6F204E6F 
 6257      69736520 
 6258 00d2 0000     		.align	2
 6259              	.LC12:
 6260 00d4 52617720 		.ascii	"Raw Ranging Algo Underflow\000"
 6260      52616E67 
 6260      696E6720 
 6260      416C676F 
 6260      20556E64 
 6261 00ef 00       		.align	2
 6262              	.LC13:
 6263 00f0 52617720 		.ascii	"Raw Ranging Algo Overflow\000"
 6263      52616E67 
 6263      696E6720 
 6263      416C676F 
 6263      204F7665 
 6264 010a 0000     		.align	2
 6265              	.LC14:
 6266 010c 52616E67 		.ascii	"Ranging Algo Underflow\000"
 6266      696E6720 
 6266      416C676F 
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 184


 6266      20556E64 
 6266      6572666C 
 6267 0123 00       		.align	2
 6268              	.LC15:
 6269 0124 52616E67 		.ascii	"Ranging Algo Overflow\000"
 6269      696E6720 
 6269      416C676F 
 6269      204F7665 
 6269      72666C6F 
 6270 013a 0000     		.align	2
 6271              	.LC16:
 6272 013c 46696C74 		.ascii	"Filtered by post processing (WAF)\000"
 6272      65726564 
 6272      20627920 
 6272      706F7374 
 6272      2070726F 
 6273 015e 0000     		.align	2
 6274              	.LC17:
 6275 0160 52616E67 		.ascii	"Ranging filtering (WAF) on-going\000"
 6275      696E6720 
 6275      66696C74 
 6275      6572696E 
 6275      67202857 
 6276 0181 000000   		.align	2
 6277              	.LC18:
 6278 0184 44617461 		.ascii	"Data not ready\000"
 6278      206E6F74 
 6278      20726561 
 6278      647900
 6279              		.section	.data.VL6180_RangeStatusErrString,"aw"
 6280              		.align	2
 6281              		.set	.LANCHOR0,. + 0
 6284              	VL6180_RangeStatusErrString:
 6285 0000 00000000 		.word	.LC0
 6286 0004 0C000000 		.word	.LC1
 6287 0008 24000000 		.word	.LC2
 6288 000c 38000000 		.word	.LC3
 6289 0010 48000000 		.word	.LC4
 6290 0014 54000000 		.word	.LC5
 6291 0018 60000000 		.word	.LC6
 6292 001c 7C000000 		.word	.LC7
 6293 0020 8C000000 		.word	.LC8
 6294 0024 A0000000 		.word	.LC9
 6295 0028 AC000000 		.word	.LC10
 6296 002c B8000000 		.word	.LC11
 6297 0030 D4000000 		.word	.LC12
 6298 0034 F0000000 		.word	.LC13
 6299 0038 0C010000 		.word	.LC14
 6300 003c 24010000 		.word	.LC15
 6301 0040 3C010000 		.word	.LC16
 6302 0044 60010000 		.word	.LC17
 6303 0048 84010000 		.word	.LC18
 6304              		.section	.rodata.ScalerLookUP,"a"
 6305              		.align	2
 6306              		.set	.LANCHOR2,. + 0
 6309              	ScalerLookUP:
 6310 0000 FD00     		.short	253
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 185


 6311 0002 7F00     		.short	127
 6312 0004 5400     		.short	84
 6313              		.section	.rodata.UpperLimitLookUP,"a"
 6314              		.align	2
 6315              		.set	.LANCHOR1,. + 0
 6318              	UpperLimitLookUP:
 6319 0000 B900     		.short	185
 6320 0002 7201     		.short	370
 6321 0004 4402     		.short	580
 6322              		.text
 6323              	.Letext0:
 6324              		.file 2 "c:\\program files (x86)\\gnu arm embedded toolchain\\9 2020-q2-update\\arm-none-eabi\\inc
 6325              		.file 3 "c:\\program files (x86)\\gnu arm embedded toolchain\\9 2020-q2-update\\arm-none-eabi\\inc
 6326              		.file 4 "dev/BSP/Components/vl6180/vl6180_def.h"
 6327              		.file 5 "user/Inc/vl6180_platform.h"
 6328              		.file 6 "dev/BSP/Components/vl6180/vl6180_api.h"
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 186


DEFINED SYMBOLS
                            *ABS*:00000000 vl6180_api.c
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:17     .text._filter_Init:00000000 $t
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:24     .text._filter_Init:00000000 _filter_Init
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:98     .text._filter_StdDevDamper:00000000 $t
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:104    .text._filter_StdDevDamper:00000000 _filter_StdDevDamper
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:195    .text._GetAveTotalTime:00000000 $t
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:201    .text._GetAveTotalTime:00000000 _GetAveTotalTime
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:307    .text._GetRateResult:00000000 $t
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:313    .text._GetRateResult:00000000 _GetRateResult
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:487    .text._filter_Start:00000000 $t
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:493    .text._filter_Start:00000000 _filter_Start
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:605    .text._filter_Start:00000024 $d
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:609    .text._filter_Start:00000028 $t
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:1826   .text._filter_Start:0000053c $d
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:1832   .text._filter_GetResult:00000000 $t
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:1838   .text._filter_GetResult:00000000 _filter_GetResult
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:1947   .text.VL6180_RangeSetEarlyConvergenceEestimateThreshold:00000000 $t
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:1953   .text.VL6180_RangeSetEarlyConvergenceEestimateThreshold:00000000 VL6180_RangeSetEarlyConvergenceEestimateThreshold
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:2092   .text._UpscaleInitPatch0:00000000 $t
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:2098   .text._UpscaleInitPatch0:00000000 _UpscaleInitPatch0
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:2128   .text.VL6180_RangeGetStatusErrString:00000000 $t
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:2135   .text.VL6180_RangeGetStatusErrString:00000000 VL6180_RangeGetStatusErrString
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:2164   .text.VL6180_RangeGetStatusErrString:00000010 $d
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:2169   .text.VL6180_WaitDeviceBooted:00000000 $t
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:2176   .text.VL6180_WaitDeviceBooted:00000000 VL6180_WaitDeviceBooted
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:2227   .text.VL6180_GetOffsetCalibrationData:00000000 $t
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:2234   .text.VL6180_GetOffsetCalibrationData:00000000 VL6180_GetOffsetCalibrationData
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:2256   .text.VL6180_SetOffsetCalibrationData:00000000 $t
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:2263   .text.VL6180_SetOffsetCalibrationData:00000000 VL6180_SetOffsetCalibrationData
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:2301   .text.VL6180_SetI2CAddress:00000000 $t
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:2308   .text.VL6180_SetI2CAddress:00000000 VL6180_SetI2CAddress
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:2341   .text.VL6180_GetUpperLimit:00000000 $t
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:2348   .text.VL6180_GetUpperLimit:00000000 VL6180_GetUpperLimit
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:2378   .text.VL6180_GetUpperLimit:0000000c $d
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:2383   .text.VL6180_SetGroupParamHold:00000000 $t
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:2390   .text.VL6180_SetGroupParamHold:00000000 VL6180_SetGroupParamHold
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:2433   .text.VL6180_FilterSetState:00000000 $t
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:2440   .text.VL6180_FilterSetState:00000000 VL6180_FilterSetState
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:2465   .text.VL6180_FilterGetState:00000000 $t
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:2472   .text.VL6180_FilterGetState:00000000 VL6180_FilterGetState
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:2494   .text.VL6180_RangeGetResult:00000000 $t
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:2501   .text.VL6180_RangeGetResult:00000000 VL6180_RangeGetResult
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:2562   .text.VL6180_RangeSetRawThresholds:00000000 $t
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:2569   .text.VL6180_RangeSetRawThresholds:00000000 VL6180_RangeSetRawThresholds
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:2618   .text.VL6180_RangeSetThresholds:00000000 $t
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:2625   .text.VL6180_RangeSetThresholds:00000000 VL6180_RangeSetThresholds
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:2746   .text.VL6180_RangeGetThresholds:00000000 $t
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:2753   .text.VL6180_RangeGetThresholds:00000000 VL6180_RangeGetThresholds
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:2850   .text.VL6180_RangeGetInterruptStatus:00000000 $t
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:2857   .text.VL6180_RangeGetInterruptStatus:00000000 VL6180_RangeGetInterruptStatus
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:2904   .text.VL6180_GetInterruptStatus:00000000 $t
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:2911   .text.VL6180_GetInterruptStatus:00000000 VL6180_GetInterruptStatus
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:2942   .text.VL6180_ClearInterrupt:00000000 $t
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:2949   .text.VL6180_ClearInterrupt:00000000 VL6180_ClearInterrupt
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:2995   .text.VL6180_UpscaleGetScaling:00000000 $t
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:3002   .text.VL6180_UpscaleGetScaling:00000000 VL6180_UpscaleGetScaling
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 187


C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:3024   .text.VL6180_SetGPIOxPolarity:00000000 $t
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:3031   .text.VL6180_SetGPIOxPolarity:00000000 VL6180_SetGPIOxPolarity
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:3110   .text.VL6180_SetGPIOxFunctionality:00000000 $t
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:3117   .text.VL6180_SetGPIOxFunctionality:00000000 VL6180_SetGPIOxFunctionality
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:3198   .text.VL6180_SetupGPIOx:00000000 $t
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:3205   .text.VL6180_SetupGPIOx:00000000 VL6180_SetupGPIOx
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:3297   .text.VL6180_DisableGPIOxOut:00000000 $t
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:3304   .text.VL6180_DisableGPIOxOut:00000000 VL6180_DisableGPIOxOut
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:3332   .text.VL6180_SetupGPIO1:00000000 $t
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:3339   .text.VL6180_SetupGPIO1:00000000 VL6180_SetupGPIO1
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:3373   .text.VL6180_RangeConfigInterrupt:00000000 $t
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:3380   .text.VL6180_RangeConfigInterrupt:00000000 VL6180_RangeConfigInterrupt
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:3426   .text.VL6180_RangeSetEceState:00000000 $t
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:3433   .text.VL6180_RangeSetEceState:00000000 VL6180_RangeSetEceState
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:3477   .text.VL6180_UpscaleSetScaling:00000000 $t
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:3484   .text.VL6180_UpscaleSetScaling:00000000 VL6180_UpscaleSetScaling
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:3650   .text.VL6180_UpscaleSetScaling:0000008c $d
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:3655   .text.VL6180_RangeSetInterMeasPeriod:00000000 $t
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:3662   .text.VL6180_RangeSetInterMeasPeriod:00000000 VL6180_RangeSetInterMeasPeriod
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:3739   .text.VL6180_RangeSetInterMeasPeriod:00000034 $d
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:3744   .text.VL6180_RangeGetDeviceReady:00000000 $t
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:3751   .text.VL6180_RangeGetDeviceReady:00000000 VL6180_RangeGetDeviceReady
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:3802   .text.VL6180_RangeWaitDeviceReady:00000000 $t
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:3809   .text.VL6180_RangeWaitDeviceReady:00000000 VL6180_RangeWaitDeviceReady
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:3915   .text.VL6180_RangeSetSystemMode:00000000 $t
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:3922   .text.VL6180_RangeSetSystemMode:00000000 VL6180_RangeSetSystemMode
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:3970   .text.VL6180_RangeStartContinuousMode:00000000 $t
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:3977   .text.VL6180_RangeStartContinuousMode:00000000 VL6180_RangeStartContinuousMode
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:4005   .text.VL6180_RangeStartSingleShot:00000000 $t
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:4012   .text.VL6180_RangeStartSingleShot:00000000 VL6180_RangeStartSingleShot
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:4040   .text.VL6180_DMaxGetState:00000000 $t
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:4047   .text.VL6180_DMaxGetState:00000000 VL6180_DMaxGetState
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:4069   .text.VL6180_SqrtUint32:00000000 $t
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:4076   .text.VL6180_SqrtUint32:00000000 VL6180_SqrtUint32
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:4146   .text._DMax_RawValueAtRateKCps:00000000 $t
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:4152   .text._DMax_RawValueAtRateKCps:00000000 _DMax_RawValueAtRateKCps
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:4255   .text._DMax_RawValueAtRateKCps:00000048 $d
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:4260   .text._DMax_InitData:00000000 $t
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:4266   .text._DMax_InitData:00000000 _DMax_InitData
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:4528   .text.VL6180_SetXTalkCompensationRate:00000000 $t
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:4535   .text.VL6180_SetXTalkCompensationRate:00000000 VL6180_SetXTalkCompensationRate
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:4596   .text.VL6180_RangeSetMaxConvergenceTime:00000000 $t
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:4603   .text.VL6180_RangeSetMaxConvergenceTime:00000000 VL6180_RangeSetMaxConvergenceTime
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:4662   .text.VL6180_UpscaleRegInit:00000000 $t
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:4669   .text.VL6180_UpscaleRegInit:00000000 VL6180_UpscaleRegInit
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:4922   .text.VL6180_UpscaleStaticInit:00000000 $t
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:4928   .text.VL6180_UpscaleStaticInit:00000000 VL6180_UpscaleStaticInit
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:4990   .text.VL6180_StaticInit:00000000 $t
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:4997   .text.VL6180_StaticInit:00000000 VL6180_StaticInit
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:5041   .text.VL6180_Prepare:00000000 $t
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:5048   .text.VL6180_Prepare:00000000 VL6180_Prepare
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:5125   .text.VL6180_RangeSetEceFactor:00000000 $t
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:5132   .text.VL6180_RangeSetEceFactor:00000000 VL6180_RangeSetEceFactor
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:5221   .text._RangeIgnore_UpdateDevice:00000000 $t
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:5227   .text._RangeIgnore_UpdateDevice:00000000 _RangeIgnore_UpdateDevice
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:5342   .text.VL6180_RangeIgnoreSetEnable:00000000 $t
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:5349   .text.VL6180_RangeIgnoreSetEnable:00000000 VL6180_RangeIgnoreSetEnable
ARM GAS  C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s 			page 188


C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:5404   .text.VL6180_RangeIgnoreConfigure:00000000 $t
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:5411   .text.VL6180_RangeIgnoreConfigure:00000000 VL6180_RangeIgnoreConfigure
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:5458   .text.VL6180_DMaxSetState:00000000 $t
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:5465   .text.VL6180_DMaxSetState:00000000 VL6180_DMaxSetState
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:5509   .text._DMax_Compute:00000000 $t
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:5515   .text._DMax_Compute:00000000 _DMax_Compute
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:5604   .text._DMax_Compute:0000003c $d
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:5610   .text.VL6180_RangeGetMeasurement:00000000 $t
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:5617   .text.VL6180_RangeGetMeasurement:00000000 VL6180_RangeGetMeasurement
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:5777   .text.VL6180_RangePollMeasurement:00000000 $t
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:5784   .text.VL6180_RangePollMeasurement:00000000 VL6180_RangePollMeasurement
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:5908   .text.VL6180_RangeGetMeasurementIfReady:00000000 $t
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:5915   .text.VL6180_RangeGetMeasurementIfReady:00000000 VL6180_RangeGetMeasurementIfReady
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:6006   .text._DMax_OneTimeInit:00000000 $t
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:6013   .text._DMax_OneTimeInit:00000000 _DMax_OneTimeInit
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:6031   .text.VL6180_InitData:00000000 $t
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:6038   .text.VL6180_InitData:00000000 VL6180_InitData
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:6215   .text.VL6180_InitData:000000b4 $d
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:6284   .data.VL6180_RangeStatusErrString:00000000 VL6180_RangeStatusErrString
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:6222   .rodata.str1.4:00000000 $d
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:6280   .data.VL6180_RangeStatusErrString:00000000 $d
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:6305   .rodata.ScalerLookUP:00000000 $d
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:6309   .rodata.ScalerLookUP:00000000 ScalerLookUP
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:6314   .rodata.UpperLimitLookUP:00000000 $d
C:\Users\BIGBIG~1\AppData\Local\Temp\ccw2GQwB.s:6318   .rodata.UpperLimitLookUP:00000000 UpperLimitLookUP

UNDEFINED SYMBOLS
VL6180_RdByte
VL6180_RdDWord
VL6180_WrByte
VL6180_WrWord
VL6180_WrDWord
VL6180_UpdateByte
VL6180_RdWord
DISP_ExecLoopBody
